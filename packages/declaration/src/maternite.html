---
layout: tunnel
title: "Pourcentage de salariées ayant bénéficié d'une augmentation dans l'année suivant leur retour de congé maternité"
---

<h1>{{ page.title }}</h1>

<fieldset>
  <div class=row>
    <div>
      {% include radios.html
        name="_indicateurs.congés_maternité.calculable"
        label="L'indicateur est-il calculable ?"
        required="true"
        options="oui=oui&non=non"
        onchange="toggleFields()"
        required="required" %}
    </div>
  </div>
</fieldset>

<fieldset id="fieldset-resultat">
  <div class=row>{% include input.html type="number" name="indicateurs.congés_maternité.résultat" label="Résultat final en %" min=0 max=100 step="any" required="true" onblur="refreshForm(event)" %}</div>
</fieldset>

<fieldset id="fieldset-motif">
  <div class=row>
    {% include select.html
      name="indicateurs.congés_maternité.non_calculable"
      label="Précision du motif de non calculabilité de l'indicateur"
      empty="true"
      required=true
      options="absrcm=Absence de retours de congé de maternité&absaugpdtcm=Absence d'augmentations pendant ce congé"
    %}
  </div>
</fieldset>

<fieldset id="fieldset-note" class=note>
  <div class=row>{% include input.html type="number" name="indicateurs.congés_maternité.note" label="Nombre de points obtenus à l'indicateur" min=0 max=15 type="number" readonly=true data-always-readonly=true %}</div>
</fieldset>

<script>
  const calculableField = selectField('_indicateurs.congés_maternité.calculable')

  document.onready = () => {
    if (app.getItem('indicateurs.congés_maternité')) {
      // We did already submit this current form, so we can infer the
      // "_indicateurs.promotions.calculable" data.
      if (!app.data._indicateurs) app.data._indicateurs = {}
      app.data._indicateurs.congés_maternité = {calculable: app.data.indicateurs.congés_maternité.non_calculable ? "non" : "oui"}
    }
  }

  function toggleFields() {
    const isCalculableChosen = calculableField.querySelector(':checked')
    const isCalculable = isCalculableChosen && calculableField.querySelector(':checked').value === 'oui'
    enableField('#fieldset-resultat', isCalculable)
    enableField('#fieldset-motif', isCalculableChosen && !isCalculable)
    enableField('#fieldset-note', isCalculable)
  }

  document.onloaded = () => {
    toggleFields()
  }
</script>
