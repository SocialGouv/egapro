{"version":3,"sources":["globals.ts","theme/tokens.ts","theme/globals.ts","theme/components.ts","theme/index.ts","utils/mapEnum.tsx","utils/merge.js","AppReducer.tsx","utils/globalStyles.tsx","components/GridContext.tsx","components/ds/Icons.tsx","utils/api.js","components/AuthContext.tsx","components/ButtonLink.tsx","components/ds/MenuProfile.tsx","components/ds/Logo.tsx","components/Header.tsx","components/Page.tsx","utils/hooks.tsx","views/CGU.tsx","utils/formHelpers.tsx","components/RegionsDepartements.tsx","utils/helpers.tsx","components/ButtonAction.tsx","components/ErrorMessage.tsx","components/ButtonLinkNoRouter.tsx","components/ds/Card.tsx","views/Home.tsx","views/MentionsLegales.tsx","views/PolitiqueConfidentialite.tsx","components/ActionBar.tsx","views/PageNotFound.tsx","utils/user.ts","components/ActivityIndicator.tsx","utils/calculsEgaPro.tsx","utils/calculsEgaProIndicateurUn.tsx","utils/calculsEgaProIndicateurDeux.tsx","utils/calculsEgaProIndicateurTrois.tsx","utils/totalNombreSalaries.tsx","utils/calculsEgaProIndicateurDeuxTrois.tsx","utils/calculsEgaProIndicateurQuatre.tsx","utils/calculsEgaProIndicateurCinq.tsx","utils/calculsEgaProIndex.tsx","components/ds/InfoBlock.tsx","components/LayoutFormAndResult.tsx","components/ActionLink.tsx","components/Input.tsx","components/FieldDate.tsx","components/FormAutoSave.tsx","components/ButtonSubmit.tsx","components/FormSubmit.tsx","components/Textarea.tsx","components/MesuresCorrection.tsx","components/RadiosBoolean.tsx","views/Declaration/DeclarationForm.tsx","views/Recapitulatif/RecapitulatifIndex.tsx","components/ds/TextLink.tsx","components/SimulatorLink.tsx","views/Declaration/Declaration.tsx","views/Declaration/index.js","components/Cell.tsx","components/BlocForm.tsx","components/CellInput.tsx","components/FieldInputsMenWomen.tsx","views/Effectif/EffectifFormRaw.tsx","views/Effectif/EffectifForm.tsx","components/Bubble.tsx","views/Effectif/EffectifResult.tsx","views/Effectif/Effectif.tsx","views/Effectif/index.js","views/HomeSimulateur.tsx","components/RadioButtons.tsx","views/Indicateur1/IndicateurUnTypeForm.tsx","views/Indicateur1/IndicateurUnFormRaw.tsx","views/Indicateur1/IndicateurUnCsp/IndicateurUnCspForm.tsx","components/ResultBubble.tsx","views/Indicateur1/IndicateurUnResult.tsx","views/Indicateur1/IndicateurUnCsp/IndicateurUnCsp.tsx","components/ScrollContext.tsx","views/Indicateur1/IndicateurUnCoef/IndicateurUnCoefMenu.tsx","components/ModalContext.tsx","views/Indicateur1/IndicateurUnCoef/components/CoefGroupInputField.tsx","views/Indicateur1/IndicateurUnCoef/components/CoefGroupModalConfirmDelete.tsx","views/Indicateur1/IndicateurUnCoef/IndicateurUnCoefGroupForm.tsx","views/Indicateur1/IndicateurUnCoef/IndicateurUnCoefEffectifForm.tsx","views/Indicateur1/IndicateurUnCoef/IndicateurUnCoefRemuForm.tsx","views/Indicateur1/IndicateurUnCoef/IndicateurUnCoef.tsx","views/Indicateur1/IndicateurUn.tsx","views/Indicateur1/index.js","views/Indicateur2/IndicateurDeuxForm.tsx","views/Indicateur2/IndicateurDeuxResult.tsx","views/Indicateur2/IndicateurDeux.tsx","views/Indicateur2/index.js","views/Indicateur3/IndicateurTroisForm.tsx","views/Indicateur3/IndicateurTroisResult.tsx","views/Indicateur3/IndicateurTrois.tsx","views/Indicateur3/index.js","views/Indicateur2et3/IndicateurDeuxTroisForm.tsx","views/Indicateur2et3/IndicateurDeuxTroisResult.tsx","views/Indicateur2et3/IndicateurDeuxTrois.tsx","views/Indicateur2et3/index.js","components/FieldInput.tsx","views/Indicateur4/IndicateurQuatreForm.tsx","views/Indicateur4/IndicateurQuatreResult.tsx","views/Indicateur4/IndicateurQuatre.tsx","views/Indicateur4/index.js","views/Indicateur5/IndicateurCinqForm.tsx","views/Indicateur5/IndicateurCinqResult.tsx","views/Indicateur5/IndicateurCinq.tsx","views/Indicateur5/index.js","components/CodeNaf.tsx","components/FieldSiren.tsx","utils/object.ts","views/InformationsEntreprise/components/EntrepriseUESModalConfirmDelete.tsx","components/NombreEntreprises.tsx","components/TextField.tsx","views/InformationsEntreprise/components/EntrepriseUESInputField.tsx","views/InformationsEntreprise/InformationsEntrepriseForm.tsx","views/InformationsEntreprise/InformationsEntreprise.tsx","views/InformationsEntreprise/index.js","views/InformationsDeclarant/InformationsDeclarantForm.tsx","views/InformationsDeclarant/InformationsDeclarant.tsx","views/InformationsDeclarant/index.js","components/AnneeDeclaration.tsx","components/RadioLabels.tsx","views/InformationsSimulation/InformationsSimulationForm.tsx","views/InformationsSimulation/InformationsSimulation.tsx","views/InformationsSimulation/index.js","views/Recapitulatif/RecapitulatifInformations.tsx","views/Recapitulatif/components/RecapBloc.tsx","views/Recapitulatif/components/RowData.tsx","views/Recapitulatif/RecapitulatifIndicateurUn.tsx","views/Recapitulatif/RecapitulatifIndicateurDeux.tsx","views/Recapitulatif/RecapitulatifIndicateurTrois.tsx","views/Recapitulatif/RecapitulatifIndicateurDeuxTrois.tsx","views/Recapitulatif/RecapitulatifIndicateurQuatre.tsx","views/Recapitulatif/RecapitulatifIndicateurCinq.tsx","views/Recapitulatif/Recapitulatif.tsx","views/Recapitulatif/index.js","views/AskEmail.tsx","utils/siren.ts","containers/Simulateur.tsx","components/Menu.tsx","views/FAQ/components/FAQHeader.tsx","views/FAQ/components/FAQFooter.tsx","data/faq.tsx","views/FAQ/components/FAQSearchBox.tsx","views/FAQ/components/FAQQuestionRow.tsx","views/FAQ/components/FAQTitle2.tsx","views/FAQ/utils/faqFuse.tsx","views/FAQ/FAQSearch.tsx","views/FAQ/components/FAQSectionRow.tsx","views/FAQ/FAQHome.tsx","views/FAQ/components/FAQTitle.tsx","components/ds/IconBulletWrapper.tsx","views/FAQ/components/FAQStep.tsx","views/FAQ/components-steps/FAQEffectifsSteps.tsx","views/FAQ/components-steps/FAQIndicateur1Steps.tsx","views/FAQ/components-steps/FAQIndicateur2Steps.tsx","views/FAQ/components-steps/FAQIndicateur3Steps.tsx","views/FAQ/components-steps/FAQIndicateur2et3Steps.tsx","views/FAQ/components-steps/FAQIndicateur4Steps.tsx","views/FAQ/components-steps/FAQIndicateur5Steps.tsx","views/FAQ/components-steps/FAQInformationsSteps.tsx","views/FAQ/components-steps/FAQResultatSteps.tsx","views/FAQ/FAQSection.tsx","views/FAQ/components/FAQCalculScale.tsx","views/FAQ/components/FAQTitle3.tsx","views/FAQ/components-detail-calcul/FAQIndicateur1DetailCalcul.tsx","views/FAQ/components-detail-calcul/FAQIndicateur2DetailCalcul.tsx","views/FAQ/components-detail-calcul/FAQIndicateur3DetailCalcul.tsx","views/FAQ/components-detail-calcul/FAQIndicateur2et3DetailCalcul.tsx","views/FAQ/components-detail-calcul/FAQIndicateur4DetailCalcul.tsx","views/FAQ/components-detail-calcul/FAQIndicateur5DetailCalcul.tsx","views/FAQ/components-detail-calcul/FAQResultatDetailCalcul.tsx","views/FAQ/FAQSectionDetailCalcul.tsx","views/FAQ/FAQQuestion.tsx","views/FAQ/FAQ.tsx","views/FAQ/index.ts","containers/MainScrollView.tsx","components/Footer.tsx","views/MobileHome.tsx","containers/MobileLayout.tsx","views/Accessibilite.tsx","containers/SinglePageLayout.tsx","utils/fetcher.ts","utils/makeMessage.ts","hooks/useSiren.ts","hooks/useOwnersOfSiren.ts","hooks/useLogoutIfExpiredToken.ts","components/ds/PrimaryButton.tsx","components/ds/Toast.tsx","components/ds/form-lib.tsx","views/private/MesEntreprises.tsx","views/private/MonProfil.tsx","views/Mire.tsx","containers/AppLayout.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["TranchesAges","CategorieSocioPro","tokens","fonts","heading","body","custom","breakpoints","createBreakpoints","sm","md","lg","xl","sizes","container","colors","gray","primary","styles","global","height","fontFamily","fontWeight","color","background","a","components","Button","baseStyle","Heading","Input","variants","outline","props","defaultTheme","field","borderColor","_readOnly","outlinePrimary","_hover","_placeholder","Select","Table","th","px","py","lineHeight","fontSize","td","caption","theme","extendTheme","config","initialColorMode","useSystemColorMode","globals","mapEnum","enumerable","fn","Object","keys","map","key","filter","v","m","overwriteMerge","destinationArray","sourceArray","clone","value","options","deepmerge","Array","isArray","emptyTarget","combineMerge","target","source","destination","slice","forEach","item","index","shouldClone","isMergeableObject","indexOf","push","dataEffectif","categorieSocioPro","tranchesAges","trancheAge","nombreSalariesFemmes","undefined","nombreSalariesHommes","dataIndicateurUnCsp","remunerationAnnuelleBrutFemmes","remunerationAnnuelleBrutHommes","ecartTauxRemuneration","dataIndicateurUnCoefGroup","name","defaultState","informations","formValidated","nomEntreprise","trancheEffectifs","anneeDeclaration","finPeriodeReference","effectif","nombreSalaries","indicateurUn","csp","coef","autre","remunerationAnnuelle","coefficientGroupFormValidated","coefficientEffectifFormValidated","coefficient","indicateurDeux","presenceAugmentation","tauxAugmentation","tauxAugmentationFemmes","tauxAugmentationHommes","ecartTauxAugmentation","indicateurTrois","presencePromotion","tauxPromotion","tauxPromotionFemmes","tauxPromotionHommes","ecartTauxPromotion","indicateurDeuxTrois","presenceAugmentationPromotion","nombreAugmentationPromotionFemmes","nombreAugmentationPromotionHommes","periodeDeclaration","indicateurQuatre","presenceCongeMat","nombreSalarieesPeriodeAugmentation","nombreSalarieesAugmentees","indicateurCinq","informationsEntreprise","siren","codeNaf","region","departement","adresse","codePostal","commune","structure","nomUES","nombreEntreprises","entreprisesUES","informationsDeclarant","nom","prenom","tel","email","acceptationCGU","declaration","mesuresCorrection","cseMisEnPlace","dateConsultationCSE","publicationSurSiteInternet","datePublication","lienPublication","modalitesPublication","dateDeclaration","noteIndex","totalPoint","totalPointCalculable","AppReducer","state","action","type","data","arrayMerge","valid","newGroupCoef","length","mergedCoefficient","format","Date","effectifData","indicateurUnData","indicateurDeuxData","indicateurTroisData","indicateurDeuxTroisData","indicateurQuatreData","indicateurCinqData","globalStyles","default","men","women","error","invalid","grid","gutterWidth","columns","maxWidth","minWidth","maxTabletWidth","totalGuttersWidth","findColumnWidth","windowWidth","num","min","max","columnWidth","Math","floor","findLayoutType","GridContext","React","createContext","window","innerWidth","layoutType","GridProvider","children","useState","setColumnWidth","setLayoutType","handleResize","useCallback","event","currentTarget","useEffect","addEventListener","removeEventListener","useMemo","Provider","useGridContext","useContext","useColumnsWidth","numColumns","useLayoutType","Icon","IconText","IconSearch","as","SearchIcon","IconValid","CheckCircleIcon","IconInvalid","XCircleIcon","IconLamp","LightBulbIcon","IconPeople","UserIcon","IconPeopleCircle","UserCircleIcon","IconCalendar","CalendarIcon","IconMoney","CurrencyEuroIcon","IconGrow","TrendingUpIcon","IconBack","ArrowNarrowLeftIcon","IconFemale","d","fill","IconMale","IconWarning","ExclamationIcon","IconOfficeBuilding","OfficeBuildingIcon","IconDelete","TrashIcon","IconDrag","IconExternalLink","ExternalLinkIcon","IconArrowRight","ChevronRightIcon","commonHeaders","Accept","commonContentHeaders","ApiError","response","jsonBody","params","Error","captureStackTrace","checkStatusAndParseJson","status","jsonPromise","json","then","apiError","Promise","reject","bind","fetchResource","method","pathname","headers","requestObj","localStorage","token","JSON","stringify","origin","location","href","includes","process","REACT_APP_EGAPRO_API_URL","fetch","getResource","postResource","putResource","getIndicatorsDatas","id","putIndicatorsDatas","validateSiren","ownersForSiren","sendValidationEmail","url","getTokenInfo","initialContext","ownership","isAuthenticated","logout","login","AuthContext","AuthContextProvider","context","setContext","setItem","tokenInfo","newContext","Boolean","console","getItem","useUser","displayName","ButtonLink","label","to","colorScheme","variant","leftIcon","rightIcon","size","fullWidth","Link","sx","width","MenuLink","RouterLink","textDecoration","MenuProfile","history","useHistory","boxSize","onClick","go","Logo","src","alt","Header","role","bg","flexShrink","borderBottom","overflow","transform","maxW","List","spacing","align","pr","isExternal","display","ReachLink","ml","Page","title","tagline","Fragment","tl","mt","pt","useDebounceEffect","delay","callback","dep","memoizedCallback","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","useDebounce","useTitle","prevTitle","document","useToastMessage","toastMessage","toast","message","text","kind","description","isClosable","showToastMessage","useToast","toastSuccess","toastError","CGU","mb","parseIntFormValue","defaultValue","Number","isNaN","parseInt","parseIntStateValue","String","parseFloatFormValue","percentageToFraction","parseFloat","parseFloatStateValue","fractionToPercentage","parseBooleanFormValue","parseBooleanStateValue","parseTrancheEffectifsFormValue","required","mustBeNumber","mustBeInteger","isInteger","minNumber","maxNumber","validateDate","requiredError","mustBeDateError","parsed","parseDate","toString","mustBeDate","regexpEmail","validateEmail","test","composeValidators","validators","allValues","reduce","validator","isFormValid","formState","formField","css","marginBottom","labelError","fieldRow","marginTop","select","borderRadius","border","fakeInput","flexGrow","flexBasis","paddingLeft","paddingRight","backgroundColor","cursor","RegionsDepartements","nameRegion","nameDepartement","readOnly","validate","component","regionInput","input","regionMeta","meta","touched","htmlFor","regionsDepartements","deptInput","deptMeta","Bretagne","Corse","Guadeloupe","Guyane","Martinique","Mayotte","Normandie","Occitanie","regionCode","stringFromCode","correspondance","code","entries","find","regionFromCode","departementCode","Ain","Aisne","Allier","Ardèche","Ardennes","Ariège","Aube","Aude","Aveyron","Calvados","Cantal","Charente","Cher","Corrèze","Creuse","Dordogne","Doubs","Drôme","Eure","Finistère","Gard","Gers","Gironde","Hérault","Indre","Isère","Jura","Landes","Loire","Loiret","Lot","Lozère","Manche","Marne","Mayenne","Meuse","Morbihan","Moselle","Nièvre","Nord","Oise","Orne","Rhône","Sarthe","Savoie","Paris","Yvelines","Somme","Tarn","Var","Vaucluse","Vendée","Vienne","Vosges","Yonne","Essonne","departementFromCode","displayNameTranchesAges","MoinsDe30ans","De30a39ans","De40a49ans","PlusDe50ans","displayNameCategorieSocioPro","Ouvriers","Employes","Techniciens","Cadres","displayFractionPercent","digits","displayPercent","toLocaleString","maximumFractionDigits","displayInt","displaySexeSurRepresente","indicateurSexeSurRepresente","Year","roundDecimal","decimal","mult","pow","round","dateStr","parseISO","rootParsed","rootParse","dateToString","date","calendarYear","operation","numYears","year","Add","day","yearsAdded","addYears","dayAdded","addDays","messageMesureCorrection","sexeSurRepresente","ecartDe","noteMax","toISOString","getDeclaration","année_indicateurs","fin_période_référence","points","points_calculables","publication","modalités","mesures_correctives","getDeclarant","prénom","téléphone","getEntreprise","entreprise","raison_sociale","région","département","code_postal","code_naf","split","total","nombreSalariesTotal","tranche","ues","entreprises","getIndicateurs","indicateurs","rémunérations","getIndicateur1","congés_maternité","getIndicateur4","hautes_rémunérations","getIndicateur5","augmentations_et_promotions","getIndicateur2et3","augmentations","getIndicateur2","promotions","getIndicateur3","asPercentage","motif","motifNonCalculable","non_calculable","indicateur1","mode","résultat","resultatFinal","note","noteFinale","population_favorable","date_consultation_cse","catégories","tranches","indicateur2","cat","indicateur3","indicateur2et3","resultatFinalEcart","note_en_pourcentage","noteEcart","résultat_nombre_salariés","resultatFinalNombreSalaries","note_nombre_salariés","noteNombreSalaries","replace","indicateur5","logToSentry","REACT_APP_SENTRY_DSN","Sentry","extra","ButtonAction","disabled","loading","isDisabled","isLoading","errorMessage","margin","alignSelf","ErrorMessage","ButtonLinkNoRouter","Card","img","legend","content","p","base","direction","borderWidth","node","Home","dispatch","setLoading","setErrorMessage","catch","MentionsLegales","marginLeft","marginRight","table","thead","iframe","actionBar","flexDirection","alignItems","ActionBar","PageNotFound","goBack","isUserGrantedForSiren","tokenInfoString","parse","staff","bounce","keyframes","stylesActivity","position","top","left","right","bottom","opacity","animation","round2","animationDelay","ActivityIndicator","calculEffectifsValides","validiteGroupe","calculEcartsPonderesParGroupe","findEcartPourcentage","groupEffectifEtEcart","totalEffectifsValides","effectifEtEcart","effectifsValides","ecartPondere","ecartPourcentage","calculEcartPondere","calculTotalEcartPondere","tableauEcartsPonderes","acc","val","rowEffectifsParTrancheAge","calculValiditeGroupe","rowEffectifsParCategorieSocioPro","nombreSalariesFemmesGroupe","nombreSalariesHommesGroupe","calculTotalEffectifs","groupEffectif","totalNombreSalariesFemmes","totalNombreSalariesHommes","totalNombreSalaries","calculEffectifsIndicateurCalculable","baremeEcartRemuneration","calculEcartRemunerationMoyenne","calculEcartApresApplicationSeuilPertinence","ecartRemunerationMoyenne","seuilPertinence","sign","abs","calculEffectifsEtEcartRemuParTrancheAgeCsp","dataIndicateurUn","dataEffectifByRow","concat","dataIndicateurUnByRow","group","groupTrancheAgeEffectif","groupTrancheAgeIndicateurUn","effectifs","ecartApresApplicationSeuilPertinence","calculEcartApresApplicationSeuilPertinenceCsp","calculEffectifsEtEcartRemuParTrancheAgeCoef","groupTrancheAgeCoef","calculEcartApresApplicationSeuilPertinenceCoef","calculEcartsPonderesParTrancheAge","calculIndicateurUn","effectifEtEcartRemuParTrancheCsp","effectifEtEcartRemuParTrancheCoef","effectifEtEcartRemuParTranche","ecartsPonderesByRow","totalEcartPondere","effectifsIndicateurCalculable","indicateurEcartRemuneration","indicateurCalculable","calculIndicateurEcartRemuneration","indicateurEcartRemunerationAbsolute","calculIndicateurEcartRemunerationAbsolute","calculIndicateurSexeSousRepresente","noteIndicateurUn","ceil","calculNote","baremEcartAugmentation","calculEcartTauxAugmentation","calculEcartsPonderesParCategorieSocioPro","calculIndicateurCalculable","totalTauxAugmentationFemmes","totalTauxAugmentationHommes","calculIndicateurEcartAugmentation","calculIndicateurSexeSurRepresente","indicateurEcartAugmentation","calculIndicateurEcartAugmentationAbsolute","calculIndicateurDeux","dataIndicateurDeux","effectifEtEcartAugmentParGroupe","dataAugment","groupEffectifEtEcartAugment","sommeProduitTauxAugmentationFemmes","sommeProduitTauxAugmentationHommes","calculTotalEffectifsEtTauxAugmentation","indicateurEcartAugmentationAbsolute","indicateurDeuxSexeSurRepresente","indicateurUnSexeSurRepresente","correctionMeasure","noteIndicateurDeux","baremEcartPromotion","calculEcartTauxPromotion","calculIndicateurEcartPromotion","calculIndicateurEcartPromotionAbsolute","calculIndicateurTrois","dataIndicateurTrois","effectifEtEcartPromoParGroupe","dataPromo","sommeProduitTauxPromotionFemmes","sommeProduitTauxPromotionHommes","totalTauxPromotionFemmes","totalTauxPromotionHommes","calculTotalEffectifsEtTauxPromotion","indicateurEcartPromotion","indicateurEcartPromotionAbsolute","indicateurTroisSexeSurRepresente","noteIndicateurTrois","accGroup","totalGroupNombreSalariesHomme","totalGroupNombreSalariesFemme","totalNombreSalariesHomme","totalNombreSalariesFemme","barem","calculEcartTauxAugmentationPromotion","calculIndicateurEcartAugmentationPromotion","calculIndicateurEcartAugmentationPromotionAbsolute","calculTaux","calculPlusPetitNombreSalaries","calculBarem","indicateur","calculIndicateurDeuxTrois","plusPetitNombreSalaries","tauxAugmentationPromotionHommes","tauxAugmentationPromotionFemmes","ecartTauxAugmentationPromotion","indicateurEcartAugmentationPromotion","indicateurEcartAugmentationPromotionAbsolute","indicateurEcartNombreEquivalentSalaries","calculIndicateurEcartNombreEquivalentSalaries","ecartTaux","ecartNombreSalaries","indicateurDeuxTroisSexeSurRepresente","noteEcartTaux","noteEcartNombreSalaries","noteIndicateurDeuxTrois","calculIndicateurQuatre","indicateurEcartNombreSalarieesAugmentees","calculIndicateurEcartNombreSalarieesAugmentees","noteIndicateurQuatre","indicateurNombreSalariesSexeSousRepresente","calculIndicateurCinq","indicateurSexeSousRepresente","calculIndicateurNombreSalariesSexeSousRepresente","noteIndicateurCinq","calculNoteIndex","InfoBlock","closeButton","useBoolean","isBlockVisible","setIsBlockVisible","boxShadow","toggle","result","LayoutFormAndResult","childrenForm","childrenResult","button","padding","textAlign","ActionLink","style","hasFieldError","submitFailed","values","appearance","inputError","placeholder","autocomplete","autoComplete","registerLocale","fr","dateField","FieldDate","useField","locale","dateFormat","selected","onChange","join","displayMetaErrors","FormAutoSave","saveForm","onlyWhenDirty","subscription","dirty","ButtonSubmit","icon","FormSubmit","hasValidationErrors","textarea","TextField","errorText","fieldName","choices","mmo","me","mne","MesuresCorrection","RadioField","radio","fakeRadio","checked","fakeRadioChecked","labelText","backgroundImage","radioFieldFalse","radioFieldDisabled","visibility","RadiosBoolean","labelTrue","labelFalse","validateForm","parsedDatePublication","parsedFinPeriodeReference","correspondanceFinPeriodeReference","FieldSiteInternet","after2020","displayNC","siteOrModalites","edit","DeclarationForm","indicateurUnParCSP","updateDeclaration","validateDeclaration","declaring","initialValues","formData","onSubmit","initialValuesEqual","handleSubmit","errors","Textarea","RecapitulatifIndex","allIndicateurValid","fontStyle","LinkChakraRouter","chakra","LinkRouter","TextLink","rest","SimulatorLinkWithRouter","withRouter","match","ButtonSimulatorLink","toSimulator","TextSimulatorLink","PageDeclaration","Declaration","setDeclaring","setApiError","effectifsIndicateurUnCalculable","effectifsIndicateurDeuxCalculable","indicateurDeuxCorrectionMeasure","effectifsIndicateurTroisCalculable","indicateurTroisCorrectionMeasure","effectifsIndicateurDeuxTroisCalculable","indicateurDeuxTroisCorrectionMeasure","indicateurQuatreCalculable","indicateurCinqSexeSousRepresente","nombreCoefficients","nonCalculable","motifNonCalculablePrecision","categorie","niveau","déclaration","déclarant","formatDataForAPI","putDeclaration","Cell","cell","Cell2","cell2","CellHead","cellHead","BlocFormLight","superLight","blocForm","blocFormLight","blocFormSuperLight","blocFormInner","PADDING","borderLeft","borderRight","paddingTop","paddingBottom","blocFormWithFooter","rowHead","minHeight","rowHeadCellHead","textTransform","rowHeadCell","rowHeadBorder","rowGender","cellMen","justifyContent","cellWomen","rowFoot","rowFootCell","rowFootTotal","rowFootBorderLeft","rowFootBorderRight","BlocForm","footer","numberMask","createNumberMask","prefix","includeThousandsSeparator","percentNumberMask","suffix","allowDecimal","inputValue","digitRegExp","anyNonWhitespaceRegExp","CellInput","inputProps","mask","maskWithAnyChar","valueOnlyNum","char","trickyMaskNumberToAllowAnyChar","conformToMask","conformedValue","displayReadOnlyValue","row","cellHeadInvalid","cellHeadError","cellHeadIcon","cellEmpty","cellEmptyMen","cellEmptyWomen","FieldInputsMenWomen","calculable","calculableNumber","femmeFieldName","hommeFieldName","validatorFemmes","validatorHommes","femmesField","hommesField","femmesError","hommesError","getTotalGroupNbSalarie","totalGroupNbSalarieHomme","totalGroupNbSalarieFemme","getTotalNbSalarie","totalNbSalarieHomme","totalNbSalarieFemme","rowFootText","EffectifFormRaw","effectifRaw","updateEffectif","validateEffectif","nextLink","formValidator","otherPropGroupe","otherPropsTrancheAge","formValidatorEffectif","composedValidator","composeFormValidators","indexGroupe","indexTrancheAge","EffectifForm","updateEffectifRaw","bloc","Bubble","bubble","blocNumbers","messageLabel","messageData","EffectifResult","Effectif","totalNombreSalariesHommeCsp","totalNombreSalariesFemmeCsp","totalNombreSalariesHommeCoef","totalNombreSalariesFemmeCoef","HomeSimulateur","link","useClipboard","hasCopied","onCopy","h","choiceValue","headerLabel","radioField","RadioButtons","choiceLabel","IndicateurUnTypeForm","updateIndicateurUnType","modaliteDeclaration","debug","groupByCategorieSocioPro","ecartRemuParTrancheAge","tmpArray","otherAttr","el","IndicateurUnFormRaw","updateIndicateurUn","validateIndicateurUn","IndicateurUnCspForm","ecartRemuParTrancheAgeRaw","updateIndicateurUnRaw","blocWomen","blocMen","blocInfo","info","ResultBubble","firstLineLabel","firstLineData","firstLineInfo","secondLineLabel","secondLineData","secondLineInfo","IndicateurUnResult","IndicateurUnCsp","ScrollContext","scrollTo","coord","overflowY","WebkitOverflowScrolling","useScrollTo","MenuItem","isSelected","menuItem","menuItemSelected","menu","IndicateurUnCoefMenu","menuSelected","setMenuSelected","ModalContext","ModalProvider","containerRef","useRef","current","ref","Modal","isOpen","onRequestClose","child","containerOpen","overlay","overlayOpen","onKeyDown","tabIndex","modal","modalOpen","ReactDOM","createPortal","transition","transitionDelay","backdropFilter","inputField","delete","InputField","deleteGroup","modalConfirm","blocIcon","blocTitle","blocText","spacerActionBarModal","ModalConfirmDelete","closeModal","add","addIcon","spacerActionBar","spacerAdd","IndicateurUnCoefGroupForm","updateIndicateurUnCoefAddGroup","updateIndicateurUnCoefDeleteGroup","updateIndicateurUnCoef","validateIndicateurUnCoefGroup","navigateToEffectif","navigateToRemuneration","groupes","indexGroupToDelete","setIndexGroupToDelete","confirmGroupToDelete","mutators","arrayMutators","fields","viewBox","xmlns","stroke","strokeWidth","strokeLinecap","IndicateurUnCoefEffectifForm","validateIndicateurUnCoefEffectif","navigateToGroupe","IndicateurUnCoef","getDefaultMenuSelected","navigateTo","IndicateurUnCoefRemuForm","PageIndicateurUn","IndicateurUn","flatMap","every","notAll0","IndicateurDeuxForm","ecartAugmentParCategorieSocioPro","updateIndicateurDeux","validateIndicateurDeux","otherProps","IndicateurDeuxResult","PageIndicateurDeux","additionalInfo","IndicateurDeux","IndicateurTroisForm","ecartPromoParCategorieSocioPro","updateIndicateurTrois","validateIndicateurTrois","IndicateurTroisResult","PageIndicateurTrois","IndicateurTrois","spacer","IndicateurDeuxTroisForm","updateIndicateurDeuxTrois","validateIndicateurDeuxTrois","parsePeriodeDeclarationFormValue","oneYear","Subtract","twoYears","threeYears","dateFinPeriodeReference","validateEffectifs","gender","IndicateurDeuxTroisResult","bestResult","PageIndicateurDeuxTrois","getResults","ecartNbSalaries","best","worst","AdditionalInfo","results","messageEcartNombreEquivalentSalaries","IndicateurDeuxTrois","cellHeadInner","FieldInput","emptyFields","IndicateurQuatreForm","updateIndicateurQuatre","validateIndicateurQuatre","previousField","IndicateurQuatreResult","PageIndicateurQuatre","IndicateurQuatre","messageNonCalculable","calculator","createDecorator","updates","femmesValue","IndicateurCinqForm","updateIndicateurCinq","validateIndicateurCinq","decorators","IndicateurCinqResult","PageIndicateurCinq","IndicateurCinq","CodeNaf","listeCodeNaf","nineDigits","memoizedValidateSiren","lastArg","lastResult","arg","simpleMemoize","NOT_ALLOWED_MESSAGE","UNKNOWN_SIREN","sirenValidator","updateSirenData","param","checkSiren","spinner","FieldSiren","customStyles","tokenInfoLS","validating","sendChangeEvent","NombreEntreprises","newNombreEntreprises","newValue","setNewValue","newSize","confirmChangeEvent","EntrepriseUESInput","nomField","nomError","sirenList","validateCodePostal","dptCode","mustBeNumberError","mustBe5DigitsError","mustBeInDepartementError","startsWith","mustBe5Digits","adaptEntreprisesUESSize","validateNombreEntreprises","InformationsEntrepriseForm","updateInformationsEntreprise","validateInformationsEntreprise","changeValue","form","sirenData","batch","change","entrepriseUES","PageInformationsEntreprise","InformationsEntreprise","validateTel","mustBe10DigitsError","mustBe10Digits","InformationsDeclarantForm","updateInformationsDeclarant","validateInformationsDeclarant","PageInformationsDeclarant","InformationsDeclarant","AnneeDeclaration","yearList","labelChecked","labelDisabled","inputLabel","flex","RadioLabels","validateInt","getFullYear","correspondanceAnneeDeclaration","FieldNomEntreprise","FieldPeriodeReference","dates","InformationsSimulationForm","updateInformationsSimulation","validateInformationsSimulation","selectEndOfYear","args","utils","PageInformationsSimulation","InformationsSimulation","DataDisplay","header","RecapitulatifInformations","informationsFormValidated","pageBreakInside","breakInside","blocInfoPrint","borderBottomBloc","borderLeftBloc","borderBottomResult","borderRightResult","blocResult","borderNoChildren","RecapBloc","resultBubble","RowDataFull","asPercent","cellFull","RowLabels","labels","rowLabel","cellLabel","RowLabelFull","RowData","datum","RecapitulatifIndicateurUn","indicateurUnFormValidated","messageCalculParCSP","groupEffectifEtEcartRemuParTranche","newEl","RecapitulatifIndicateurDeux","indicateurDeuxFormValidated","indicateurDeuxCalculable","RecapitulatifIndicateurTrois","indicateurTroisFormValidated","indicateurTroisCalculable","RecapitulatifIndicateurDeuxTrois","indicateurDeuxTroisFormValidated","indicateurDeuxTroisCalculable","RecapitulatifIndicateurQuatre","indicateurQuatreFormValidated","RecapitulatifIndicateurCinq","indicateurCinqFormValidated","monAvis","Recapitulatif","correctionMeasureIndicateurDeux","correctionMeasureIndicateurTrois","correctionMeasureIndicateurDeuxTrois","print","rel","emailError","FieldEmail","imageContainer","image","backgroundRepeat","backgroundSize","warning","AskEmail","tagLine","reason","submitted","setSubmitted","sirenIsFree","isFree","log","owners","viewLoading","Simulateur","setTokenInfo","urlParams","URLSearchParams","search","has","get","indicatorsData","simuData","freeSiren","runEffect","debouncedState","path","exact","render","buildA11yTitle","isValid","isCurrentStep","CustomNavLink","activeOnlyWhenExact","mr","cx","Menu","effectifFormValidated","informationsEntrepriseFormValidated","informationsDeclarantFormValidated","declarationFormValidated","listStyles","li","FAQHeaderBackButton","FAQHeaderHomeButton","faq","FAQHeader","closeMenu","mx","FAQFooter","borderTop","faqData","champApplication","qr","question","reponse","periodeReference","remuneration","indicateur4","faqSections","parts","resultat","FAQSearchBox","searchTerm","setSearchTerm","pointerEvents","FAQQuestionRow","part","FAQTitle2","faqDataForFuse","newQr","Fuse","shouldSort","includeScore","includeMatches","threshold","tokenize","minMatchCharLength","FAQSearch","fuseResults","faqDataFuse","divider","FAQSectionRow","section","detail","className","faqSectionsEntries","FAQHome","faqKey","faqSection","questionsLength","FAQTitle","IconBulletWrapper","svg","FAQStep","pl","FAQEffectifsSteps","FAQIndicateur1Steps","FAQIndicateur2Steps","FAQIndicateur3Steps","FAQIndicateur2et3Steps","FAQIndicateur4Steps","FAQIndicateur5Steps","FAQInformationsSteps","FAQResultatSteps","FAQSteps","FAQSection","FAQStepsElement","FAQCalculScale","listTitle","list","scaleTitle","scale","listEl","FAQTitle3","FAQIndicateur1DetailCalcul","FAQIndicateur2DetailCalcul","FAQIndicateur3DetailCalcul","FAQIndicateur2et3DetailCalcul","FAQIndicateur4DetailCalcul","FAQIndicateur5DetailCalcul","FAQResultatDetailCalcul","FAQDetailCalcul","FAQSectionDetailCalcul","FAQDetailCalculElement","indexQuestion","faqPart","faqQuestion","reponsePara","FAQPaths","recapitulatif","mapDefaultPathnameToFAQPathname","splittedLocationPathname","faqPath","FAQ","route","locationFAQ","hash","maxHeight","FAQQuestion","Content","gridArea","grow","gridTemplateColumns","gridTemplateRows","gridTemplateAreas","Footer","page","subtitle","para","noMargin","illuBloc","help","helpButton","WebkitTextFillColor","helpText","arrow","MobileHome","openMenu","mobileLayout","scroll","faqOpen","MobileLayout","isMenuOpen","setIsMenuOpen","Accessibilite","SinglePageLayout","API_URL","EXPIRED_TOKEN_MESSAGE","genericFetch","endpoint","ok","fetcher","makeMessage","fetcherSiren","useOwnersOfSiren","useSWR","mutate","useLogoutIfExpiredToken","isError","PrimaryButton","minW","Toast","schema","err","formErrors","fieldErrors","InputControl","submitting","isInvalid","DebugForm","show","InfoEntreprise","firstMatchingEtablissement","address","useSiren","pb","w","noOfLines","UserListItem","owner","removeUser","useDisclosure","onOpen","onClose","verticalAlign","UtilisateursEntreprise","setEmail","showAddForm","setShowAddForm","off","FormInput","z","object","string","required_error","MesEntreprises","sirens","orderedSirens","sort","chosenSiren","setChosenSiren","MonProfil","Mire","tokenInURL","pushState","useCheckIfTokenIsInURL","pristine","PrivateRoute","AppLayout","PolitiqueConfidentialite","ErrorFallback","resetErrorBoundary","createBrowserHistory","piwik","ReactPiwik","siteId","trackErrors","bannerWrapper","zIndex","banner","App","useReducer","dispatchReducer","FallbackComponent","onReset","connectToHistory","hostname","dsn","release","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"iKAqZYA,EAOAC,E,0IC1WGC,EAhDA,CACbC,MAAO,CACLC,QAAS,QACTC,KAAM,QACNC,OAAQ,YAEVC,YAAaC,YAAkB,CAC7BC,GAAI,OACJC,GAAI,OACJC,GAAI,QACJC,GAAI,QACJ,MAAO,SAETC,MAAO,CACLC,UAAW,CACTF,GAAI,SACJD,GAAI,SACJD,GAAI,QACJD,GAAI,UAGRM,OAAQ,CACNC,KAAM,CACJ,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,WAEPC,QAAS,CACP,GAAI,UACJ,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,UACL,IAAK,aC1BIC,EApBA,CACbA,OAAQ,CACNC,OAAQ,CACN,oBAAqB,CACnBC,OAAQ,QAEVf,KAAM,CACJgB,WAAY,qCACZC,WAAY,SACZC,MAAO,YAET,QAAS,CACPC,WAAY,iCAEdC,EAAG,CACDF,MAAO,kB,QCiFAG,EA7FI,CACjBA,WAAY,CACVC,OAAQ,CACNC,UAAW,CACTN,WAAY,WAIhBO,QAAS,CACPD,UAAW,CACTN,WAAY,WACZC,MAAO,aAIXO,MAAO,CACLC,SAAU,CACRC,QAAS,SAACC,GAAD,mBAAC,eACLC,IAAaR,WAAWI,MAAMC,SAASC,QAAQC,IAD3C,IAEPE,MAAM,2BACDD,IAAaR,WAAWI,MAAMC,SAASC,QAAQC,GAAOE,OADtD,IAEHC,YAAa,WACbZ,WAAY,QACZa,UAAW,CACTb,WAAY,cACZY,YAAa,oBAInBE,eAAgB,SAACL,GAAD,mBAAC,eACZC,IAAaR,WAAWI,MAAMC,SAASC,QAAQC,IADpC,IAEdE,MAAM,2BACDD,IAAaR,WAAWI,MAAMC,SAASC,QAAQC,GAAOE,OADtD,IAEHC,YAAa,cACbZ,WAAY,aACZe,OAAQ,CACNH,YAAa,eAEfI,aAAc,CACZjB,MAAO,eAETc,UAAW,CACTb,WAAY,cACZY,YAAa,sBAOvBK,OAAQ,CACNV,SAAU,CACRC,QAAS,SAACC,GAAD,mBAAC,eACLC,IAAaR,WAAWI,MAAMC,SAASC,QAAQC,IAD3C,IAEPE,MAAM,2BACDD,IAAaR,WAAWI,MAAMC,SAASC,QAAQC,GAAOE,OADtD,IAEHC,YAAa,WACbZ,WAAY,QACZa,UAAW,CACTb,WAAY,cACZY,YAAa,sBAOvBM,MAAO,CACL7B,MAAO,CACLJ,GAAI,CACFkC,GAAI,CACFC,GAAI,IACJC,GAAI,IACJC,WAAY,IACZC,SAAU,MAEZC,GAAI,CACFJ,GAAI,IACJC,GAAI,MACJE,SAAU,KACVD,WAAY,KAEdG,QAAS,CACPL,GAAI,IACJC,GAAI,IACJE,SAAU,WCzEPG,EAVDC,YAAY,qCACxBC,OAAQ,CACNC,iBAAkB,QAClBC,oBAAoB,IAEnBC,GACArD,GACAwB,I,oCCVU,SAAS8B,EAAQC,EAAsBC,GAQpD,OAN2BC,OAAOC,KAAKH,GAAYI,KAAI,SAACC,GAAD,OAAcL,EAAWK,MAGvCC,QAAO,SAACC,GAAD,MAAoB,kBAANA,KAG5CH,KAAI,SAACI,GAAD,OAAOP,EAAGO,O,SL2YtBjE,O,+BAAAA,I,2BAAAA,I,2BAAAA,I,8BAAAA,M,cAOAC,O,uBAAAA,I,uBAAAA,I,6BAAAA,I,oBAAAA,M,KMtZL,IAAMiE,EAAiB,SAACC,EAAkBC,GAAnB,OAAmCA,GAI3DC,EAAQ,SAACC,EAAOC,GAAR,OAAoBC,IAFd,SAACF,GAAD,OAAYG,MAAMC,QAAQJ,GAAS,GAAK,GAEhBK,CAAYL,GAAQA,EAAOC,IAE1DK,EAAe,SAACC,EAAQC,EAAQP,GAC3C,IAAMQ,EAAcF,EAAOG,QAa3B,OAXAF,EAAOG,SAAQ,SAACC,EAAMC,GACpB,GAAkC,qBAAvBJ,EAAYI,GAAwB,CAC7C,IACMC,GADmC,IAAlBb,EAAQF,OACOE,EAAQc,kBAAkBH,GAChEH,EAAYI,GAASC,EAAcf,EAAMa,EAAMX,GAAWW,OACjDX,EAAQc,kBAAkBH,GACnCH,EAAYI,GAASX,IAAUK,EAAOM,GAAQD,EAAMX,IACjB,IAA1BM,EAAOS,QAAQJ,IACxBH,EAAYQ,KAAKL,MAGdH,GCpBHS,EAAehC,EAAQvD,GAAmB,SAACwF,GAAD,MAA2C,CACzFA,oBACAC,aAAclC,EAAQxD,GAAc,SAAC2F,GAAD,MAA+B,CACjEA,aACAC,0BAAsBC,EACtBC,0BAAsBD,UAIpBE,EAAsBvC,EAAQvD,GAAmB,SAACwF,GAAD,MAA2C,CAChGA,oBACAC,aAAclC,EAAQxD,GAAc,SAAC2F,GAAD,MAA+B,CACjEA,aACAK,oCAAgCH,EAChCI,oCAAgCJ,EAChCK,2BAAuBL,UAIrBM,EAA4B,CAChCC,KAAM,GACNV,aAAclC,EAAQxD,GAAc,SAAC2F,GAAD,MAA+B,CACjEA,aACAC,0BAAsBC,EACtBC,0BAAsBD,EACtBG,oCAAgCH,EAChCI,oCAAgCJ,EAChCK,2BAAuBL,OAkBrBQ,EAAyB,CAC7BC,aAAc,CACZC,cAAe,OACfC,cAAe,GACfC,iBAAkB,cAClBC,sBAAkBb,EAClBc,oBAAqB,IAEvBC,SAAU,CACRL,cAAe,OACfM,eAAgBrB,GAElBsB,aAAc,CACZP,cAAe,OACfQ,KAAK,EACLC,MAAM,EACNC,OAAO,EACPC,qBAAsBnB,EACtBoB,8BAA+B,OAC/BC,iCAAkC,OAClCC,YAAa,IAEfC,eAAgB,CACdf,cAAe,OACfgB,sBAAsB,EACtBC,iBAvCuBhE,EAAQvD,GAAmB,SAACwF,GAAD,MAA2C,CAC/FA,oBACAgC,4BAAwB5B,EACxB6B,4BAAwB7B,EACxB8B,2BAAuB9B,OAqCvB+B,gBAAiB,CACfrB,cAAe,OACfsB,mBAAmB,EACnBC,cArCwBtE,EAAQvD,GAAmB,SAACwF,GAAD,MAA2C,CAChGA,oBACAsC,yBAAqBlC,EACrBmC,yBAAqBnC,EACrBoC,wBAAoBpC,OAmCpBqC,oBAAqB,CACnB3B,cAAe,OACf4B,+BAA+B,EAC/BC,uCAAmCvC,EACnCwC,uCAAmCxC,EACnCyC,mBAAoB,uBAEtBC,iBAAkB,CAChBhC,cAAe,OACfiC,kBAAkB,EAClBC,wCAAoC5C,EACpC6C,+BAA2B7C,GAE7B8C,eAAgB,CACdpC,cAAe,OACfT,0BAAsBD,EACtBD,0BAAsBC,GAExB+C,uBAAwB,CACtBrC,cAAe,OACfC,cAAe,GACfqC,MAAO,GACPC,QAAS,GACTC,OAAQ,GACRC,YAAa,GACbC,QAAS,GACTC,WAAY,GACZC,QAAS,GACTC,UAAW,aACXC,OAAQ,GACRC,uBAAmBzD,EACnB0D,eAAgB,IAElBC,sBAAuB,CACrBjD,cAAe,OACfkD,IAAK,GACLC,OAAQ,GACRC,IAAK,GACLC,MAAO,GACPC,gBAAgB,GAElBC,YAAa,CACXvD,cAAe,OACfwD,kBAAmB,GACnBC,mBAAenE,EACfoE,oBAAqB,GACrBC,gCAA4BrE,EAC5BsE,gBAAiB,GACjBC,gBAAiB,GACjBC,qBAAsB,GACtBC,gBAAiB,GACjBC,eAAW1E,EACX2E,WAAY,EACZC,qBAAsB,IA0eXC,MAtef,SAAoBC,EAA6BC,GAC/C,GAAoB,eAAhBA,EAAOC,KAAX,CAGA,GAAoB,kBAAhBD,EAAOC,KACT,OAAOrG,IAAU6B,EAAcuE,EAAOE,KAAM,CAC1CC,WAAY7G,IAGhB,IAAKyG,EACH,OAAOA,EAET,OAAQC,EAAOC,MACb,IAAK,+BACH,MAAmFD,EAAOE,KAAlFtE,EAAR,EAAQA,cAAeC,EAAvB,EAAuBA,iBAAkBC,EAAzC,EAAyCA,iBAAkBC,EAA3D,EAA2DA,oBAC3D,OAAIF,IAAqBkE,EAAMrE,aAAaG,iBACnC,2BACFkE,GADL,IAEErE,aAAa,2BACRqE,EAAMrE,cADC,IAEVE,gBACAE,mBACAD,mBACAE,wBAEFC,SACmC,UAAjC+D,EAAM/D,SAASL,cAAf,2BAAgDoE,EAAM/D,UAAtD,IAAgEL,cAAe,YAAcoE,EAAM/D,SACrGE,aACuC,UAArC6D,EAAM7D,aAAaP,cAAnB,2BACSoE,EAAM7D,cADf,IAC6BP,cAAe,YACxCoE,EAAM7D,aACZQ,eACyC,UAAvCqD,EAAMrD,eAAef,cAArB,2BACSoE,EAAMrD,gBADf,IAC+Bf,cAAe,YAC1CoE,EAAMrD,eACZM,gBAC0C,UAAxC+C,EAAM/C,gBAAgBrB,cAAtB,2BACSoE,EAAM/C,iBADf,IACgCrB,cAAe,YAC3CoE,EAAM/C,gBACZM,oBAC8C,UAA5CyC,EAAMzC,oBAAoB3B,cAA1B,2BACSoE,EAAMzC,qBADf,IACoC3B,cAAe,YAC/CoE,EAAMzC,oBACZK,iBAC2C,UAAzCoC,EAAMpC,iBAAiBhC,cAAvB,2BACSoE,EAAMpC,kBADf,IACiChC,cAAe,YAC5CoE,EAAMpC,iBACZI,eACyC,UAAvCgC,EAAMhC,eAAepC,cAArB,2BACSoE,EAAMhC,gBADf,IAC+BpC,cAAe,YAC1CoE,EAAMhC,eACZC,uBACiD,UAA/C+B,EAAM/B,uBAAuBrC,cAA7B,2BACSoE,EAAM/B,wBADf,IACuCrC,cAAe,YAClDoE,EAAM/B,uBACZY,sBACgD,UAA9CmB,EAAMnB,sBAAsBjD,cAA5B,2BACSoE,EAAMnB,uBADf,IACsCjD,cAAe,YACjDoE,EAAMnB,sBACZM,YACsC,UAApCa,EAAMb,YAAYvD,cAAlB,2BAESoE,EAAMb,aAFf,IAGMvD,cAAe,YAEjBoE,EAAMb,cAGT,2BACFa,GADL,IAEErE,aAAa,2BACRqE,EAAMrE,cADC,IAEVE,gBACAC,mBACAC,mBACAC,0BAIN,IAAK,iCACH,OAAO,2BACFgE,GADL,IAEErE,aAAa,2BACRqE,EAAMrE,cADC,IAEVC,cAAeqE,EAAOI,QAExBlB,YAAY,2BACPa,EAAMb,aADA,IAETvD,cAAgC,SAAjBqE,EAAOI,MAAmB,UAAYL,EAAMb,YAAYvD,kBAI7E,IAAK,iBACH,IAAQM,EAAmB+D,EAAOE,KAA1BjE,eACR,OAAO,2BACF8D,GADL,IAEE/D,SAAS,2BAAM+D,EAAM/D,UAAb,IAAuBC,qBAGnC,IAAK,mBACH,MAAqB,SAAjB+D,EAAOI,MACF,2BACFL,GADL,IAEE/D,SAAS,2BAAM+D,EAAM/D,UAAb,IAAuBL,cAAeqE,EAAOI,QACrDlE,aACuC,UAArC6D,EAAM7D,aAAaP,cAAnB,2BAESoE,EAAM7D,cAFf,IAGMP,cAAe,UACfa,iCAAkC,YAEpCuD,EAAM7D,aACZQ,eACyC,UAAvCqD,EAAMrD,eAAef,cAArB,2BACSoE,EAAMrD,gBADf,IAC+Bf,cAAe,YAC1CoE,EAAMrD,eACZM,gBAC0C,UAAxC+C,EAAM/C,gBAAgBrB,cAAtB,2BACSoE,EAAM/C,iBADf,IACgCrB,cAAe,YAC3CoE,EAAM/C,gBACZM,oBAC8C,UAA5CyC,EAAMzC,oBAAoB3B,cAA1B,2BACSoE,EAAMzC,qBADf,IACoC3B,cAAe,YAC/CoE,EAAMzC,oBACZ4B,YACsC,UAApCa,EAAMb,YAAYvD,cAAlB,2BACSoE,EAAMb,aADf,IAC4BvD,cAAe,YACvCoE,EAAMb,cAGT,2BACFa,GADL,IAEE/D,SAAS,2BAAM+D,EAAM/D,UAAb,IAAuBL,cAAeqE,EAAOI,UAGzD,IAAK,yBACH,MAA6BJ,EAAOE,KAA5B/D,EAAR,EAAQA,IAAKC,EAAb,EAAaA,KAAMC,EAAnB,EAAmBA,MACnB,OAAO,2BACF0D,GADL,IAEE7D,aAAa,2BAAM6D,EAAM7D,cAAb,IAA2BC,MAAKC,OAAMC,YAGtD,IAAK,wBACH,IAAQC,EAAyB0D,EAAOE,KAAhC5D,qBACR,OAAO,2BACFyD,GADL,IAEE7D,aAAa,2BAAM6D,EAAM7D,cAAb,IAA2BI,2BAG3C,IAAK,iCACH,IAAM+D,EAAY,eAAQ9E,GACpBkB,EAAW,sBAAOsD,EAAM7D,aAAaO,aAA1B,CAAuC4D,IACxD,OAAO,2BACFN,GADL,IAEE7D,aAAa,2BAAM6D,EAAM7D,cAAb,IAA2BO,kBAG3C,IAAK,oCACH,IAAMA,EAAW,sBACZsD,EAAM7D,aAAaO,YAAYrC,MAAM,EAAG4F,EAAOzF,QADnC,YAEZwF,EAAM7D,aAAaO,YAAYrC,MAAM4F,EAAOzF,MAAQ,EAAGwF,EAAM7D,aAAaO,YAAY6D,UAE3F,OAAO,2BACFP,GADL,IAEE7D,aAAa,2BAAM6D,EAAM7D,cAAb,IAA2BO,kBAG3C,IAAK,yBACH,IAAQA,EAAgBuD,EAAOE,KAAvBzD,YAEF8D,EAAoB3G,IACxBmG,EAAM7D,aAAaO,YAEnBA,EACA,CAAE0D,WAAYnG,IAEhB,OAAO,2BACF+F,GADL,IAGE7D,aAAa,2BAAM6D,EAAM7D,cAAb,IAA2BO,YAAa8D,MAGxD,IAAK,gCACH,OAAO,2BACFR,GADL,IAEE7D,aAAa,2BACR6D,EAAM7D,cADC,IAEVK,8BAA+ByD,EAAOI,MACtC5D,iCACmB,SAAjBwD,EAAOI,OAA4E,UAAxDL,EAAM7D,aAAaM,iCAC1C,UACAuD,EAAM7D,aAAaM,iCACzBb,cACmB,SAAjBqE,EAAOI,OAAyD,UAArCL,EAAM7D,aAAaP,cAC1C,UACAoE,EAAM7D,aAAaP,gBAE3BuD,YAAY,2BACPa,EAAMb,aADA,IAETvD,cAAgC,SAAjBqE,EAAOI,MAAmB,UAAYL,EAAMb,YAAYvD,kBAI7E,IAAK,mCACH,OAAO,2BACFoE,GADL,IAEE7D,aAAa,2BACR6D,EAAM7D,cADC,IAEVM,iCAAkCwD,EAAOI,MACzCzE,cACmB,SAAjBqE,EAAOI,OAAyD,UAArCL,EAAM7D,aAAaP,cAC1C,UACAoE,EAAM7D,aAAaP,gBAE3BuD,YAAY,2BACPa,EAAMb,aADA,IAETvD,cAAgC,SAAjBqE,EAAOI,MAAmB,UAAYL,EAAMb,YAAYvD,kBAI7E,IAAK,uBACH,OAAO,2BACFoE,GADL,IAEE7D,aAAa,2BAAM6D,EAAM7D,cAAb,IAA2BP,cAAeqE,EAAOI,QAC7DlB,YAAY,2BACPa,EAAMb,aADA,IAETvD,cAAgC,SAAjBqE,EAAOI,MAAmB,UAAYL,EAAMb,YAAYvD,kBAI7E,IAAK,uBACH,MAAmDqE,EAAOE,KAAlDtD,EAAR,EAAQA,iBAAkBD,EAA1B,EAA0BA,qBAC1B,OAAO,2BACFoD,GADL,IAEErD,eAAe,2BACVqD,EAAMrD,gBADG,IAEZC,uBACAC,uBAIN,IAAK,yBACH,OAAO,2BACFmD,GADL,IAEErD,eAAe,2BACVqD,EAAMrD,gBADG,IAEZf,cAAeqE,EAAOI,QAExBlB,YAAY,2BACPa,EAAMb,aADA,IAETvD,cAAgC,SAAjBqE,EAAOI,MAAmB,UAAYL,EAAMb,YAAYvD,kBAI7E,IAAK,wBACH,MAA6CqE,EAAOE,KAA5ChD,EAAR,EAAQA,cAAeD,EAAvB,EAAuBA,kBACvB,OAAO,2BACF8C,GADL,IAEE/C,gBAAgB,2BACX+C,EAAM/C,iBADI,IAEbC,oBACAC,oBAIN,IAAK,0BACH,OAAO,2BACF6C,GADL,IAEE/C,gBAAgB,2BACX+C,EAAM/C,iBADI,IAEbrB,cAAeqE,EAAOI,QAExBlB,YAAY,2BACPa,EAAMb,aADA,IAETvD,cAAgC,SAAjBqE,EAAOI,MAAmB,UAAYL,EAAMb,YAAYvD,kBAI7E,IAAK,4BACH,MAKIqE,EAAOE,KAJT3C,EADF,EACEA,8BACAC,EAFF,EAEEA,kCACAC,EAHF,EAGEA,kCACAC,EAJF,EAIEA,mBAEF,OAAO,2BACFqC,GADL,IAEEzC,oBAAoB,2BACfyC,EAAMzC,qBADQ,IAEjBC,gCACAC,oCACAC,oCACAC,yBAIN,IAAK,8BACH,OAAO,2BACFqC,GADL,IAEEzC,oBAAoB,2BACfyC,EAAMzC,qBADQ,IAEjB3B,cAAeqE,EAAOI,QAExBlB,YAAY,2BACPa,EAAMb,aADA,IAETvD,cAAgC,SAAjBqE,EAAOI,MAAmB,UAAYL,EAAMb,YAAYvD,kBAI7E,IAAK,yBACH,OAAO,2BACFoE,GADL,IAEEpC,iBAAiB,2BACZoC,EAAMpC,kBACNqC,EAAOE,QAIhB,IAAK,2BACH,OAAO,2BACFH,GADL,IAEEpC,iBAAiB,2BACZoC,EAAMpC,kBADK,IAEdhC,cAAeqE,EAAOI,QAExBlB,YAAY,2BACPa,EAAMb,aADA,IAETvD,cAAgC,SAAjBqE,EAAOI,MAAmB,UAAYL,EAAMb,YAAYvD,kBAI7E,IAAK,uBACH,OAAO,2BACFoE,GADL,IAEEhC,eAAe,2BACVgC,EAAMhC,gBACNiC,EAAOE,QAIhB,IAAK,yBACH,OAAO,2BACFH,GADL,IAEEhC,eAAe,2BACVgC,EAAMhC,gBADG,IAEZpC,cAAeqE,EAAOI,QAExBlB,YAAY,2BACPa,EAAMb,aADA,IAETvD,cAAgC,SAAjBqE,EAAOI,MAAmB,UAAYL,EAAMb,YAAYvD,kBAI7E,IAAK,+BACH,OAAO,2BACFoE,GADL,IAEE/B,uBAAuB,2BAClB+B,EAAM/B,wBACNgC,EAAOE,QAIhB,IAAK,iCACH,OAAO,2BACFH,GADL,IAEE/B,uBAAuB,2BAClB+B,EAAM/B,wBADW,IAEpBrC,cAAeqE,EAAOI,QAExBlB,YAAY,2BACPa,EAAMb,aADA,IAETvD,cAAgC,SAAjBqE,EAAOI,MAAmB,UAAYL,EAAMb,YAAYvD,kBAI7E,IAAK,8BAiGL,IAAK,uBACH,OAAO,2BACFoE,GADL,IAEEnB,sBAAsB,2BACjBmB,EAAMnB,uBACNoB,EAAOE,QA7FhB,IAAK,gCACH,OAAO,2BACFH,GADL,IAEEnB,sBAAsB,2BACjBmB,EAAMnB,uBADU,IAEnBjD,cAAeqE,EAAOI,QAExBlB,YAAY,2BACPa,EAAMb,aADA,IAETvD,cAAgC,SAAjBqE,EAAOI,MAAmB,UAAYL,EAAMb,YAAYvD,kBAI7E,IAAK,oBACH,OAAO,2BACFoE,GADL,IAEEb,YAAY,2BACPa,EAAMb,aACNc,EAAOE,QAIhB,IAAK,sBACH,IAAMR,EAAkBc,YAAO,IAAIC,KAAQ,oBAC3C,OAAO,2BACFV,GADL,IAEE/D,SACmB,UAAjBgE,EAAOI,MAAP,2BAESL,EAAM/D,UACNgE,EAAOU,cAEZX,EAAM/D,SACZE,aACmB,UAAjB8D,EAAOI,MAAP,2BAESL,EAAM7D,cACN8D,EAAOW,kBAEZZ,EAAM7D,aACZQ,eACmB,UAAjBsD,EAAOI,MAAP,2BAESL,EAAMrD,gBACNsD,EAAOY,oBAEZb,EAAMrD,eACZM,gBACmB,UAAjBgD,EAAOI,MAAP,2BAESL,EAAM/C,iBACNgD,EAAOa,qBAEZd,EAAM/C,gBACZM,oBACmB,UAAjB0C,EAAOI,MAAP,2BAESL,EAAMzC,qBACN0C,EAAOc,yBAEZf,EAAMzC,oBACZK,iBACmB,UAAjBqC,EAAOI,MAAP,2BAESL,EAAMpC,kBACNqC,EAAOe,sBAEZhB,EAAMpC,iBACZI,eACmB,UAAjBiC,EAAOI,MAAP,2BAESL,EAAMhC,gBACNiC,EAAOgB,oBAEZjB,EAAMhC,eACZmB,YAAY,2BACPa,EAAMb,aADA,IAETQ,gBAEmB,UAAjBM,EAAOI,MAAoBV,EAAkBK,EAAMb,YAAYQ,gBACjEC,UAA4B,UAAjBK,EAAOI,MAAoBJ,EAAOL,UAAYI,EAAMb,YAAYS,UAC3EC,WAA6B,UAAjBI,EAAOI,MAAoBJ,EAAOJ,WAAaG,EAAMb,YAAYU,WAC7EC,qBACmB,UAAjBG,EAAOI,MAAoBJ,EAAOH,qBAAuBE,EAAMb,YAAYW,qBAC7ElE,cAAeqE,EAAOI,UAa5B,QACE,OAAOL,KC5lBEkB,EAlBM,CACnB9K,OAAQ,CACN+K,QAAS,UACT7K,QAAS,UACT8K,IAAK,UACLC,MAAO,UACPC,MAAO,UACPC,QAAS,WAEXC,KAAM,CACJC,YAAa,GACbC,QAAS,GACTC,SAAU,KACVC,SAAU,KACVC,eAAgB,OCXZL,EAASN,EAATM,KAKFM,GADcN,EAAKE,QAAU,GACKF,EAAKC,YAM7C,SAASM,EAAgBC,GACvB,IALaC,EAAaC,EAAaC,EAOjCC,IAPOH,EAKcD,EALDE,EAKcV,EAAKI,SALNO,EAKgBX,EAAKG,SAJrDU,KAAKH,IAAIC,EAAKE,KAAKF,IAAID,EAAKD,KAKiBH,GACD,GACnD,OAAOO,KAAKC,MAAMF,GAGpB,SAASG,EAAeP,GACtB,OAAIA,EAAcR,EAAKI,SACd,SACEI,EAAcR,EAAKK,eACrB,SAEA,UAMJ,IAAMW,EAAcC,IAAMC,cAAc,CAC7CN,YAAaL,EAAgBY,OAAOC,YACpCnB,YAAaD,EAAKC,YAClBoB,WAAYN,EAAeI,OAAOC,cAkCrBE,MA7Bf,YAA8D,IAAtCC,EAAqC,EAArCA,SACtB,EAAsCC,mBAASjB,EAAgBY,OAAOC,aAAtE,mBAAOR,EAAP,KAAoBa,EAApB,KACA,EAAoCD,mBAAST,EAAeI,OAAOC,aAAnE,mBAAOC,EAAP,KAAmBK,EAAnB,KAEMC,EAAeC,uBACnB,SAACC,GACCJ,EAAelB,EAAgBsB,EAAMC,cAAcV,aACnDM,EAAcX,EAAec,EAAMC,cAAcV,eAEnD,CAACK,EAAgBC,IAGnBK,qBAAU,WAER,OADAZ,OAAOa,iBAAiB,SAAUL,GAC3B,kBAAMR,OAAOc,oBAAoB,SAAUN,OAGpD,IAAMxJ,EAAQ+J,mBACZ,iBAAO,CACLtB,cACAX,YAAaD,EAAKC,YAClBoB,gBAEF,CAACT,EAAaS,IAGhB,OAAO,kBAACL,EAAYmB,SAAb,CAAsBhK,MAAOA,GAAQoJ,IAOjCa,EAAiB,kBAAMC,qBAAWrB,IAElCsB,EAAkB,SAACC,GAC9B,MAAqCH,IACrC,OADA,EAAQxB,YACa2B,EADrB,EAAqBtC,aAC4BsC,EAAa,IAGnDC,EAAgB,WAE3B,OADuBJ,IAAff,Y,oEC7DJoB,GAAQ,SAAC3M,GAAD,OAAsB,kBAAC,IAAD,eAAY,cAAY,QAAWA,KAE1D4M,GAAW,SAAC,GAA2C,IAAzCnB,EAAwC,EAAxCA,SACzB,OACE,kBAAC,IAAD,CAAK3K,SAAS,KAAKzB,WAAW,OAAOwB,WAAY,EAAG,cAAY,QAC7D4K,IAKMoB,GAAa,SAAC7M,GAAD,OAAsB,kBAAC,GAAD,eAAM8M,GAAIC,MAAgB/M,KAE7DgN,GAAY,SAAChN,GAAD,OAAsB,kBAAC,GAAD,eAAM8M,GAAIG,MAAqBjN,KAEjEkN,GAAc,SAAClN,GAAD,OAAsB,kBAAC,GAAD,eAAM8M,GAAIK,MAAiBnN,KAE/DoN,GAAW,SAACpN,GAAD,OAAsB,kBAAC,GAAD,eAAM8M,GAAIO,MAAmBrN,KAE9DsN,GAAa,SAACtN,GAAD,OAAsB,kBAAC,GAAD,eAAM8M,GAAIS,MAAcvN,KAE3DwN,GAAmB,SAACxN,GAAD,OAAsB,kBAAC,GAAD,eAAM8M,GAAIW,MAAoBzN,KAEvE0N,GAAe,SAAC1N,GAAD,OAAsB,kBAAC,GAAD,eAAM8M,GAAIa,MAAkB3N,KAEjE4N,GAAY,SAAC5N,GAAD,OAAsB,kBAAC,GAAD,eAAM8M,GAAIe,MAAsB7N,KAElE8N,GAAW,SAAC9N,GAAD,OAAsB,kBAAC,GAAD,eAAM8M,GAAIiB,MAAoB/N,KAE/DgO,GAAW,SAAChO,GAAD,OAAsB,kBAAC,GAAD,eAAM8M,GAAImB,MAAyBjO,KAEpEkO,GAAa,SAAClO,GAAD,OACxB,kBAAC,GAASA,EACR,0BACEmO,EAAE,uMACFC,KAAK,mBAKEC,GAAW,SAACrO,GAAD,OACtB,kBAAC,GAASA,EACR,0BACEmO,EAAE,0NACFC,KAAK,mBAKEE,GAAc,SAACtO,GAAD,OAAsB,kBAAC,GAAD,eAAM8M,GAAIyB,MAAqBvO,KAInEwO,GAAqB,SAACxO,GAAD,OAAsB,kBAAC,GAAD,eAAM8M,GAAI2B,MAAwBzO,KAE7E0O,GAAa,SAAC1O,GAAD,OAAsB,kBAAC,GAAD,eAAM8M,GAAI6B,MAAe3O,KAE5D4O,GAAW,SAAC5O,GAAD,OACtB,kBAAC,GAASA,EACR,0BACEmO,EAAE,sSACFC,KAAK,mBAKES,GAAmB,SAAC7O,GAAD,OAAsB,kBAAC,GAAD,eAAM8M,GAAIgC,MAAsB9O,KAEzE+O,GAAiB,SAAC/O,GAAD,OAAsB,kBAAC,GAAD,eAAM8M,GAAIkC,MAAsBhP,K,+ECxF9EiP,GAAgB,CACpBC,OAAQ,oBAGJC,GAAoB,2BACrBF,IADqB,IAExB,eAAgB,qBAKZG,G,oDACJ,WAAYC,EAAUC,GAAsB,IAAD,kDAARC,EAAQ,iCAARA,EAAQ,yBACzC,+BAASA,IACLC,MAAMC,mBACRD,MAAMC,kBAAN,gBAA8BL,GAEhC,EAAKC,SAAWA,EAChB,EAAKC,SAAWA,EAChB,EAAKnL,KAAO,WAP6B,E,uBADtBqL,QAYvB,SAASE,GAAwBL,GAC/B,GAAwB,MAApBA,EAASM,OACX,MAAO,CAAEN,YAGX,IAAIO,EAAcP,EAASQ,OAC3B,OAAIR,EAASM,QAAU,KAAON,EAASM,OAAS,IACvCC,EAAYE,MAAK,SAACR,GAAD,MAAe,CAAED,WAAUC,eAE5CM,EAAYE,MAAK,SAACR,GACvB,IAAMS,EAAW,IAAIX,GAASC,EAAUC,EAAU,qBAClD,OAAOU,QAAQC,OAAOC,KAAKF,QAApBA,CAA6BD,MAO1C,SAASI,GAAcC,EAAQC,EAAUjS,GACvC,IAAMkS,EAAUlS,EAAO+Q,GAAuBF,GAExCsB,EAAa,CACjBH,SACAE,QAAQ,2BACHA,GADE,IAEL,UAAWE,aAAaC,QAE1BrS,KAAMA,EAAOsS,KAAKC,UAAUvS,QAAQwF,GAElCgN,EAAS,OAOb,OANIvF,OAAOwF,SAASC,KAAKC,SAAS,gBAChCH,EAAS,yBAGPI,kKAAYC,2BAA0BL,EAASI,kKAAYC,0BAExDC,MAAMN,EAASP,EAAUE,GAAYT,KAAKJ,IAGnD,IAAMyB,GAAc,SAACd,GAAD,OAAcF,GAAc,MAAOE,IACjDe,GAAe,SAACf,EAAUjS,GAAX,OAAoB+R,GAAc,OAAQE,EAAUjS,IACnEiT,GAAc,SAAChB,EAAUjS,GAAX,OAAoB+R,GAAc,MAAOE,EAAUjS,IAI1DkT,GAAqB,SAACC,GAAD,OAAQJ,GAAY,eAAD,OAAgBI,KAIxDC,GAAqB,SAACD,EAAI1I,GAAL,OAAcwI,GAAY,eAAD,OAAgBE,GAAM,CAAEA,KAAI1I,UAK1E4I,GAAgB,SAAC7K,GAAD,OAAWuK,GAAY,yBAAD,OAA0BvK,KAShE8K,GAAiB,SAAC9K,GAAD,OAAWuK,GAAY,cAAD,OAAevK,KAItD+K,GAAsB,SAAChK,GAAD,OACjCyJ,GAAa,SAAU,CACrBzJ,QACAiK,IAAI,GAAD,OAAKvG,OAAOwF,SAASC,KAArB,cAGMe,GAAe,kBAAMV,GAAY,QC7FxCW,GAAiB,CACrBnK,MAAO,GACPoK,UAAW,GACXC,iBAAiB,EAEjBC,OAAQ,aAERC,MAAO,SAACzB,MAGJ0B,GAAchH,IAAMC,cAAc0G,IAGjC,SAASM,GAAT,GAA2E,IAA5C3G,EAA2C,EAA3CA,SACpC,EAA8BN,IAAMO,SAASoG,IAA7C,mBAAOO,EAAP,KAAgBC,EAAhB,KAD+E,SAGhEJ,EAHgE,gFAG/E,WAAqBzB,GAArB,4BAAAjR,EAAA,0DACMiR,EADN,wBAEID,aAAa+B,QAAQ,QAAS9B,GAFlC,kBAK8BoB,KAL9B,QAKYW,EALZ,UAQQhC,aAAa+B,QAAQ,YAAa7B,KAAKC,UAAL,OAAe6B,QAAf,IAAeA,OAAf,EAAeA,EAAWlD,WAAa,IAEnEmD,EAHO,mDAIRJ,IACU,OAATG,QAAS,IAATA,GAAA,UAAAA,EAAWlD,gBAAX,eAAqB3H,QAAS,CAAEA,MAAK,OAAE6K,QAAF,IAAEA,GAAF,UAAEA,EAAWlD,gBAAb,aAAE,EAAqB3H,SACnD,OAAT6K,QAAS,IAATA,GAAA,UAAAA,EAAWlD,gBAAX,eAAqByC,YAAa,CAAEA,UAAS,OAAES,QAAF,IAAEA,GAAF,UAAEA,EAAWlD,gBAAb,aAAE,EAAqByC,YAN7D,IAOXC,gBAAiBU,QAAO,OAACF,QAAD,IAACA,GAAD,UAACA,EAAWlD,gBAAZ,aAAC,EAAqB3H,SAGhD2K,EAAWG,IAjBnB,gDAqBME,QAAQ3I,MAAR,MAEAwG,aAAa+B,QAAQ,QAAS,IAC9B/B,aAAa+B,QAAQ,YAAa,IAxBxC,0DAH+E,sBA2C/E,OALApH,IAAMc,WAAU,WAEdiG,EAAM1B,aAAaoC,QAAQ,UAAY,MACtC,IAEI,kBAACT,GAAY9F,SAAb,CAAsBhK,MAAK,2BAAOgQ,GAAP,IAAgBJ,OAXlD,WACEzB,aAAa+B,QAAQ,QAAS,IAC9B/B,aAAa+B,QAAQ,YAAa,IAClCD,EAAWR,KAQ6CI,WAAUzG,GAG/D,SAASoH,KACd,IAAMR,EAAUlH,IAAMoB,WAAW4F,IAEjC,IAAKE,EAAS,MAAM,IAAI7C,MAAM,qDAE9B,OAAO6C,EArDTF,GAAYW,YAAc,cCuBXC,OA5Bf,YASqB,IARnBC,EAQkB,EARlBA,MACAC,EAOkB,EAPlBA,GAOkB,IANlBC,mBAMkB,MANJ,UAMI,MALlBC,eAKkB,MALR,QAKQ,EAJlBC,EAIkB,EAJlBA,SACAC,EAGkB,EAHlBA,UAGkB,IAFlBC,YAEkB,MAFX,KAEW,EADlBC,EACkB,EADlBA,UAEA,OACE,kBAAC,IAAD,CACEN,GAAIA,EACJnG,GAAI0G,IACJN,YAAaA,EACbC,QAASA,EACTC,SAAUA,EACVC,UAAWA,EACXC,KAAMA,EACNG,GAAI,CACFC,MAAOH,EAAY,OAAS,SAG7BP,IClBDW,GAA6C,SAAC,GAAsB,IAApBlI,EAAmB,EAAnBA,SAAUwH,EAAS,EAATA,GAC9D,OACE,kBAAC,IAAD,CAAMnG,GAAI8G,IAAYX,GAAIA,EAAI3T,MAAM,WAAWgB,OAAQ,CAAEuT,eAAgB,SACtEpI,IAuCQqI,GAlCwB,WACrC,IAAMC,EAAUC,cAChB,EAA0BnB,KAAlBlL,EAAR,EAAQA,MAAOsK,EAAf,EAAeA,OAOf,OAAItK,EAEA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAYmF,GAAIpN,IAAQyT,QAAQ,QAAQD,YAAY,UAAUE,SAAU,kBAAC,GAAD,CAAkBa,QAAS,KAAnG,cAGA,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,GAAD,CAAUhB,GAAG,6BAAb,eAEF,kBAAC,IAAD,KACE,kBAAC,GAAD,CAAUA,GAAG,kCAAb,oBAEF,kBAAC,IAAD,MACA,kBAAC,IAAD,CAAUiB,QAnBK,WACrBjC,IACA8B,EAAQI,GAAG,IAiB8B7U,MAAM,cAAzC,oBAOC,kBAAC,GAAD,CAAY2T,GAAG,8BAA8BD,MAAM,eAAeG,QAAQ,QAAQD,YAAY,a,UCrC1FkB,GAV4B,WACzC,OACE,kBAAC,KAAD,CACEC,IAA8B,gBAC9BC,IAAI,yFACJZ,MAAO,MCqEEa,OAxEf,WACE,OACE,kBAAC,IAAD,CACEzH,GAAG,SACH0H,KAAK,SACLC,GAAG,QACHhB,GAAI,CACFiB,WAAY,EACZC,aAAc,sBAGhB,kBAAC,IAAD,CACEF,GAAG,QACH3T,SAAS,KACT2S,GAAI,CACFtU,OAAQ,EACRyV,SAAU,SACVD,aAAc,oBACdE,UAAW,oBACX,gBAAiB,CACf1V,OAAQ,OACR0V,UAAW,oBAIf,kBAAC,IAAD,CAAWC,KAAK,gBACd,kBAAC,IAAD,CAAQhI,GAAIiI,IAAMC,QAAS,GACzB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAMlE,KAAK,SAAX,kBAEF,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAMA,KAAK,SAAX,qBAEF,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAMA,KAAK,WAAX,sBAEF,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAMA,KAAK,WAAX,6BAKR,kBAAC,IAAD,CAAWgE,KAAK,eAAevD,GAAG,QAChC,kBAAC,IAAD,CAAM0D,MAAM,SAASrU,GAAI,GACvB,kBAAC,IAAD,CAAKsU,GAAI,GACP,kBAAC,IAAD,CACEpE,KAAK,kCACLqE,YAAU,EACV1B,GAAI,CACF2B,QAAS,UAGX,kBAAC,GAAD,QAGJ,kBAAC,IAAD,CAAKhW,WAAW,UACd,kBAAC,IAAD,CAAM0N,GAAIuI,IAAWpC,GAAG,IAAInS,SAAS,MAAMxB,MAAM,YAAjD,gBAGA,kBAAC,IAAD,CAAMwB,SAAS,MAAf,2GAIF,kBAAC,IAAD,CAAKwU,GAAG,QACN,kBAAC,GAAD,WC5CGC,OAlBf,YAAoD,IAApCC,EAAmC,EAAnCA,MAAOC,EAA4B,EAA5BA,QAAShK,EAAmB,EAAnBA,SAC9B,OACE,kBAAC,IAAMiK,SAAP,KACE,kBAAC,IAAD,CAAS5I,GAAG,KAAKwG,KAAK,MACnBkC,GAEFC,GAAWjT,MAAMC,QAAQgT,GACtBA,EAAQ7T,KAAI,SAAC+T,EAAIzS,GAAL,OACV,kBAAC,IAAD,CAAM0S,GAAI,EAAG/T,IAAKqB,GACfyS,MAGLF,GAAW,kBAAC,IAAD,CAAMG,GAAI,GAAIH,GAC5BhK,GAAY,kBAAC,IAAD,CAAKoK,GAAI,GAAIpK,K,UCDzB,SAASqK,GAAkBzT,EAAY0T,EAAeC,EAAyCC,GACpG,IAAMC,EAAmBpK,sBAAYkK,EAAUC,GAEzCE,EAnBD,SAAqB9T,EAAY0T,GACtC,MAA4CrK,mBAASrJ,GAArD,mBAAO8T,EAAP,KAAuBC,EAAvB,KAYA,OAVAnK,qBAAU,WACR,IAAMoK,EAAUC,YAAW,WACzBF,EAAkB/T,KACjB0T,GAEH,OAAO,WACLQ,aAAaF,MAEd,CAAChU,EAAO0T,IAEJI,EAMgBK,CAAYnU,EAAO0T,GAE1C9J,qBAAU,kBAAMiK,EAAiBC,KAAiB,CAACA,EAAgBD,IAoD9D,SAASO,GAASjB,GACvBvJ,qBAAU,WACR,IAAMyK,EAAYC,SAASnB,MAE3B,OADAmB,SAASnB,MAAQA,EAAQ,MAAQkB,EAC1B,WACLC,SAASnB,MAAQkB,MAuChB,SAASE,GAAgBtU,GAC9B,IAEMuU,EApBR,SAA0BC,EAAoCxU,GAC5D,OAAO,SAAUyU,IACf,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAASC,OACXF,EAAM,aACJtB,MAAwB,YAAjBuB,EAAQE,KAAqB,YAAW,SAC/CC,YAAaH,EAAQC,KACrBrH,OAAQoH,EAAQE,KAChBE,YAAY,GACR7U,GAAW,MAYA8U,CAFPC,eAE+B/U,GAK7C,MAAO,CAAEuU,eAAcS,aAHF,SAACN,GAAD,OAAkBH,EAAa,CAAEI,KAAM,UAAWD,UAGlCO,WAFlB,SAACP,GAAD,OAAkBH,EAAa,CAAEI,KAAM,QAASD,WC3HrE,IAAMxB,GAAQ,gCA6GCgC,OA3Gf,WAGE,OAFAf,GAASjB,IAGP,kBAAC,GAAD,CAAMA,MAAOA,IACX,kBAAC,IAAD,iQAIA,kBAAC,IAAD,CAAS1I,GAAG,KAAKwG,KAAK,KAAKmE,GAAI,EAAG7B,GAAI,GAAtC,4BAGA,kBAAC,IAAD,oOAIA,kBAAC,IAAD,CAAMA,GAAI,GAAV,0KAIA,kBAAC,IAAD,CAAS9I,GAAG,KAAKwG,KAAK,KAAKmE,GAAI,EAAG7B,GAAI,GAAtC,SAGA,kBAAC,IAAD,8SAKA,kBAAC,IAAD,CAAS9I,GAAG,KAAKwG,KAAK,KAAKmE,GAAI,EAAG7B,GAAI,GAAtC,sBAGA,kBAAC,IAAD,sgBAOA,kBAAC,IAAD,CAAMA,GAAI,GAAV,mTAGqD,IACnD,kBAAC,IAAD,CAAM9E,KAAK,wCAAwCqE,YAAU,EAAC7V,MAAM,eAApE,0CAIF,kBAAC,IAAD,CAASwN,GAAG,KAAKwG,KAAK,KAAKmE,GAAI,EAAG7B,GAAI,GAAtC,sBAGA,kBAAC,IAAD,CAAS9I,GAAG,KAAKwG,KAAK,KAAKmE,GAAI,EAAG7B,GAAI,GAAtC,gBAGA,kBAAC,IAAD,uMAIA,kBAAC,IAAD,CAAMA,GAAI,GAAV,8PAKA,kBAAC,IAAD,CAAMA,GAAI,GAAV,4IAGA,kBAAC,IAAD,CAAMA,GAAI,GAAV,iOAIA,kBAAC,IAAD,CAAMA,GAAI,GAAV,8VAKA,kBAAC,IAAD,CAAMA,GAAI,GAAV,qXAKA,kBAAC,IAAD,CAAS9I,GAAG,KAAKwG,KAAK,KAAKmE,GAAI,EAAG7B,GAAI,GAAtC,iBAGA,kBAAC,IAAD,+ZAMA,kBAAC,IAAD,CAAMA,GAAI,GAAV,0JAIA,kBAAC,IAAD,CAAMA,GAAI,GAAV,qJAIA,kBAAC,IAAD,CAAS9I,GAAG,KAAKwG,KAAK,KAAKmE,GAAI,EAAG7B,GAAI,GAAtC,oDAGA,kBAAC,IAAD,6R,0DCnGO8B,GAAoB,SAACrV,GAAD,IAAgBsV,EAAhB,4DAAoC/T,EAApC,MACrB,KAAVvB,GAA8BuV,OAAOC,MAAMD,OAAOvV,IAAnCsV,EAA4DG,SAASzV,EAAO,KAEhF0V,GAAqB,SAAC1V,GAAD,YAA0CuB,IAAVvB,EAAsB,GAAK2V,OAAO3V,IAIvF4V,GAAsB,SAAC5V,GAAD,IAAgBsV,EAAhB,4DAAoC/T,EAApC,MACvB,KAAVvB,GAA8BuV,OAAOC,MAAMD,OAAOvV,IAAnCsV,EAA4DO,GAAqBC,WAAW9V,KAEhG+V,GAAuB,SAAC/V,GAAD,YACxBuB,IAAVvB,EAAsB,GAAK2V,OAAOK,GAAqBhW,KAI5CiW,GAAwB,SAACjW,GAAD,MAA6B,SAAVA,GAE3CkW,GAAyB,SAAClW,GAAD,OAAoB2V,OAAO3V,IAiBpDmW,GAAiC,SAACnW,GAC7C,OAAQA,GACN,IAAK,eACH,MAAO,eACT,IAAK,eACH,MAAO,eACT,QACE,MAAO,gBAUAoW,GAA8B,SAACpW,GAAD,OAAYA,OAAQuB,EAAY,iCAE9D8U,GAAkC,SAACrW,GAAD,OAC7CwV,MAAMD,OAAOvV,IAAU,0CAAoCuB,GAEhD+U,GAAmC,SAACtW,GAAD,OAC9CuV,OAAOgB,UAAUhB,OAAOvV,SAAUuB,EAAY,kDAEnCiV,GAAgD,SAACjO,GAAD,OAAS,SAACvI,GAAD,OACpEwV,MAAMD,OAAOvV,KAAWuV,OAAOvV,IAAUuI,OAAMhH,EAA/C,oDAA+FgH,KAEpFkO,GAAgD,SAACjO,GAAD,OAAS,SAACxI,GAAD,OACpEwV,MAAMD,OAAOvV,KAAWuV,OAAOvV,IAAUwI,OAAMjH,EAA/C,oDAA+FiH,KASpFkO,GAAe,SAAC1W,GAC3B,IAAM2W,EAAgBP,GAASpW,GACzB4W,EATqC,SAAC5W,GAC5C,IAAM6W,EAASC,GAAU9W,GACzB,YAAkBuB,IAAXsV,GAA8C,yDAAtBA,EAAOE,WAClC,4DACAxV,EAKoByV,CAAWhX,GACnC,OAAK2W,GAAkBC,EAGd,CACLR,SAAUO,EACVK,WAAYJ,QAJd,GASEK,GACJ,wJACWC,GAAgB,SAAC5R,GAAD,OAAoB2R,GAAYE,KAAK7R,IAErD8R,GACX,sCAAIC,EAAJ,yBAAIA,EAAJ,uBACA,SAACrX,EAAesX,GAAhB,OACED,EAAWE,QAAO,SAAC5P,EAA2B6P,GAA5B,OAA+C7P,GAAS6P,EAAUxX,EAAOsX,UAAY/V,KAsBpG,SAASkW,GAAYC,GAC1B,MAAmC,UAA5BA,EAAUzV,cCjBnB,IAAMrF,GAAS,CACb+a,UAAWC,YAAI,CACbC,aAAc,KAEhBlH,MAAOiH,YAAI,CACTnZ,SAAU,GACVzB,WAAY,OACZwB,WAAY,SAEdsZ,WAAYF,YAAI,CACd3a,MAAOsK,EAAa9K,OAAOkL,QAE7BoQ,SAAUH,YAAI,CACZ9a,OAAQ,GACRkb,UAAW,EACXH,aAAc,EACd9E,QAAS,OACTkF,OAAQ,CACNC,aAAc,EACdC,OAAQ,YACR9G,MAAO,UAGX1J,MAAOiQ,YAAI,CACT9a,OAAQ,GACRG,MAAOsK,EAAa9K,OAAOkL,MAC3BlJ,SAAU,GACV+S,eAAgB,YAChBhT,WAAY,SAEd4Z,UAAWR,YAAI,CACbS,SAAU,EACVhG,WAAY,EACZiG,UAAW,OACXC,YAAa,GACbC,aAAc,GAEdC,gBAAiB,QACjBP,aAAc,EAEdzZ,SAAU,GACVD,WAAY,OACZka,OAAQ,iBAIGC,GA7If,YAQI,IAPFC,EAOC,EAPDA,WACAC,EAMC,EANDA,gBACAC,EAKC,EALDA,SAMA,OACE,YAAC,KAAD,CAAOhX,KAAM8W,EAAYG,SAAU3C,GAAU4C,UAAU,WACpD,gBAAUC,EAAV,EAAGC,MAA0BC,EAA7B,EAAuBC,KAAvB,OACC,YAAC,WAAD,KACE,mBAAKxB,IAAKhb,GAAO+a,WACf,qBACEC,IAAK,CAAChb,GAAO+T,MAAOwI,EAAWxR,OAASwR,EAAWE,SAAWzc,GAAOkb,YACrEwB,QAASL,EAAYnX,MAFvB,aAMCgX,EACC,mBAAKlB,IAAKhb,GAAOmb,UACf,mBAAKH,IAAKhb,GAAOwb,WAAYa,EAAYjZ,QAG3C,YAAC,WAAD,KACE,mBAAK4X,IAAKhb,GAAOmb,UACf,qBAAYkB,EACV,sBAAQjZ,MAAM,GAAGR,IAAI,UACpBH,OAAOC,KAAKia,IAAqBha,KAAI,SAACkF,GAAD,OACpC,sBAAQzE,MAAOyE,EAAQjF,IAAKiF,GACzBA,QAKR0U,EAAWxR,OAASwR,EAAWE,SAC9B,iBAAGzB,IAAKhb,GAAO+K,OAAf,0DAOR,YAAC,KAAD,CACE7F,KAAM+W,EACNE,SAAU,SAACrU,EAAD,GAA2C,IAAnBD,EAAkB,EAAlBA,OAChC,SAAO2R,GAAS1R,SACkBnD,IAAhCgY,GAAoB9U,IACnB8U,GAAoB9U,GAAQiK,SAAShK,UAEpCnD,GAENyX,UAAU,WAET,gBAAUQ,EAAV,EAAGN,MAAwBO,EAA3B,EAAqBL,KAArB,OACC,mBAAKxB,IAAKhb,GAAO+a,WACf,qBACEC,IAAK,CAAChb,GAAO+T,MAAO8I,EAAS9R,OAAS8R,EAASJ,SAAWzc,GAAOkb,YACjEwB,QAASE,EAAU1X,MAFrB,kBAMCgX,EACC,mBAAKlB,IAAKhb,GAAOmb,UACf,mBAAKH,IAAKhb,GAAOwb,WAAYoB,EAAUxZ,QAGzC,YAAC,WAAD,KACE,mBAAK4X,IAAKhb,GAAOmb,UACf,qBAAYyB,EACV,sBAAQxZ,MAAM,GAAGR,IAAI,UACpBW,MAAMC,QAAQmZ,GAAoBN,EAAYjZ,QAC3CuZ,GAAoBN,EAAYjZ,OAAOT,KAAI,SAACkF,GAAD,OACzC,sBAAQzE,MAAOyE,EAAQjF,IAAKiF,GACzBA,MAGL,OAGPgV,EAAS9R,OAAS8R,EAASJ,SAC1B,iBAAGzB,IAAKhb,GAAO+K,OAAf,sEA6DhB4R,GAAwD,CAC5D,0BAAwB,CACtB,MACA,SACA,aACA,SACA,WACA,WACA,QACA,cACA,iBACA,WACA,SACA,gBAEF,6BAA2B,CACzB,eACA,QACA,OACA,YACA,iBACA,oBACA,QACA,yBAEFG,SAAU,CAAC,mBAAiB,eAAa,kBAAmB,YAC5D,sBAAuB,CAAC,OAAQ,eAAgB,QAAS,iBAAkB,eAAgB,UAC3FC,MAAO,CAAC,eAAgB,eACxB,YAAa,CACX,WACA,OACA,QACA,cACA,qBACA,QACA,UACA,WACA,YACA,UAEFC,WAAY,CAAC,cACbC,OAAQ,CAAC,UACT,kBAAmB,CAAC,QAAS,OAAQ,OAAQ,gBAAiB,SAC9D,mBAAiB,CACf,QACA,iBACA,WACA,UACA,iBACA,oBACA,eACA,cAEF,gBAAc,CAAC,iBACfC,WAAY,CAAC,cACbC,QAAS,CAAC,WACVC,UAAW,CAAC,WAAY,OAAQ,SAAU,OAAQ,kBAClD,qBAAsB,CACpB,WACA,oBACA,aACA,SACA,WACA,UACA,SACA,iBACA,6BACA,iBACA,SACA,gBAEFC,UAAW,CACT,YACA,OACA,UACA,OACA,gBACA,OACA,aACA,MACA,YACA,wBACA,4BACA,OACA,mBAEF,mBAAoB,CAAC,mBAAoB,iBAAkB,UAAW,SAAU,aAChF,gCAA8B,CAC5B,0BACA,eACA,kBACA,sBACA,MACA,aAISC,GAAwC,CACnD,0BAAwB,KACxB,6BAA2B,KAC3BR,SAAU,KACV,sBAAuB,KACvBC,MAAO,KACP,YAAa,KACbC,WAAY,KACZC,OAAQ,KACR,kBAAmB,KACnB,mBAAiB,KACjB,gBAAc,KACdC,WAAY,KACZC,QAAS,KACTC,UAAW,KACX,qBAAsB,KACtBC,UAAW,KACX,mBAAoB,KACpB,gCAA8B,MAGnBE,GAAiB,SAACC,GAAD,OAA+C,SAACC,GAAD,aAG3E,UAAAhb,OAAOib,QAAQF,GAAkB,IAAIG,MAAK,sDAAkBF,YAA5D,eAAoE,KAAM,KAE/DG,GAAiBL,GAAeD,IAEhCO,GAA6C,CACxDC,IAAK,KACLC,MAAO,KACPC,OAAQ,KACR,0BAA2B,KAC3B,eAAgB,KAChB,kBAAmB,KACnBC,aAAS,KACTC,SAAU,KACVC,YAAQ,KACRC,KAAM,KACNC,KAAM,KACNC,QAAS,KACT,sBAAoB,KACpBC,SAAU,KACVC,OAAQ,KACRC,SAAU,KACV,oBAAqB,KACrBC,KAAM,KACNC,aAAS,KACT,eAAgB,KAChB,cAAe,KACf,eAAa,KACb,mBAAiB,KACjBC,OAAQ,KACRC,SAAU,KACVC,MAAO,KACPC,WAAO,KACPC,KAAM,KACN,eAAgB,KAChBC,eAAW,KACXC,KAAM,KACN,gBAAiB,KACjBC,KAAM,KACNC,QAAS,KACTC,aAAS,KACT,kBAAmB,KACnBC,MAAO,KACP,iBAAkB,KAClBC,WAAO,KACPC,KAAM,KACNC,OAAQ,KACR,eAAgB,KAChBC,MAAO,KACP,cAAe,KACf,mBAAoB,KACpBC,OAAQ,KACRC,IAAK,KACL,iBAAkB,KAClBC,YAAQ,KACR,iBAAkB,KAClBC,OAAQ,KACRC,MAAO,KACP,cAAe,KACfC,QAAS,KACT,qBAAsB,KACtBC,MAAO,KACPC,SAAU,KACVC,QAAS,KACTC,YAAQ,KACRC,KAAM,KACNC,KAAM,KACNC,KAAM,KACN,gBAAiB,KACjB,iBAAe,KACf,6BAAwB,KACxB,wBAAmB,KACnB,4BAAuB,KACvB,WAAY,KACZ,YAAa,KACbC,WAAO,KACP,iBAAe,KACf,oBAAkB,KAClBC,OAAQ,KACRC,OAAQ,KACR,eAAgB,KAChBC,MAAO,KACP,iBAAkB,KAClB,iBAAkB,KAClBC,SAAU,KACV,iBAAe,KACfC,MAAO,KACPC,KAAM,KACN,kBAAmB,KACnBC,IAAK,KACLC,SAAU,KACVC,YAAQ,KACRC,OAAQ,KACR,eAAgB,KAChBC,OAAQ,KACRC,MAAO,KACP,wBAAyB,KACzBC,QAAS,KACT,iBAAkB,KAClB,oBAAqB,KACrB,eAAgB,KAChB,aAAc,KACdrE,WAAY,MACZE,WAAY,MACZD,OAAQ,MACR,gBAAc,MACd,2BAA4B,MAC5BE,QAAS,MACT,sBAAoB,MACpB,eAAgB,MAChB,iDAA+C,MAC/C,mBAAoB,MACpB,4BAAuB,MACvB,wBAAsB,MACtB,uBAAqB,OAGVmE,GAAsB/D,GAAeM,IC/X3C,SAAS0D,GAAwB9c,GACtC,OAAQA,GACN,KAAK3F,EAAa0iB,aAChB,MAAO,kBACT,KAAK1iB,EAAa2iB,WAChB,MAAO,iBACT,KAAK3iB,EAAa4iB,WAChB,MAAO,iBACT,KAAK5iB,EAAa6iB,YAChB,MAAO,iBACT,QACE,MAAO,SAIN,SAASC,GAA6Brd,GAC3C,OAAQA,GACN,KAAKxF,EAAkB8iB,SACrB,MAAO,WACT,KAAK9iB,EAAkB+iB,SACrB,MAAO,cACT,KAAK/iB,EAAkBgjB,YACrB,MAAO,uCACT,KAAKhjB,EAAkBijB,OACrB,MAAO,0BACT,QACE,MAAO,SAIN,SAASC,GAAuBvW,GAAkC,IAArBwW,EAAoB,uDAAX,EAC3D,OAAOC,GAAqB,IAANzW,EAAWwW,GAG5B,SAASC,GAAezW,GAAkC,IAArBwW,EAAoB,uDAAX,EACnD,OAAOxW,EAAI0W,eAAe,QAAS,CAAEC,sBAAuBH,IAAY,IAGnE,SAASI,GAAW5W,GACzB,OAAOA,EAAI0W,eAAe,SAGrB,SAASG,GAAyBC,GACvC,YAAuC7d,IAAhC6d,EAAA,iCACoBA,GACvB,mDAKC,IA2BKC,GA3BCC,GAAe,SAAChX,EAAaiX,GACxC,IAAMC,EAAO9W,KAAK+W,IAAI,GAAIF,GAC1B,OAAO7W,KAAKgX,MAAMpX,EAAMkX,GAAQA,GAGrBxJ,GAAuB,SAAC1N,GAAD,OAAiBgX,GAAmB,IAANhX,EAAW,IAEhEuN,GAAuB,SAACvN,GAAD,OAAiBgX,GAAahX,EAAM,IAAK,IAItE,SAASwO,GAAU6I,GACxB,IAAM9I,EAAS+I,aAASD,GACxB,GAA0B,iBAAtB9I,EAAOE,WAA+B,CACxC,IAAM8I,EAAaC,aAAUH,EAAS,aAAc,IAAI5Y,MACxD,GAA8B,iBAA1B8Y,EAAW9I,WACb,OAEF,OAAO8I,EAET,OAAOhJ,EAGF,SAASkJ,GAAaC,GAC3B,YAAgBze,IAATye,EAAqBlZ,YAAOkZ,EAAM,cAAgB,GAUpD,SAASC,GAAaN,EAAiBO,EAAiBC,GAG7D,IAAMC,EAAOF,IAAcb,GAAKgB,IAAMF,GAAYA,EAC5CG,EAAMJ,IAAcb,GAAKgB,KAAO,EAAI,EACpCL,EAAOlJ,GAAU6I,GACvB,QAAape,IAATye,EACF,MAAO,GAET,IAAMO,EAAaC,aAASR,EAAMI,GAC5BK,EAAWC,aAAQH,EAAYD,GACrC,OAAOxZ,YAAO2Z,EAAU,e,SAlBdpB,O,aAAAA,I,wBAAAA,Q,KAuBL,IAqBMsB,GAA0B,SACrCC,EACAC,EACAC,GAEA,MAA6B,WAAtBF,EAAA,qCACmBC,EADnB,6IACyIA,EADzI,uFACyNC,EADzN,KAEmB,WAAtBF,EAAA,qCACsBC,EADtB,6IAC4IA,EAD5I,uFAC4NC,EAD5N,KAEA,IAKAC,GAAc,SAACf,GACnB,IAAMnJ,EAASC,GAAUkJ,GACzB,OAAOnJ,EAAS/P,YAAO+P,EAAQ,mBAAgBtV,GAkB3Cyf,GAAiB,SAACxa,GACtB,IAAMhB,EAAmB,CACvByb,uBAAmBza,EAAKxE,aAAaI,iBACrC8e,iCAAuBH,GAAYva,EAAKxE,aAAaK,qBACrD8e,OAAQ3a,EAAKhB,YAAYU,WACzBkb,mBAAoB5a,EAAKhB,YAAYW,sBAEjCtF,EAAQ2F,EAAKhB,YAAYS,UAmB/B,OAjBIpF,GAAU2F,EAAKxE,aAAaI,kBAAoBoE,EAAKxE,aAAaI,kBAAoB,QACxFoD,EAAY6b,YAAc,CACxBrB,KAAMe,GAAYva,EAAKhB,YAAYK,kBAEjCW,EAAKhB,YAAYI,2BACnBJ,EAAY6b,YAAY9R,IAAM/I,EAAKhB,YAAYM,gBAE/CN,EAAY6b,YAAYC,eAAY9a,EAAKhB,YAAYO,sBAIrDlF,IACF2E,EAAY3E,MAAQA,EAChBA,EAAQ,KACV2E,EAAY+b,oBAAsB/a,EAAKhB,YAAYC,oBAGhDD,GAIHgc,GAAe,SAAChb,GAOpB,MANuB,CACrBib,YAAQjb,EAAKtB,sBAAsBE,OACnCD,IAAKqB,EAAKtB,sBAAsBC,IAChCuc,kBAAWlb,EAAKtB,sBAAsBG,IACtCC,MAAOkB,EAAKtB,sBAAsBI,QAMhCqc,GAAgB,SAACnb,GACrB,IAAMob,EAAkB,CACtBC,eAAgBrb,EAAKlC,uBAAuBpC,cAC5CqC,MAAOiC,EAAKlC,uBAAuBC,MACnCud,YAAQ5H,GAAW1T,EAAKlC,uBAAuBG,QAC/Csd,iBAAatH,GAAgBjU,EAAKlC,uBAAuBI,aACzDC,QAAS6B,EAAKlC,uBAAuBK,QACrCE,QAAS2B,EAAKlC,uBAAuBO,QACrCmd,YAAaxb,EAAKlC,uBAAuBM,WACzCqd,SAAUzb,EAAKlC,uBAAuBE,QAAQ0d,MAAM,KAAK,GACzD5f,SAAU,CAER6f,MAAO3b,EAAKlE,SAAS8f,oBACrBC,QACyC,gBAAvC7b,EAAKxE,aAAaG,iBACd,SACuC,iBAAvCqE,EAAKxE,aAAaG,iBAClB,UACA,UASV,MAN8C,eAA1CqE,EAAKlC,uBAAuBQ,YAC9B8c,EAAWU,IAAM,CACfnd,IAAKqB,EAAKlC,uBAAuBS,OACjCwd,YAAa/b,EAAKlC,uBAAuBW,eAAe1F,KAAI,kBAAqB,CAAEsiB,eAAvB,EAAG1c,IAAyCZ,MAA5C,EAAQA,YAGjEqd,GAIHY,GAAiB,SAAChc,GACtB,IAAMic,EAAmB,CACvBC,sBAAeC,GAAenc,GAC9Boc,yBAAkBC,GAAerc,GACjCsc,6BAAsBC,GAAevc,IAQvC,MAN2C,gBAAvCA,EAAKxE,aAAaG,iBACpBsgB,EAAYO,4BAA8BC,GAAkBzc,IAE5Dic,EAAYS,cAAgBC,GAAe3c,GAC3Cic,EAAYW,WAAaC,GAAe7c,IAEnCic,GAGHa,GAAe,SAACtjB,GAEpB,QAAcuB,IAAVvB,EACF,OAAe,IAARA,GAKL2iB,GAAiB,SAACnc,GAEtB,IAAM+c,EAAQ/c,EAAKhE,aAAaghB,mBAChC,GAAID,EACF,MAAO,CAAEE,eAAgBF,GAE3B,IAAMG,EAAmB,CACvBC,KAAMnd,EAAKhE,aAAaC,IAAM,MAAQ+D,EAAKhE,aAAaE,KAAO,iBAAmB,eAElFkhB,cAAUpd,EAAKhE,aAAaqhB,cAE5BC,KAAMtd,EAAKhE,aAAauhB,YAGpBnD,EAAoBpa,EAAKhE,aAAaoe,kBAI5C,GAHIA,GAA2C,YAAtBA,IACvB8C,EAAYM,qBAAuBpD,GAEZ,QAArB8C,EAAYC,KACdD,EAAYO,sBAAwBlD,GAAYva,EAAKhB,YAAYG,qBACjE+d,EAAYQ,gBAAa1d,EAAKhE,aAAaO,YAAYxD,KAAI,SAACmD,GAAD,MAAW,CACpEyC,IAAKzC,EAAKZ,KACVqiB,SAAU,CACR,MAAOb,GAAa5gB,EAAKtB,aAAa,GAAGQ,uBACzC,QAAS0hB,GAAa5gB,EAAKtB,aAAa,GAAGQ,uBAC3C,QAAS0hB,GAAa5gB,EAAKtB,aAAa,GAAGQ,uBAC3C,MAAO0hB,GAAa5gB,EAAKtB,aAAa,GAAGQ,gCAGxC,CACL,IAAMa,EAAM,CAAC,MAAO,MAAO,MAAO,MAClCihB,EAAYQ,gBAAa1d,EAAKhE,aAAaI,qBAAqBrD,KAAI,SAACmD,EAAM7B,GAAP,MAAkB,CACpFsE,IAAK1C,EAAI5B,GACTsjB,SAAU,CACR,MAAOb,GAAa5gB,EAAKtB,aAAa,GAAGQ,uBACzC,QAAS0hB,GAAa5gB,EAAKtB,aAAa,GAAGQ,uBAC3C,QAAS0hB,GAAa5gB,EAAKtB,aAAa,GAAGQ,uBAC3C,MAAO0hB,GAAa5gB,EAAKtB,aAAa,GAAGQ,4BAI/C,OAAO8hB,GAIHP,GAAiB,SAAC3c,GAEtB,IAAM+c,EAAQ/c,EAAKxD,eAAewgB,mBAClC,GAAID,EACF,MAAO,CAAEE,eAAgBF,GAG3B,IAAMa,EAAmB,CAEvBR,cAAUpd,EAAKxD,eAAe6gB,cAE9BC,KAAMtd,EAAKxD,eAAe+gB,WAC1BG,gBAAY1d,EAAKxD,eAAeE,iBAAiB3D,KAAI,SAAC8kB,GAAD,OAASf,GAAae,EAAIhhB,2BAG3Eud,EAAoBpa,EAAKxD,eAAe4d,kBAI9C,OAHIA,GAA2C,YAAtBA,IACvBwD,EAAYJ,qBAAuBpD,GAE9BwD,GAIHf,GAAiB,SAAC7c,GAEtB,IAAM+c,EAAQ/c,EAAKlD,gBAAgBkgB,mBACnC,GAAID,EACF,MAAO,CAAEE,eAAgBF,GAG3B,IAAMe,EAAmB,CAEvBV,cAAUpd,EAAKlD,gBAAgBugB,cAE/BC,KAAMtd,EAAKlD,gBAAgBygB,WAC3BG,gBAAY1d,EAAKlD,gBAAgBE,cAAcjE,KAAI,SAAC8kB,GAAD,OAASf,GAAae,EAAI1gB,wBAGzEid,EAAoBpa,EAAKlD,gBAAgBsd,kBAI/C,OAHIA,GAA2C,YAAtBA,IACvB0D,EAAYN,qBAAuBpD,GAE9B0D,GAIHrB,GAAoB,SAACzc,GAEzB,IAAM+c,EAAQ/c,EAAK5C,oBAAoB4f,mBACvC,GAAID,EACF,MAAO,CAAEE,eAAgBF,GAE3B,IAAMgB,EAAsB,CAE1BX,cAAUpd,EAAK5C,oBAAoB4gB,mBAEnCC,oBAAqBje,EAAK5C,oBAAoB8gB,UAC9CC,iCAEEne,EAAK5C,oBAAoBghB,4BAE3BC,0BAAsBre,EAAK5C,oBAAoBkhB,mBAE/ChB,KAAMtd,EAAK5C,oBAAoBmgB,YAG3BnD,EAAoBpa,EAAK5C,oBAAoBgd,kBAInD,OAHIA,GAA2C,YAAtBA,IACvB2D,EAAeP,qBAAuBpD,GAEjC2D,GAIH1B,GAAiB,SAACrc,GAEtB,IAAM+c,EAAQ/c,EAAKvC,iBAAiBuf,mBACpC,OAAID,EACK,CAAEE,eAAgBF,EAAMwB,QAAQ,WAAY,WAE5B,CAEvBnB,cAAUpd,EAAKvC,iBAAiB4f,cAEhCC,KAAMtd,EAAKvC,iBAAiB8f,aAM1BhB,GAAiB,SAACvc,GAEtB,IAAM+c,EAAQ/c,EAAKnC,eAAemf,mBAClC,GAAID,EACF,MAAO,CAAEE,eAAgBF,GAE3B,IAAMyB,EAAmB,CAEvBpB,cAAUpd,EAAKnC,eAAewf,cAE9BC,KAAMtd,EAAKnC,eAAe0f,YAGtBnD,EAAoBpa,EAAKnC,eAAeuc,kBAI9C,OAHIA,GAA2C,YAAtBA,IACvBoE,EAAYhB,qBAAuBpD,GAE9BoE,GAIF,SAASC,GAAYtd,EAAYnB,GAClCmI,kKAAYuW,sBACdC,KAAwBxd,EAAO,CAC7Byd,MAAO5e,IC3WE6e,OAhCf,YAYuB,IAXrB1U,EAWoB,EAXpBA,MAWoB,IAVpBE,mBAUoB,MAVN,UAUM,MATpBC,eASoB,MATV,QASU,EARpBe,EAQoB,EARpBA,QACAd,EAOoB,EAPpBA,SACAC,EAMoB,EANpBA,UACAzK,EAKoB,EALpBA,KAKoB,IAJpB0K,YAIoB,MAJb,KAIa,MAHpBqU,gBAGoB,aAFpBC,eAEoB,SADpBrU,EACoB,EADpBA,UAEA,OACE,kBAAC,IAAD,CACED,KAAMA,EACN1K,KAAMA,EACNsL,QAASA,EACT2T,WAAYF,EACZG,UAAWF,EACX1U,YAAaA,EACbC,QAASA,EACTC,SAAUA,EACVC,UAAWA,EACXI,GAAI,CACFC,MAAOH,EAAY,OAAS,SAG7BP,ICrCP,IAAM/T,GAAS,CACb8oB,aAAc9N,YAAI,CAChB+N,OAAQ,OACRC,UAAW,YAIAC,GAff,SAAsBH,GACpB,OACE,mBAAK9N,IAAKhb,GAAO8oB,cACf,qBAAIA,GAAgB,YC8BXI,OA5Bf,YAS6B,IAR3BnV,EAQ0B,EAR1BA,MACAC,EAO0B,EAP1BA,GAO0B,IAN1BC,mBAM0B,MANZ,UAMY,MAL1BC,eAK0B,MALhB,QAKgB,EAJ1BC,EAI0B,EAJ1BA,SACAC,EAG0B,EAH1BA,UAG0B,IAF1BC,YAE0B,MAFnB,KAEmB,EAD1BC,EAC0B,EAD1BA,UAEA,OACE,kBAAC,IAAD,CACEzC,KAAMmC,EACNnG,GAAG,IACHoG,YAAaA,EACbC,QAASA,EACTC,SAAUA,EACVC,UAAWA,EACXC,KAAMA,EACNG,GAAI,CACFC,MAAOH,EAAY,OAAS,SAG7BP,ICMQoV,GApB4B,SAAC,GAA6C,IAA3CC,EAA0C,EAA1CA,IAAKC,EAAqC,EAArCA,OAAQ9S,EAA6B,EAA7BA,MAAO+S,EAAsB,EAAtBA,QAAS5f,EAAa,EAAbA,OACzE,OACE,kBAAC,IAAD,CAAM6f,EAAG,CAAEC,KAAM,EAAG/pB,GAAI,GAAKgqB,UAAU,SAASjU,GAAG,QAAQ8F,aAAa,KAAKoO,YAAa,GACxF,kBAAC,KAAD,CAAOtU,IAAG,UAAKrD,GAAL,YAA+BqX,EAAIzW,KAAO,cAAY,OAAO0C,IAAK+T,EAAI/T,KAAO,KACvF,kBAAC,IAAD,CAAKsB,GAAI,CAAE6S,KAAM,EAAG/pB,GAAI,GAAKgc,SAAU,GACrC,kBAAC,IAAD,CAAM5Z,SAAS,KAAKxB,MAAM,cAAcD,WAAW,SAASoY,GAAI,GAC7D6Q,GAEH,kBAAC,IAAD,CAASxnB,SAAS,KAAKgM,GAAI0I,EAAMoT,KAAMxpB,WAAW,aAC/CoW,EAAMwB,MAET,kBAAC,IAAD,CAAMpB,GAAI,EAAG9U,SAAS,MACnBynB,IAGL,kBAAC,IAAD,CAAK3S,GAAI,GAAIjN,KCiEJkgB,OA/Ef,YAAuD,IAAvC9U,EAAsC,EAAtCA,QAASlD,EAA6B,EAA7BA,SAAUiY,EAAmB,EAAnBA,SACjC,EAA8Bpd,oBAAS,GAAvC,mBAAOkc,EAAP,KAAgBmB,EAAhB,KACA,EAAwCrd,wBAAS9H,GAAjD,mBAAOmkB,EAAP,KAAqBiB,EAArB,KAqBA,OAAKpB,GAAWG,EACPG,GAAaH,GAIpB,kBAAC,GAAD,CACEvS,MAAM,6BACNC,QAAS,CACP,oLACA,yRAGF,6BACE,kBAAC,IAAD,CAAS3I,GAAG,KAAKwG,KAAK,KAAKmE,GAAI,GAA/B,iFAGA,kBAAC,IAAD,CAAYrN,QAAS,CAAEqe,KAAM,EAAG/pB,GAAI,GAAKsW,QAAS,GAChD,kBAAC,GAAD,CACEqT,IAAK,CACHzW,IAAK,8BAEP0W,OAAO,UACP9S,MAAO,CACLoT,KAAM,KACN5R,KAAM,uCAERuR,QAAQ,gJACR5f,OACE,kBAAC,GAAD,CACEuL,QAhDE,WhBgDiB,IAACrL,EgB/ChCkgB,GAAW,GACXD,EAAS,CAAElgB,KAAM,gBhB8CeC,EgB5CZ,GhB4CqBuI,GAAa,cAAevI,IgB3ClEiH,MAAK,YAA2B,IAAZyB,EAAW,EAAvBjC,SAAYiC,GACnBwX,GAAW,GACXhV,EAAQzQ,KAAR,sBAA4BiO,GAA5B,eACMV,EAASnI,OAASmI,EAASnI,WAGlCugB,OAAM,SAACjf,GACN+e,GAAW,GACX,IAAMhB,EAAgB/d,EAAMsF,UAAYtF,EAAMsF,SAASyH,SAAY,+CACnEiS,EAAgBjB,GAChBT,GAAYtd,OAAOpG,OAkCXoP,MAAM,sBACN2U,SAAUC,EACVA,QAASA,EACTrU,WAAS,MAIf,kBAAC,GAAD,CACE8U,IAAK,CACHzW,IAAK,4BAEP0W,OAAO,UACP9S,MAAO,CACLoT,KAAM,KACN5R,KAAM,qCAERuR,QAAQ,uIAER5f,OAAQ,kBAAC,GAAD,CAAoBsK,GAAG,gBAAgBD,MAAM,0BAAuBO,WAAS,UCpF3FiC,GAAQ,sBAmEC0T,OAjEf,WAGE,OAFAzS,GAASjB,IAGP,kBAAC,GAAD,CAAMA,MAAOA,IACX,kBAAC,IAAD,CAAS1I,GAAG,KAAKwG,KAAK,KAAKmE,GAAI,GAA/B,+BAGA,kBAAC,IAAD,6FACA,kBAAC,IAAD,CAAe7B,GAAI,EAAGZ,QAAS,GAC7B,kBAAC,IAAD,+EACA,kBAAC,IAAD,oCAEF,kBAAC,IAAD,CAASlI,GAAG,KAAKwG,KAAK,KAAKmE,GAAI,EAAG7B,GAAI,GAAtC,+BAGA,kBAAC,IAAD,4CACA,kBAAC,IAAD,CAAS9I,GAAG,KAAKwG,KAAK,KAAKmE,GAAI,EAAG7B,GAAI,GAAtC,mCAGA,kBAAC,IAAD,yCAEE,6BAFF,uDAIE,6BAJF,kCAOA,kBAAC,IAAD,CAAS9I,GAAG,KAAKwG,KAAK,KAAKmE,GAAI,EAAG7B,GAAI,GAAtC,oBAGA,kBAAC,IAAD,kLAIA,kBAAC,IAAD,CAAS9I,GAAG,KAAKwG,KAAK,KAAKmE,GAAI,EAAG7B,GAAI,GAAtC,iCAGA,kBAAC,IAAD,kLAGE,6BAHF,iLAOA,kBAAC,IAAD,CAAS9I,GAAG,KAAKwG,KAAK,KAAKmE,GAAI,EAAG7B,GAAI,GAAtC,kBAGA,kBAAC,IAAD,qGAC4E,6BAC1E,kBAAC,IAAD,CAAM9E,KAAK,kEAAkEqE,YAAU,EAAC7V,MAAM,eAA9F,oEAIF,kBAAC,IAAD,CAASwN,GAAG,KAAKwG,KAAK,KAAKmE,GAAI,EAAG7B,GAAI,GAAtC,kBAGA,kBAAC,IAAD,sYC6HN,IAAM3W,GAAS,CACbspB,QAAStO,YAAI,IACbzE,MAAOyE,YAAI,CACTnZ,SAAU,GACVD,WAAY,OACZxB,WAAY,OACZgb,UAAW,GACX8O,WAAY,EACZC,YAAa,EACblP,aAAc,KAEhBmP,MAAOpP,YAAI,CACTqP,MAAO,CACLxO,gBAAiB,UAGrByO,OAAQtP,YAAI,CACVvG,MAAO,OAII8D,GA3Mf,WAGE,OAFAf,GAAS,mCAGP,YAAC,GAAD,CAAMjB,MAAM,yDACV,mBAAKyE,IAAKhb,GAAOspB,SACf,kBAAItO,IAAKhb,GAAOuW,OAAhB,6BACA,kGACA,kBAAIyE,IAAKhb,GAAOuW,OAAhB,uCACA,iGACA,sBACE,4IAGA,4HACA,+IAEF,kBAAIyE,IAAKhb,GAAOuW,OAAhB,gBACA,ySAKA,kBAAIyE,IAAKhb,GAAOuW,OAAhB,oBACA,gXAIE,uBACA,uBALF,4YAWA,kBAAIyE,IAAKhb,GAAOuW,OAAhB,4BACA,sBACE,8HACA,kJAGA,2LAKF,6LAIA,kBAAIyE,IAAKhb,GAAOuW,OAAhB,wCACA,wgBAME,uBACA,uBAPF,kFAUA,sBACE,+CACA,qDACA,8EACA,iDACA,kEACA,gDACA,4CACA,oFACA,2GACA,6FACA,mJAGA,mKAKF,kBAAIyE,IAAKhb,GAAOuW,OAAhB,sCACA,+IACA,sBACE,wGACA,wGACA,qGAEF,mGACA,sBACE,6EACA,kDAEF,2EAC+C,iBAAG1E,KAAK,gCAAR,yBAC7C,uBACA,uBAHF,2TAMsE,IACpE,iBAAGA,KAAK,mEAAR,OAPF,sDASE,uBACA,uBAVF,wJAYiC,IAC/B,iBAAGA,KAAK,gGAAR,OAbF,sDAeE,uBACA,uBACA,qDACA,uBAlBF,uTAuBA,kBAAImJ,IAAKhb,GAAOuW,OAAhB,mBACA,2OAGE,uBACA,uBAJF,+KAQA,kBAAIyE,IAAKhb,GAAOuW,OAAhB,oBACA,qWAKA,uBACA,qBAAOyE,IAAKhb,GAAOoqB,OACjB,yBACE,sBACE,oCACA,2CACA,kDACA,qCAGJ,yBACE,sBACE,yCACA,gCACA,wCACA,sBACE,iBAAGvY,KAAK,wDAAR,4DAOR,kBAAImJ,IAAKhb,GAAOuW,OAAhB,WACA,kbAKE,uBACA,uBANF,2BAQE,uBACA,uBATF,uNAaA,sBACE,+GACA,6GACA,wHAEF,6XCtKR,IAAMvW,GAAS,CACbuqB,UAAWvP,YAAI,CACb7E,QAAS,OACTqU,cAAe,MACfC,WAAY,SACZrP,UAAW,GACXH,aAAc,GACd,eAAgB,CACd9E,QAAS,WAKAuU,GAjBf,YAAyC,IAApBle,EAAmB,EAAnBA,SACnB,OAAO,mBAAKwO,IAAKhb,GAAOuqB,WAAY/d,ICavBme,OAZf,YAAyD,IAAjC7V,EAAgC,EAAhCA,QAGtB,OAFA0C,GAAS,oBAGP,YAAC,GAAD,CAAMjB,MAAM,iEACV,YAAC,GAAD,KACE,YAAC,GAAD,CAAcxC,MAAM,SAASkB,QAAS,kBAAMH,EAAQ8V,eCCrD,SAASC,GAAsBljB,GACpC,IAAM4L,EAXR,WACE,IAAMuX,EAAkBvZ,aAAaoC,QAAQ,aAE7C,OAAKmX,EAIErZ,KAAKsZ,MAAMD,GAHT,KAOSlY,GAElB,UAAIW,QAAJ,IAAIA,OAAJ,EAAIA,EAAWyX,MACb,OAAO,EAGT,IAAMlY,EAAS,OAAGS,QAAH,IAAGA,OAAH,EAAGA,EAAWT,UAE7B,SAAI,OAACA,QAAD,IAACA,OAAD,EAACA,EAAW9I,UAIqB,IAA9B8I,EAAU1O,QAAQuD,GCb3B,IAAMsjB,GAASC,YAAU,CACvB,KAAM,CACJtV,UAAW,YAEb,MAAO,CACLA,UAAW,YAEb,OAAQ,CACNA,UAAW,cAITuV,GAAiB,CACrBvrB,UAAWob,YAAI,CACboQ,SAAU,aAEZtI,MAAO9H,YAAI,CACToQ,SAAU,WACVC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EAERlQ,aAAc,MACdmQ,QAAS,GACTC,UAAU,GAAD,OAAKT,GAAL,gCAEXU,OAAQ3Q,YAAI,CACV4Q,eAAgB,WAILC,GAzCf,YAAkE,IAAD,IAApCxX,YAAoC,MAA7B,GAA6B,MAAzBhU,aAAyB,MAAjB,OAAiB,EAC/D,OACE,mBAAK2a,IAAK,CAACmQ,GAAevrB,UAAW,CAAE6U,MAAOJ,EAAMnU,OAAQmU,KAC1D,mBAAK2G,IAAK,CAACmQ,GAAerI,MAAO,CAAEjH,gBAAiBxb,MACpD,mBAAK2a,IAAK,CAACmQ,GAAerI,MAAOqI,GAAeQ,OAAQ,CAAE9P,gBAAiBxb,QCCpEyrB,GAAyB,SACpCC,EACArnB,EACAE,GAHoC,OAIxBmnB,EAAiBrnB,EAAuBE,EAAuB,GAahEonB,GACX,SACEC,GADF,OAUA,SACEC,EAQAC,GATF,OAWED,EACGrpB,QAAO,qBAAGkpB,kBACVppB,KAAI,SAACypB,GACJ,IAAQL,EAAqCK,EAArCL,eAAgBM,EAAqBD,EAArBC,iBAGlBC,EAtCoB,SAChCP,EACAQ,EACAF,EACAF,GAJgC,OAMhCJ,GAAkBI,EAAwB,QAA0BxnB,IAArB4nB,EAC3C7J,GAAc6J,EAAmBF,EAAoBF,EAAuB,QAC5ExnB,EA8BuB6nB,CACnBT,EAHuBE,EAAqBG,GAK5CC,EACAF,GAGF,OAAOG,OAIFG,GAA0B,SAACC,GAAD,OACJ,IAAjCA,EAAsB1iB,QAAgB0iB,EAAsB5a,cAASnN,QACjEA,EACA+d,GACEgK,EACG7pB,QAAO,SAACypB,GAAD,YAAmC3nB,IAAjB2nB,KACzB3R,QAAO,SAACgS,EAAKC,GAAN,OAAeD,GAAO,SAAchoB,IAARioB,EAAoBA,EAAM,UAAIjoB,IAAc,EAClF,IAcKkoB,GAA4B,SAAC,EAExCC,GACmB,IAFjBpoB,EAEgB,EAFhBA,qBAAsBE,EAEN,EAFMA,qBAOlBmnB,EAAiBe,EAJvBpoB,EAAuBA,GAAwB,EAC/CE,EAAuBA,GAAwB,GAO/C,MAAO,CACLF,uBACAE,uBACAmnB,iBACAM,iBANuBP,GAAuBC,EAAgBrnB,EAAsBE,KAU3EmoB,GAAmC,SAC9CvoB,EACAsoB,GAEA,MAAmEtoB,EAAamW,QAC9E,kBAAGqS,EAAH,EAAGA,2BAA4BC,EAA/B,EAA+BA,2BAA/B,MAAiH,CAC/GD,2BAA4BA,GAD9B,EAA+DtoB,sBACqB,GAClFuoB,2BAA4BA,GAF9B,EAAqFroB,sBAED,MAEpF,CAAEooB,2BAA4B,EAAGC,2BAA4B,IALvDD,EAAR,EAAQA,2BAA4BC,EAApC,EAAoCA,2BAS9BlB,EAAiBe,EAAqBE,EAA4BC,GAQxE,MAAO,CACLvoB,qBAAsBsoB,EACtBpoB,qBAAsBqoB,EACtBlB,iBACAM,iBAVuBP,GACvBC,EACAiB,EACAC,KAWSC,GAAuB,SAACC,GACnC,MAAiEA,EAAcxS,QAC7E,cAA+G,IAA5GyS,EAA2G,EAA3GA,0BAA2BC,EAAgF,EAAhFA,0BAC5B,MAAO,CACLD,0BAA2BA,EAF+E,EAAjD1oB,qBAGzD2oB,0BAA2BA,EAH+E,EAA3BzoB,wBAMnF,CACEwoB,0BAA2B,EAC3BC,0BAA2B,IATvBD,EAAR,EAAQA,0BAA2BC,EAAnC,EAAmCA,0BAmBnC,MAAO,CACLD,4BACAC,4BACAC,oBAR0BF,EAA4BC,EAStDlB,sBAN4BgB,EAAcxS,QAAO,SAACgS,EAAD,UAA+BA,EAA/B,EAAQN,mBAA+C,KAW/FkB,GAAsC,SACjDD,EACAnB,GAFiD,OAGrCmB,EAAsB,GAAKnB,GArKP,GAqKgCmB,GCjJ5DE,GAA0B,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAiBrGV,GAAuB,SAACpoB,EAA8BE,GAA/B,OAClCF,GAAwB,GAAKE,GAAwB,GAG1C6oB,GAAiC,SAC5C3oB,EACAC,GAF4C,OAI5CD,EAAiC,GAAKC,EAAiC,EACnE2d,IACG3d,EAAiCD,GAAkCC,EACpE,QAEFJ,GAGA+oB,GAA6C,SACjDC,EACAC,GAFiD,YAIpBjpB,IAA7BgpB,EACIjL,GACE5W,KAAK+hB,KAAKF,GAA4B7hB,KAAKF,IAAI,EAAGE,KAAKgiB,IAAIH,GAA4BC,GACvF,QAEFjpB,GA+EOopB,GAA6C,SACxDzpB,EACA0pB,GAEA,IAAMC,EAAoB3pB,EAAaqW,QACrC,SAACgS,EAAD,OAAwCpoB,EAAxC,EAAwCA,kBAAmBC,EAA3D,EAA2DA,aAA3D,OACEmoB,EAAIuB,OAAO1pB,EAAa7B,KAAI,SAAC8B,GAAD,mBAAC,eAAqBA,GAAtB,IAAkCF,4BAChE,IAEI4pB,EAAwBH,EAAiBrT,QAC7C,SAACgS,EAA2CyB,GAA5C,OAAsDzB,EAAIuB,OAAOE,EAAM5pB,gBACvE,IAgCF,OA7B0BypB,EAAkBtrB,KAAI,SAAC0rB,EAAkDpqB,GACjG,IAAMqqB,EAA8BH,EAAsBlqB,GAEpDa,EACJwpB,GAA+BA,EAA4BxpB,+BACvDC,EACJupB,GAA+BA,EAA4BvpB,+BAEvDwpB,EAAY1B,GAA0BwB,EAAyBvB,IAG/Da,EAA2BF,GAC/B3oB,GAAkC,EAClCC,GAAkC,GAG9BypB,EA3GmD,SAC3Db,GAD2D,OAEpCD,GAA2CC,EAjDzC,KA0JsBc,CAA8Cd,GAE3F,OAAO,2BACFY,GADL,IAEE9pB,WAAY4pB,EAAwB5pB,WACpCF,kBAAmB8pB,EAAwB9pB,kBAC3CO,iCACAC,iCACA4oB,2BACAa,6CAOOE,GAA8C,SACzDvoB,GAoCA,OAlC6BA,EAAYwU,QACvC,SAACgS,EAAD,EAA+D1oB,GAA/D,IAAyCiB,EAAzC,EAAyCA,KAAMV,EAA/C,EAA+CA,aAA/C,OACEmoB,EAAIuB,OAAO1pB,EAAa7B,KAAI,SAAC8B,GAAD,mBAAC,eAAqBA,GAAtB,IAAkCS,OAAMoN,GAAIrO,UAC1E,IAG6CtB,KAAI,SAACgsB,GAClD,IAAM7pB,EAAiC6pB,GAAuBA,EAAoB7pB,+BAC5EC,EAAiC4pB,GAAuBA,EAAoB5pB,+BAE5EwpB,EAAY1B,GAA0B8B,EAAqB7B,IAG3Da,EAA2BF,GAC/B3oB,GAAkC,EAClCC,GAAkC,GAG9BypB,EA5IoD,SAC5Db,GAD4D,OAErCD,GAA2CC,EApDxC,KA+LtBiB,CAA+CjB,GAEjD,OAAO,2BACFY,GADL,IAEEjc,GAAIqc,EAAoBrc,GACxBpN,KAAMypB,EAAoBzpB,KAC1BT,WAAYkqB,EAAoBlqB,WAEhCK,iCACAC,iCACA4oB,2BACAa,6CAOOK,GAAoC7C,IAC/C,qBAAGwC,wCAsCU,SAASM,GAAmBrlB,GACzC,IAAMslB,EAAmChB,GACvCtkB,EAAM/D,SAASC,eACf8D,EAAM7D,aAAaI,sBAGfgpB,EAAoCN,GAA4CjlB,EAAM7D,aAAaO,aAEnG8oB,EAAgCxlB,EAAM7D,aAAaC,IACrDkpB,EACAC,EAEJ,EAAuD9B,GAAqB+B,GAApE3B,EAAR,EAAQA,oBAAqBnB,EAA7B,EAA6BA,sBAEvB+C,EAAsBL,GAAkCI,EAA+B9C,GAGvFgD,EAAoB1C,GAAwByC,GAG5CE,EAAgC7B,GAAoCD,EAAqBnB,GAGzFkD,EAzDyC,SAC/CC,EACAH,GAF+C,OAI/CG,QAA8C3qB,IAAtBwqB,EAAkCzM,GAAa,IAAMyM,EAAmB,QAAKxqB,EAqDjE4qB,CAClCH,EACAD,GAGIK,EA/CiD,SACvDH,GADuD,YAEC1qB,IAAhC0qB,EAA4CvjB,KAAKgiB,IAAIuB,QAA+B1qB,EA6ChE8qB,CAA0CJ,GAEhF7M,EA1D0C,SAChD6M,GAEA,QAAoC1qB,IAAhC0qB,GAA6E,IAAhCA,EAGjD,OAAOvjB,KAAK+hB,KAAKwB,GAA+B,EAAI,SAAW,SAoD3BK,CAAmCL,GAGjEM,EA/CkB,SAACN,GAAD,YACQ1qB,IAAhC0qB,EACI7B,GACE1hB,KAAKH,IACH6hB,GAAwBxjB,OAAS,EACjC8B,KAAK8jB,KAAK9jB,KAAKF,IAAI,EAAG8W,GAAa2M,EAA6B,YAGpE1qB,EAuCqBkrB,CAAWL,GAEpC,MAAO,CACLT,mCACAC,oCACAC,gCACAG,gCACAC,4BAA6BG,EAC7BhN,8BACAmN,oBC5SJ,IAAMG,GAAyB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAgB1DhD,GAAuB,SAACpoB,EAA8BE,GAA/B,OAClCF,GAAwB,IAAME,GAAwB,IAG3CmrB,GAA8B,SACzCxpB,EACAC,GAFyC,YAId7B,IAA3B4B,QAC2B5B,IAA3B6B,GACAD,GAA0B,GAC1BC,GAA0B,EACtBkc,GAAalc,EAAyBD,EAAwB,QAC9D5B,GAoFOqrB,GAA2ChE,IACtD,qBAAGvlB,yBAIQwpB,GAA6B,SACxC5pB,EACAinB,EACAnB,EACA+D,EACAC,GALwC,OAOxC9pB,GACAknB,GAAoCD,EAAqBnB,KACxD+D,EAA8B,GAAKC,EAA8B,IAGvDC,GAAoC,SAC/Cd,EACAH,GAF+C,OAI/CG,QAA8C3qB,IAAtBwqB,EAAkCzM,GAAa,IAAMyM,EAAmB,QAAKxqB,GAE1F0rB,GAAoC,SAC/CC,GAEA,QAAoC3rB,IAAhC2rB,GAA6E,IAAhCA,EAGjD,OAAOxkB,KAAK+hB,KAAKyC,GAA+B,EAAI,SAAW,UAGpDC,GAA4C,SACvDD,GADuD,YAEC3rB,IAAhC2rB,EAA4CxkB,KAAKgiB,IAAIwC,QAA+B3rB,GAkC/F,SAAS6rB,GAAqB/mB,GAC3C,IAnIAnF,EACAmsB,EAkIMC,GAnINpsB,EAoIEmF,EAAM/D,SAASC,eAnIjB8qB,EAoIEhnB,EAAMrD,eAAeE,iBAlIhBhC,EAAa3B,KAAI,YAA0D,IAAvD4B,EAAsD,EAAtDA,kBAAmBC,EAAmC,EAAnCA,aACtC+pB,EAAYxB,GAAiCvoB,EAAcsoB,IAE3D6D,EAAcF,EAAmB9S,MAAK,qBAAGpZ,oBAAqCA,KAE9EgC,EAAyBoqB,GAAeA,EAAYpqB,uBACpDC,EAAyBmqB,GAAeA,EAAYnqB,uBAGpDC,EAAwBspB,GAA4BxpB,EAAwBC,GAElF,OAAO,2BACF+nB,GADL,IAEEhqB,oBACAgC,yBACAC,yBACAC,8BAqHJ,EAhHoD,SACpDmqB,GAEA,MACE1D,GAAqB0D,GADfxD,EAAR,EAAQA,0BAA2BC,EAAnC,EAAmCA,0BAA2BC,EAA9D,EAA8DA,oBAAqBnB,EAAnF,EAAmFA,sBAGnF,EAAmFyE,EAA4BjW,QAC7G,cAGM,IAFFkW,EAEC,EAFDA,mCAAoCC,EAEnC,EAFmCA,mCACpCpsB,EACC,EADDA,qBAAsBE,EACrB,EADqBA,qBAExB,MAAO,CACLisB,mCACEA,GAHD,EAD2CtqB,wBAIsB,GAAK7B,EACvEosB,mCACEA,GALD,EADmEtqB,wBAMF,GAAK5B,KAG3E,CACEisB,mCAAoC,EACpCC,mCAAoC,IAUxC,MAAO,CACLxD,sBACAnB,wBACA+D,4BA3BF,EAAQW,mCAmBiEzD,EASvE+C,4BA5BF,EAA4CW,mCAsB6BzD,GAqFvE0D,CAAuCL,GADjCpD,EAAR,EAAQA,oBAAqBnB,EAA7B,EAA6BA,sBAAuB+D,EAApD,EAAoDA,4BAA6BC,EAAjF,EAAiFA,4BAG3EjB,EAAsBc,GAC1BU,EACAvE,GAIIgD,EAAoB1C,GAAwByC,GAG5CE,EAAgC7B,GAAoCD,EAAqBnB,GAGzFmD,EAAuBW,GAC3BxmB,EAAMrD,eAAeC,qBACrBinB,EACAnB,EACA+D,EACAC,GAIIG,EAA8BF,GAAkCd,EAAsBH,GAEtF6B,EAAsCT,GAA0CD,GAEhFW,EAAkCZ,GAAkCC,GAG1E,EAAyFxB,GAAmBrlB,GAAvEynB,EAArC,EAAQ1O,4BAGR,EAvEwB,SACxB8N,EACAX,EACAuB,EACAD,GAEA,YACuBtsB,IAArBgrB,GACAA,EAAmB,IACnBuB,GACAD,GACAC,IAAkCD,EAE3B,CAAE/J,KAAM4I,GAAuB,GAAIqB,mBAAmB,GAWxD,CAAEjK,UARyBviB,IAAhC2rB,EACIR,GACEhkB,KAAKH,IACHmkB,GAAuB9lB,OAAS,EAChC8B,KAAK8jB,KAAK9jB,KAAKF,IAAI,EAAG8W,GAAa4N,EAA6B,YAGpE3rB,EACSwsB,mBAAmB,GA+CsBtB,CACtDmB,EAJF,EAAoErB,iBAMlEuB,EACAD,GAGF,MAAO,CACL7B,gCACAsB,kCACApB,uBACAgB,4BAA6BU,EAC7BxO,4BAA6ByO,EAC7BG,mBAbF,EAAQlK,KAcNiK,kBAdF,EAAkCA,mBCpNpC,IAAME,GAAsB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAkBvDC,GAA2BvB,GA+E3BC,GAA2ChE,IACtD,qBAAGjlB,sBAIQwqB,GAAiCnB,GAEjCoB,GAAyCjB,GA+BvC,SAASkB,GAAsBhoB,GAC5C,IAnGAnF,EACAotB,EAkGMC,GAnGNrtB,EAoGEmF,EAAM/D,SAASC,eAnGjB+rB,EAoGEjoB,EAAM/C,gBAAgBE,cAlGjBtC,EAAa3B,KAAI,YAA0D,IAAvD4B,EAAsD,EAAtDA,kBAAmBC,EAAmC,EAAnCA,aACtC+pB,EAAYxB,GAAiCvoB,EAAcsoB,IAE3D8E,EAAYF,EAAoB/T,MAAK,qBAAGpZ,oBAAqCA,KAE7EsC,EAAsB+qB,GAAaA,EAAU/qB,oBAC7CC,EAAsB8qB,GAAaA,EAAU9qB,oBAG7CC,EAAqBuqB,GAAyBzqB,EAAqBC,GAEzE,OAAO,2BACFynB,GADL,IAEEhqB,oBACAsC,sBACAC,sBACAC,2BAqFJ,EAhFiD,SAAC6pB,GAClD,MACE1D,GAAqB0D,GADfxD,EAAR,EAAQA,0BAA2BC,EAAnC,EAAmCA,0BAA2BC,EAA9D,EAA8DA,oBAAqBnB,EAAnF,EAAmFA,sBAGnF,EAA6EyE,EAA4BjW,QACvG,cAGM,IAFFkX,EAEC,EAFDA,gCAAiCC,EAEhC,EAFgCA,gCACjCptB,EACC,EADDA,qBAAsBE,EACrB,EADqBA,qBAExB,MAAO,CACLitB,gCACEA,GAHD,EAD2ChrB,qBAIgB,GAAKnC,EACjEotB,gCACEA,GALD,EADgEhrB,qBAML,GAAKlC,KAGrE,CACEitB,gCAAiC,EACjCC,gCAAiC,IAUrC,MAAO,CACLxE,sBACAnB,wBACA4F,yBA3BF,EAAQF,gCAmB2DzE,EASjE4E,yBA5BF,EAAyCF,gCAsB0BzE,GAuDjE4E,CAAoCN,GAD9BrE,EAAR,EAAQA,oBAAqBnB,EAA7B,EAA6BA,sBAAuB4F,EAApD,EAAoDA,yBAA0BC,EAA9E,EAA8EA,yBAGxE9C,EAAsBc,GAC1B2B,EACAxF,GAIIgD,EAAoB1C,GAAwByC,GAG5CE,EAAgC7B,GAAoCD,EAAqBnB,GAGzFmD,EAAuBW,GAC3BxmB,EAAM/C,gBAAgBC,kBACtB2mB,EACAnB,EACA4F,EACAC,GAIIE,EAA2BX,GAA+BjC,EAAsBH,GAEhFgD,EAAmCX,GAAuCU,GAE1EE,EAAmC/B,GAAkC6B,GAG3E,EAAyFpD,GAAmBrlB,GAAvEynB,EAArC,EAAQ1O,4BAGR,EApEwB,SACxB0P,EACAvC,EACAuB,EACAD,GAEA,YACuBtsB,IAArBgrB,GACAA,EAAmB,IACnBuB,GACAD,GACAC,IAAkCD,EAE3B,CAAE/J,KAAMmK,GAAoB,GAAIF,mBAAmB,GAQrD,CAAEjK,UALsBviB,IAA7ButB,EACIb,GACEvlB,KAAKH,IAAI0lB,GAAoBrnB,OAAS,EAAG8B,KAAK8jB,KAAK9jB,KAAKF,IAAI,EAAG8W,GAAawP,EAA0B,YAExGvtB,EACSwsB,mBAAmB,GA+CuBtB,CACvDsC,EAJF,EAAoExC,iBAMlEuB,EACAkB,GAGF,MAAO,CACLhD,gCACAuC,gCACArC,uBACA4C,yBAA0BC,EAC1B3P,4BAA6B4P,EAC7BC,oBAbF,EAAQnL,KAcNiK,kBAdF,EAAmCA,mBCtMtB,gBACbxrB,GAOA,OAAOA,EAAegV,QACpB,SAACgS,EAAD,GAA4B,IAC1B,EADyB,EAAnBnoB,aACgFmW,QACpF,SAAC2X,EAAD,GAA+D,IAAlD1tB,EAAiD,EAAjDA,qBAAsBF,EAA2B,EAA3BA,qBACjC,MAAO,CACL6tB,8BAA+BD,EAASC,+BAAiC3tB,GAAwB,GACjG4tB,8BAA+BF,EAASE,+BAAiC9tB,GAAwB,MAGrG,CAAE6tB,8BAA+B,EAAGC,8BAA+B,IAP7DD,EAAR,EAAQA,8BAA+BC,EAAvC,EAAuCA,8BAUvC,MAAO,CACLC,yBAA0B9F,EAAI8F,yBAA2BF,EACzDG,yBAA0B/F,EAAI+F,yBAA2BF,KAG7D,CAAEC,yBAA0B,EAAGC,yBAA0B,KCZvDC,GAAQ,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAO9CC,GAAuC7C,GAGvC8C,GAA6CzC,GAE7C0C,GAAqDvC,GAsBrDwC,GAAa,SACxBptB,EACA2nB,GAFwB,YAIL3oB,IAAnBgB,QAAwDhB,IAAxB2oB,GAAqCA,EAAsB,EACvF3nB,EAAiB2nB,OACjB3oB,GAEOquB,GAAgC,SAC3C3F,EACAD,GAEA,GACEA,IAA8BC,QACA1oB,IAA9ByoB,QAC8BzoB,IAA9B0oB,EAIF,OAAOA,EAA4BD,EAA4B,SAAW,UAsB/D6F,GAAc,SAACC,GAC1B,OAAOP,GAAM7mB,KAAKH,IAAIgnB,GAAM3oB,OAAS,EAAG8B,KAAK8jB,KAAK9jB,KAAKF,IAAI,EAAG8W,GAAawQ,EAAY,QAqD1E,SAASC,GAA0B1pB,GAChD,MACE6jB,GAAoB7jB,EAAM/D,SAASC,gBADH0nB,EAAlC,EAAQoF,yBAA+ErF,EAAvF,EAA6DsF,yBAGvDU,EAA0BJ,GAA8B3F,EAA2BD,GAEnFgC,EAxH2C,SACjD/B,EACAD,GAEA,YACgCzoB,IAA9B0oB,QAC8B1oB,IAA9ByoB,GACAC,GAA6B,GAC7BD,GAA6B,EAgHOG,CACpCF,EACAD,GAGIkC,EAjHkC,SACxCroB,EACAmoB,GAEA,OAAOnoB,GAAiCmoB,EA6GXa,CAC3BxmB,EAAMzC,oBAAoBC,8BAC1BmoB,GAGIiE,EAAkCN,GACtCtpB,EAAMzC,oBAAoBG,kCAC1BkmB,GAEIiG,EAAkCP,GACtCtpB,EAAMzC,oBAAoBE,kCAC1BkmB,GAIImG,EAAiCX,GACrCU,EACAD,GAGIG,EAAuCX,GAC3CvD,EACAiE,GAGIE,EAA+CX,GACnDU,GAGIhR,EAA8B6N,GAAkCmD,GAGhEE,EApHqD,SAC3DD,EACApG,EACAD,GAEA,YAAwDzoB,IAAjD8uB,QACyB9uB,IAA9B0oB,QAC8B1oB,IAA9ByoB,EACE1K,GACG+Q,EACC3nB,KAAKH,IAAI0hB,EAA2BD,GACpC,IACF,QAEFzoB,EAsG4CgvB,CAC9CF,EACApG,EACAD,GAIF,EAAyF0B,GAAmBrlB,GAAvEynB,EAArC,EAAQ1O,4BAGR,EAvGwB,SACxBoR,EACAC,EACAlE,EACAuB,EACA4C,GAOA,IAAMC,OAA8BpvB,IAAdivB,EAA0BX,GAAYW,QAAajvB,EACnEqvB,OAAkDrvB,IAAxBkvB,EAAoCZ,GAAYY,QAAuBlvB,EACvG,YACuBA,IAArBgrB,GACAA,EAAmB,IACnBuB,GACA4C,GACA5C,IAAkC4C,EAE3B,CACL5M,KAAMyL,GAAM,GACZxB,mBAAmB,EACnB4C,gBACAC,gCAGkBrvB,IAAlBovB,QAA2DpvB,IAA5BqvB,EAC1B,CACL9M,UAAMviB,EACNwsB,mBAAmB,EACnB4C,gBACAC,2BAKG,CACL9M,KAFWpb,KAAKF,IAAImoB,EAAeC,GAGnC7C,mBAAmB,EACnB4C,gBACAC,2BAkEEnE,CACF4D,EACAC,EAVF,EAAoE/D,iBAYlEuB,EACA1O,GATMyR,EADR,EACE/M,KACAiK,EAFF,EAEEA,kBAWF,MAAO,CACL/B,gCACAE,uBACAkE,qCAAsCC,EACtCC,0CACAlR,8BACAuR,cAnBF,EAGEA,cAiBAC,wBApBF,EAIEA,wBAiBAC,0BACA9C,oBACAkC,kCACAC,kCACAF,2BCrLW,SAASc,GAAuBzqB,GAC7C,IA/BAnC,EACAC,EA8BM+nB,GA/BNhoB,EAgCEmC,EAAMpC,iBAAiBC,iBA/BzBC,EAgCEkC,EAAMpC,iBAAiBE,mCA9BlBD,QAA2D3C,IAAvC4C,GAAoDA,EAAqC,GAiC9G4sB,EA9BsD,SAC5D7E,EACA/nB,EACAC,GAH4D,OAK5D8nB,QACuC3qB,IAAvC4C,QAC8B5C,IAA9B6C,GACAD,GAAsCC,EAClCsE,KAAKgiB,IAAIpL,GAAoBlb,EAA4BD,EAAnC,IAAwE,SAC9F5C,EAoB6CyvB,CAC/C9E,EACA7lB,EAAMpC,iBAAiBE,mCACvBkC,EAAMpC,iBAAiBG,2BAGnB6sB,EAvBkB,SAACF,GAAD,YACqBxvB,IAA7CwvB,EACIA,EAA2C,IACzC,EACA,QACFxvB,EAkByBkrB,CAAWsE,GAExC,MAAO,CACL7E,uBACA6E,2CACAE,wBC9CJ,IAAM7G,GAA0B,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,IAuBpCqC,GAAa,SAACyE,GAAD,YACuB3vB,IAA/C2vB,EACI9G,IAjCS9hB,EAiCqB4oB,EAjCR3oB,EAiCoD,EAjCvCC,EAiC0C4hB,GAAwBxjB,OAAS,EAhC3G8B,KAAKH,IAAIC,EAAKE,KAAKF,IAAID,EAAKD,WAiC/B/G,EAlCN,IAAe+G,EAAaC,EAAaC,GAwC1B,SAAS2oB,GAAqB9qB,GAC3C,IA9BA7E,EACAF,EA6BM8vB,GA9BN5vB,EA+BE6E,EAAMhC,eAAe7C,qBA9BvBF,EA+BE+E,EAAMhC,eAAe/C,0BA7BEC,IAAzBC,QAA+DD,IAAzBD,EAClCE,EAAuBF,EACrB,SACAE,EAAuBF,EACvB,SACA,eACFC,GA0BE2vB,EAxBwD,SAC9D1vB,EACAF,GAF8D,YAIrCC,IAAzBC,QAA+DD,IAAzBD,EAClCoH,KAAKH,IAAI/G,EAAsBF,QAC/BC,EAkB+C8vB,CACjDhrB,EAAMhC,eAAe7C,qBACrB6E,EAAMhC,eAAe/C,sBAKvB,MAAO,CACL8vB,+BACAF,6CACAI,mBALyB7E,GAAWyE,IC/CjC,IAAMK,GAAkB,SAC7BpvB,EACAoqB,EACAyB,EACAiB,EACA4B,EACAI,EACAK,GAMA,IAOMprB,GACHqmB,GAAoB,IACC,gBAArBpqB,GACI6rB,GAAsB,IAAMiB,GAAuB,GACpD4B,GAA2B,IAC9BI,GAAwB,IACxBK,GAAsB,GAEnBnrB,QAfuD5E,IAArBgrB,EAAiC,GAAK,IAiBtD,gBAArBpqB,QAhB8DZ,IAAvBysB,EAAmC,GAAK,SACfzsB,IAAxB0tB,EAAoC,GAAK,QACT1tB,IAA5BsvB,EAAwC,GAAK,SACvBtvB,IAAzB0vB,EAAqC,GAAK,SACrB1vB,IAAvB+vB,EAAmC,GAAK,GAkBlF,OAAInrB,EAAuB,GAClB,CACLF,eAAW1E,EACX2E,aACAC,wBAMG,CACLF,UAHgByC,KAAKgX,MAAoB,IAAbxZ,EAAoBC,GAIhDD,aACAC,yB,6BCvBWqrB,GAtBqC,SAAC,GAAyD,IAAD,IAAtDjrB,YAAsD,MAA/C,OAA+C,EAAvC4M,EAAuC,EAAvCA,MAAOwB,EAAgC,EAAhCA,KAAgC,IAA1B8c,mBAA0B,SAC3G,EAA4CC,cAAW,GAAvD,mBAAOC,EAAP,KAAuBC,EAAvB,KAEA,OAAID,EAEA,kBAAC,KAAD,CAAOrkB,OAAQ/G,EAAM2R,aAAa,KAAKiO,EAAG,EAAG/U,GAAI,CAAEygB,UAAW,qCAC5D,kBAAC,KAAD,MACA,kBAAC,IAAD,KACE,kBAAC,KAAD,CAAYrzB,WAAY,MAAO2U,GAC9BwB,GACC,kBAAC,KAAD,CAAkBlW,SAAS,KAAKD,WAAY,KAAMuU,QAAQ,QAAQQ,GAAI,GACnEoB,IAIN8c,GAAe,kBAAC,KAAD,CAAa5f,QAAS+f,EAAkBE,OAAQ9J,SAAS,WAAWG,MAAM,MAAMF,IAAI,SAInG,MCLT,IAAMrrB,GAAS,CACbb,KAAM6b,YAAI,CACR7E,QAAS,OACTqU,cAAe,MACfC,WAAY,eAEd0K,OAAQna,YAAI,CACVS,SAAU,EACVhG,WAAY,EACZiG,UAAW,KACXwO,WAAYvf,EAAaM,KAAKC,YAC9BkgB,SAAU,SACVC,IAAK,EACLlV,QAAS,OACTqU,cAAe,YAIJ4K,GA7Bf,YAAuE,IAAxCC,EAAuC,EAAvCA,aAAcC,EAAyB,EAAzBA,eACrChpB,EAAamB,IACbgH,EAAQlH,EAA+B,YAAfjB,EAA2B,EAAI,GAC7D,OACE,mBAAK0O,IAAKhb,GAAOb,MACf,mBAAK6b,IAAKA,YAAI,CAAEvG,WAAW4gB,GAC3B,mBAAKra,IAAKhb,GAAOm1B,QAASG,KCDhC,IAAMt1B,GAAS,CACbu1B,OAAQva,YAAI,CACVwa,QAAS,EACTja,OAAQ,OACRjb,WAAY,OAEZwb,OAAQ,UACRja,SAAU,GACV4zB,UAAW,SACX7gB,eAAgB,eAIL8gB,GArBf,YAA0D,IAApClpB,EAAmC,EAAnCA,SAAUyI,EAAyB,EAAzBA,QAAS0gB,EAAgB,EAAhBA,MACvC,OACE,sBAAQhsB,KAAK,SAASqR,IAAK,CAAChb,GAAOu1B,OAAQI,GAAQ1gB,QAASA,GACzDzI,ICPMopB,GAAgB,SAACpZ,GAAD,OAC1BA,EAAKzR,OAASyR,EAAKqZ,cACnBrZ,EAAKzR,OAASyR,EAAKC,SAAWha,OAAOqzB,OAAPrzB,OAAA,IAAAA,QAAA,IAAAA,CAAA,GAAmB+Z,EAAKzR,OAAxB,IAA+ByO,UAAU,KAAS1H,UAAS,IAyB5F,IAAM9R,GAAS,CACbsc,MAAOtB,YAAI,CACT+a,WAAY,OACZxa,OAAO,SAAD,OAAW5Q,EAAa9K,OAAO+K,QAA/B,QACN6J,MAAO,OACP5S,SAAU,GACVD,WAAY,OACZ+Z,YAAa,GACbC,aAAc,KAEhBoa,WAAYhb,YAAI,CACd3a,MAAOsK,EAAa9K,OAAOkL,MAC3B7J,YAAayJ,EAAa9K,OAAOkL,SAItBnK,GA/Bf,YAAuG,IAAD,IAArFK,MAASqb,EAA4E,EAA5EA,MAAOE,EAAqE,EAArEA,KAAQyZ,EAA6D,EAA7DA,YAAaN,EAAgD,EAAhDA,MAAgD,IAAzCzZ,gBAAyC,SAAvBga,EAAuB,EAAvBA,aACvEnrB,EAAQ6qB,GAAcpZ,GAE5B,OACE,mCACExB,IAAK,CAAChb,GAAOsc,MAAOqZ,EAAO5qB,GAAS/K,GAAOg2B,YAC3CC,YAAaA,EACb3jB,GAAIgK,EAAMpX,KACVgX,SAAUA,EACVia,aAAcD,GAA8B,OACxC5Z,K,wCCdV8Z,0BAAe,KAAMC,MAsCrB,IAAMr2B,GAAS,CACbs2B,UAAWtb,YAAI,CACbI,UAAW,EACXkB,MAAO,CACLnG,QAAS,OACTtU,SAAU,GACV8Z,YAAa,GACbC,aAAc,GACd1b,OAAQ,GACRkb,UAAW,KAGfrH,MAAOiH,YAAI,CACTnZ,SAAU,GACVzB,WAAY,OACZwB,WAAY,SAEdsZ,WAAYF,YAAI,CACd3a,MAAOsK,EAAa9K,OAAOkL,QAE7BoQ,SAAUH,YAAI,CACZ9a,OAAQ,GACRkb,UAAW,EACXH,aAAc,EACd9E,QAAS,OACTmG,MAAO,CACLhB,aAAc,EACdC,OAAQ,aAEV,kBAAmB,CAAEA,OAAQ,KAE/BxQ,MAAOiQ,YAAI,CACT9a,OAAQ,GACRG,MAAOsK,EAAa9K,OAAOkL,MAC3BlJ,SAAU,GACV+S,eAAgB,YAChBhT,WAAY,UAID20B,GApEf,YAAmG,IAA9ErxB,EAA6E,EAA7EA,KAAM6O,EAAuE,EAAvEA,MAAOmI,EAAgE,EAAhEA,SAC1Bjb,EAAQu1B,aAAStxB,EAAM,CAAEiX,SAAUrC,KACnC/O,EAAQ6qB,GAAc30B,EAAMub,MAElC,OACE,mBAAKxB,IAAKhb,GAAOs2B,WACf,qBAAOtb,IAAK,CAAChb,GAAO+T,MAAOhJ,GAAS/K,GAAOkb,YAAawB,QAASzb,EAAMqb,MAAMpX,MAC1E6O,GAEH,mBAAKiH,IAAKhb,GAAOmb,UACf,YAAC,KAAD,CAAOjW,KAAMA,EAAMiX,SAAUrC,KAC1B,SAAC/Y,GAAD,OACC,YAAC,KAAD,CACE01B,OAAO,KACPC,WAAW,aACXC,SAAUzc,GAAUnZ,EAAMub,MAAMlZ,OAChCwzB,SAAU,SAACxT,GAAD,OAAWA,EAAOriB,EAAMub,MAAMsa,SAASzT,GAAaC,IAAS,IACvElH,SAAUA,EACVhX,KAAMA,QAKd,iBAAG8V,IAAKhb,GAAO+K,OAAQA,GA/BH,SAACA,GAAD,OACxB,YAAC,WAAD,KACGtI,OAAOC,KAAKqI,GACVpI,KAAI,SAACC,GAAD,OAASmI,EAAMnI,MACnBi0B,KAAK,OA2B0BC,CAAkB71B,EAAMub,KAAKzR,UC5BpDgsB,OAhBf,YAMI,IALFC,EAKC,EALDA,SAKC,IAJDC,qBAIC,SAOD,OAAO,kBAAC,KAAD,CAASC,aAAc,CAAEpB,QAAQ,EAAMqB,OAAO,GAAQP,SANxC,SAAC,GAAwD,IAAtDd,EAAqD,EAArDA,QAAqD,EAA7CqB,YACExyB,IAAlBsyB,IAAgCA,IAC5CD,EAASlB,OCLAsB,OAJf,YAAsE,IAA9CrjB,EAA6C,EAA7CA,MAA6C,IAAtC4U,eAAsC,SACnE,OAAO,kBAAC,GAAD,CAAc5U,MAAOA,EAAOpK,KAAK,SAAS+e,SAAUC,EAASA,QAASA,EAAStU,KAAK,QCkC7F,IAAMrU,GAAS,CACbJ,UAAWob,YAAI,CACb7E,QAAS,OACTqU,cAAe,SACfC,WAAY,eAEd1f,MAAOiQ,YAAI,CACT7E,QAAS,OACTsU,WAAY,SACZrP,UAAW,EACXoa,QAAS,WACT3Z,gBAAiB,QACjBN,OAAO,SAAD,OAAW5Q,EAAa9K,OAAOkL,MAA/B,QACNuQ,aAAc,EACdjb,MAAOsK,EAAa9K,OAAOkL,MAC3BlJ,SAAU,KAEZw1B,KAAMrc,YAAI,CACR9a,OAAQ,GACRiqB,YAAa,MAIFmN,GA7Cf,YAMW,IALTzB,EAKQ,EALRA,aACA0B,EAIQ,EAJRA,oBACAzO,EAGQ,EAHRA,aAGQ,IAFRH,eAEQ,aADR5U,aACQ,MADA,2BACA,EACR,OACE,mBAAKiH,IAAKhb,GAAOJ,WACf,YAAC,GAAD,CAAcmU,MAAOA,EAAO4U,QAASA,IACpCG,GAAgB+M,GAAgB0B,GAC/B,mBAAKvc,IAAKhb,GAAO+K,OACf,mBAAKiQ,IAAKhb,GAAOq3B,MACf,YAAC,GAAD,CAAariB,QAAQ,OAEvB,qBAAI8T,MCId,IAAM9oB,GAAS,CACb+a,UAAWC,YAAI,CACbC,aAAc,KAEhBlH,MAAOiH,YAAI,CACTnZ,SAAU,GACVzB,WAAY,OACZwB,WAAY,SAEdsZ,WAAYF,YAAI,CACd3a,MAAOsK,EAAa9K,OAAOkL,QAE7BoQ,SAAUH,YAAI,CACZ9a,OAAQ,GACRkb,UAAW,EACXH,aAAc,EACd9E,QAAS,OACTqhB,SAAU,CACRlc,aAAc,EACdC,OAAQ,YACR9G,MAAO,QAET,qBAAsB,CACpB8G,OAAQ,EACRD,aAAc,KAGlBvQ,MAAOiQ,YAAI,CACT9a,OAAQ,GACRG,MAAOsK,EAAa9K,OAAOkL,MAC3BlJ,SAAU,GACV+S,eAAgB,YAChBhT,WAAY,UAID61B,GAhEf,YAUI,IATFC,EASC,EATDA,UACAC,EAQC,EARDA,UACA5jB,EAOC,EAPDA,MACAmI,EAMC,EANDA,SAOA,OACE,YAAC,KAAD,CAAOhX,KAAMyyB,EAAWxb,SAAU3C,GAAU4C,UAAU,aACnD,gBAAGE,EAAH,EAAGA,MAAOE,EAAV,EAAUA,KAAV,OACC,mBAAKxB,IAAKhb,GAAO+a,WACf,qBAAOC,IAAK,CAAChb,GAAO+T,MAAOyI,EAAKzR,OAASyR,EAAKC,SAAWzc,GAAOkb,YAAawB,QAASJ,EAAMpX,MACzF6O,GAEH,mBAAKiH,IAAKhb,GAAOmb,UACf,wCAAcmB,EAAd,CAAqBJ,SAAUA,MAEhCM,EAAKzR,OAASyR,EAAKC,SAAW,iBAAGzB,IAAKhb,GAAO+K,OAAQ2sB,QCnB1DE,GAAqC,CACzCC,IAAK,8BACLC,GAAI,wBACJC,IAAK,6BAoCP,IAAM/3B,GAAS,CACb+a,UAAWC,YAAI,CACbC,aAAc,KAEhBlH,MAAOiH,YAAI,CACTnZ,SAAU,GACVzB,WAAY,OACZwB,WAAY,SAEdsZ,WAAYF,YAAI,CACd3a,MAAOsK,EAAa9K,OAAOkL,QAE7BoQ,SAAUH,YAAI,CACZ9a,OAAQ,GACRkb,UAAW,EACXH,aAAc,EACd9E,QAAS,OACTkF,OAAQ,CACNC,aAAc,EACdC,OAAQ,YACR9G,MAAO,UAGX1J,MAAOiQ,YAAI,CACT9a,OAAQ,GACRG,MAAOsK,EAAa9K,OAAOkL,MAC3BlJ,SAAU,GACV+S,eAAgB,YAChBhT,WAAY,SAEd4Z,UAAWR,YAAI,CACbS,SAAU,EACVhG,WAAY,EACZiG,UAAW,OACXC,YAAa,GACbC,aAAc,GAEdC,gBAAiB,QACjBP,aAAc,EAEdzZ,SAAU,GACVD,WAAY,OACZka,OAAQ,iBAIGkc,GA/Ef,YAA2G,IAA9E9yB,EAA6E,EAA7EA,KAAM6O,EAAuE,EAAvEA,MAAOmI,EAAgE,EAAhEA,SACxC,OACE,YAAC,KAAD,CAAOhX,KAAMA,EAAMiX,SAAU3C,GAAU4C,UAAU,WAC9C,gBAAGE,EAAH,EAAGA,MAAOE,EAAV,EAAUA,KAAV,OACC,mBAAKxB,IAAKhb,GAAO+a,WACf,qBAAOC,IAAK,CAAChb,GAAO+T,MAAOyI,EAAKzR,OAASyR,EAAKC,SAAWzc,GAAOkb,YAAawB,QAASJ,EAAMpX,MACzF6O,GAEFmI,EACC,mBAAKlB,IAAKhb,GAAOmb,UACf,mBAAKH,IAAKhb,GAAOwb,WAAYoc,GAAQtb,EAAMlZ,SAG7C,YAAC,WAAD,KACE,mBAAK4X,IAAKhb,GAAOmb,UACf,qBAAYmB,EACV,2BACC7Z,OAAOC,KAAKk1B,IAASj1B,KAAI,SAACS,GAAD,OACxB,sBAAQA,MAAOA,EAAOR,IAAKQ,GACxBw0B,GAAQx0B,SAKhBoZ,EAAKzR,OAASyR,EAAKC,SAAW,iBAAGzB,IAAKhb,GAAO+K,OAAf,yDChC7C,SAASktB,GAAT,GAUI,IATFN,EASC,EATDA,UACA5jB,EAQC,EARDA,MACA3Q,EAOC,EAPDA,MACAslB,EAMC,EANDA,SAOQpM,EAAUka,aAASmB,EAAW,CAAEhuB,KAAM,QAASvG,UAA/CkZ,MACR,OACE,qBAAOtB,IAAKhb,GAAO+T,OACjB,mCAAOiH,IAAKhb,GAAOk4B,OAAW5b,EAA9B,CAAqCoM,SAAUA,KAC/C,mBAAK1N,IAAK,CAAChb,GAAOm4B,UAAW7b,EAAM8b,SAAWp4B,GAAOq4B,oBACrD,oBAAMrd,IAAKhb,GAAOs4B,WAAYvkB,IA0BpC,IAAM/T,GAAS,CACbJ,UAAWob,YAAI,CACb7E,QAAS,OACTqU,cAAe,SACfpP,UAAW,UAEbrH,MAAOiH,YAAI,CACT7E,QAAS,OACTtU,SAAU,GACVia,OAAQ,YAEVwc,UAAWtd,YAAI,CACbpZ,WAAY,SAEds2B,MAAOld,YAAI,CACT7E,QAAS,SAEXgiB,UAAWnd,YAAI,CACbvG,MAAO,GACPvU,OAAQ,GACRuV,WAAY,EACZ0U,YAAa,EACb7O,aAAc,EACdO,gBAAiB,QACjBN,OAAO,SAAD,OAAW5Q,EAAa9K,OAAO+K,QAA/B,UAERytB,iBAAkBrd,YAAI,CACpBud,gBAAgB,mBAAD,OAAqB5tB,EAAa9K,OAAO+K,QAAzC,gBAAwDD,EAAa9K,OAAO+K,QAA5E,qBAEjB4tB,gBAAiBxd,YAAI,CACnBI,UAAW,IAEbqd,mBAAoBzd,YAAI,CACtB0d,WAAY,YAIDC,GAlDf,YAAsF,IAA7Dzc,EAA4D,EAA5DA,SAAUyb,EAAkD,EAAlDA,UAAWv0B,EAAuC,EAAvCA,MAAOw1B,EAAgC,EAAhCA,UAAWC,EAAqB,EAArBA,WAC9D,OACE,mBAAK7d,IAAKhb,GAAOJ,WACf,mBAAKob,IAAK,CAACkB,GAAsB,UAAV9Y,GAAqBpD,GAAOy4B,qBACjD,YAACR,GAAD,CAAYN,UAAWA,EAAW5jB,MAAO6kB,EAAWx1B,MAAM,OAAOslB,SAAUxM,KAE7E,mBAAKlB,IAAK,CAAChb,GAAOw4B,gBAAiBtc,GAAsB,SAAV9Y,GAAoBpD,GAAOy4B,qBACxE,YAACR,GAAD,CAAYN,UAAWA,EAAW5jB,MAAO8kB,EAAYz1B,MAAM,QAAQslB,SAAUxM,OCpB/EC,GAAW,SAAC/Y,GAChB,IAAM2W,EAAgBP,GAASpW,GAC/B,OAAK2W,EAGI,CACLP,SAAUO,QAHZ,GAQE+e,GAAe,SAACrzB,GACpB,OAAO,YAMA,IALLwD,EAKI,EALJA,gBACAD,EAII,EAJJA,2BAOA,GAAKC,EAAL,CACA,IAAM8vB,EAAwB7e,GAAUjR,GAClC+vB,EAA4B9e,GAAUzU,GAC5C,MAAO,CACLwD,qBAC4BtE,IAA1Bo0B,QAC8Bp0B,IAA9Bq0B,GACAD,EAAwBC,OACpBr0B,EACA,CACEs0B,kCAAkC,8EAAD,OAAiExzB,EAAjE,MAEzCuD,gCACiCrE,IAA/BqE,OAA2CrE,EAAY,0DAoO/D,SAASu0B,GAAT,GAQI,IAPFhd,EAOC,EAPDA,SACAid,EAMC,EANDA,UACAC,EAKC,EALDA,UAMMn4B,EAAQu1B,aAAS,kBAAmB,CAAEra,cACtCpR,EAAQ6qB,GAAc30B,EAAMub,MAElC,OACE,mBAAKxB,IAAKhb,GAAO+a,WACf,qBAAOC,IAAK,CAAChb,GAAO+T,MAAOhJ,GAAS/K,GAAOkb,YAAawB,QAASzb,EAAMqb,MAAMpX,MAC1Ei0B,EAAS,qHACkGC,GACxG,mHAEN,mBAAKpe,IAAKhb,GAAOmb,UACf,YAAC,GAAD,CAAOla,MAAOA,EAAOib,SAAUA,KAEjC,iBAAGlB,IAAKhb,GAAO+K,OAAQA,GAAS,yCAKtC,IAAM/K,GAAS,CACbJ,UAAWob,YAAI,CACb7E,QAAS,OACTqU,cAAe,WAEjBzP,UAAWC,YAAI,CACbC,aAAc,KAEhBlH,MAAOiH,YAAI,CACTnZ,SAAU,GACVzB,WAAY,OACZwB,WAAY,SAEdsZ,WAAYF,YAAI,CACd3a,MAAOsK,EAAa9K,OAAOkL,QAE7BsuB,gBAAiBre,YAAI,CACnBI,UAAW,KAEbD,SAAUH,YAAI,CACZ9a,OAAQ,GACRkb,UAAW,EACXH,aAAc,EACd9E,QAAS,OACTmG,MAAO,CACLhB,aAAc,EACdC,OAAQ,aAEV,kBAAmB,CAAEA,OAAQ,KAE/B+d,KAAMte,YAAI,CACRI,UAAW,GACXH,aAAc,GACdwa,UAAW,WAEb1qB,MAAOiQ,YAAI,CACT3a,MAAOsK,EAAa9K,OAAOkL,MAC3BlJ,SAAU,GACV+S,eAAgB,YAChBhT,WAAY,UAID23B,GAxRf,YAUW,IATT9vB,EASQ,EATRA,MACAJ,EAQQ,EARRA,UACAmwB,EAOQ,EAPRA,mBACA/zB,EAMQ,EANRA,oBACAyW,EAKQ,EALRA,SACAud,EAIQ,EAJRA,kBACAC,EAGQ,EAHRA,oBACA5oB,EAEQ,EAFRA,SACA6oB,EACQ,EADRA,UAEM/wB,EAAca,EAAMb,YACpBgxB,EAAgB,CACpB/wB,kBAAmBD,EAAYC,kBAC/BC,mBACgCnE,IAA9BiE,EAAYE,cAA8BwQ,GAAuB1Q,EAAYE,oBAAiBnE,EAChGoE,oBAAqBH,EAAYG,oBACjCE,gBAAiBL,EAAYK,gBAC7BD,gCAC6CrE,IAA3CiE,EAAYI,2BACRsQ,GAAuB1Q,EAAYI,iCACnCrE,EACNuE,gBAAiBN,EAAYM,gBAC7BC,qBAAsBP,EAAYO,sBAG9B6tB,EAAW,SAAC6C,GAChB,IACEhxB,EAOEgxB,EAPFhxB,kBACAC,EAME+wB,EANF/wB,cACAC,EAKE8wB,EALF9wB,oBACAE,EAIE4wB,EAJF5wB,gBACAD,EAGE6wB,EAHF7wB,2BACAE,EAEE2wB,EAFF3wB,gBACAC,EACE0wB,EADF1wB,qBAGFswB,EAAkB,CAChB5wB,oBACAC,mBAAiCnE,IAAlBmE,EAA8BuQ,GAAsBvQ,QAAiBnE,EACpFoE,sBACAE,kBACAD,gCACiCrE,IAA/BqE,EAA2CqQ,GAAsBrQ,QAA8BrE,EACjGuE,kBACAC,0BASEgwB,EAAY1lB,QAAQhK,EAAMrE,aAAaI,kBAAoBiE,EAAMrE,aAAaI,kBAAoB,MAClG4zB,OAA0Bz0B,IAAd0E,GAA2B8vB,EAAY,+BAAiC,GAE1F,EAA8B1sB,oBAAS,GAAvC,mBAAOkc,EAAP,KAAgBmB,EAAhB,KACA,EAAwCrd,wBAAS9H,GAAjD,mBAAOmkB,EAAP,KAAqBiB,EAArB,KAEM9U,EAAU,W3C/CW,IAACtN,EAAO6b,E2CgDjCsG,GAAW,I3ChDeniB,E2CkDZ8B,EAAM/B,uBAAuBC,M3ClDV6b,E2CkDiB/Z,EAAMrE,aAAaI,iB3ClD3B2M,GAAa,gBAAD,OAAiBxK,EAAjB,YAA0B6b,EAA1B,YAA0C,K2CmD7F3S,MAAK,WACJiZ,GAAW,MAEZE,OAAM,SAACjf,GACN+e,GAAW,GACX,IAAMhB,EACH/d,EAAMsF,UAAYtF,EAAMsF,SAASyH,SAAY,uDAChDiS,EAAgBjB,GAChBT,GAAYtd,OAAOpG,OAIzB,OAAKgkB,GAAWG,EACPG,GAAaH,GAIpB,YAAC,KAAD,CACEgR,SAjCa,SAACD,GAChB7C,EAAS6C,GACTH,EAAoB,UAgClBvd,SAAU2c,GAAarzB,GACvBm0B,cAAeA,EAIfG,mBAAoB,kBAAM,KAEzB,gBAAGC,EAAH,EAAGA,aAAclE,EAAjB,EAAiBA,OAAQyB,EAAzB,EAAyBA,oBAAqB0C,EAA9C,EAA8CA,OAAQpE,EAAtD,EAAsDA,aAAtD,OACC,oBAAMiE,SAAUE,EAAchf,IAAKhb,GAAOJ,UAAW+1B,MAAO,CAAEva,UAAW,KACvE,YAAC,GAAD,CAAc4b,SAAUA,SAETryB,IAAd0E,GAA2BA,EAAY,IACtC,YAAC,GAAD,CACE0K,MAAM,4DACN7O,KAAK,oBACLgX,SAAUA,KAIZsd,GACA,YAAC,WAAD,KAC8C,eAA3C/vB,EAAM/B,uBAAuBQ,WAC5B,mBAAK8S,IAAKhb,GAAO+a,WAAjB,yCAEE,YAAC,GAAD,CACE4c,UAAU,gBACVv0B,MAAO0yB,EAAOhtB,cACdoT,SAAUA,EACV0c,UAAU,MACVC,WAAW,UAI4B,eAA3CpvB,EAAM/B,uBAAuBQ,WAAuD,SAAzB4tB,EAAOhtB,gBAClE,uBACE,YAAC,GAAD,CACE5D,KAAK,sBACL6O,MAAM,wGACNmI,SAAUA,YAOJvX,IAAd0E,GAA2B8vB,IAC3B,YAAC,WAAD,KACE,YAAC,GAAD,CACEj0B,KAAK,kBACL6O,MACEolB,EAAS,sDACuCC,GAC5C,sDAENld,SAAUA,IAEZ,qBACGid,EAAS,0EAC0DC,EAD1D,MAEN,6EAEN,YAAC,GAAD,CACEzB,UAAU,6BACVv0B,MAAO0yB,EAAO9sB,2BACdkT,SAAUA,EACV0c,UAAU,MACVC,WAAW,QAEZhD,GAAgB0B,GAAuB0C,GAAUA,EAAOjxB,4BACvD,iBAAGgS,IAAKhb,GAAO+K,OAAQkvB,EAAOjxB,4BAEhC,mBAAKgS,IAAKhb,GAAOq5B,sBACwB10B,IAAtCmxB,EAAO9sB,6BACiC,SAAtC8sB,EAAO9sB,2BACN,YAACkwB,GAAD,CAAmBhd,SAAUA,EAAUid,UAAWA,EAAWC,UAAWA,IAExE,YAACc,GAAD,CACEnmB,MACEolB,EAAS,gFAC2DC,EAD3D,iCAEL,6GAENzB,UAAU,uBACVD,UAAU,yDACVxb,SAAUA,OAOrBA,EACC,YAAC,WAAD,KACE,YAAC,GAAD,qEAC0DtT,EAAYQ,gBADtE,WAEiC,UAA9BR,EAAYvD,eACX,iBAAG2V,IAAKhb,GAAOs5B,MACb,YAAC,GAAD,CAAYrkB,QAAS,kBAAMykB,EAAoB,UAA/C,qCAIN,YAAC,GAAD,CACEzkB,QAASA,EACTlB,MAAM,uCACN2U,SAAUC,EACVA,QAASA,KAIb,YAAC,GAAD,KACE,YAAC,GAAD,CACE4O,oBAAqBA,GAAuB9jB,QAAQ3C,GACpD+kB,aAAcA,GAAgBpiB,QAAQ3C,GACtCgY,aACEhY,GAAY,sFAEdiD,MAAM,cACN4U,QAASgR,UClNVQ,GArDwD,SAAC,GAAD,IACrEC,EADqE,EACrEA,mBACA/wB,EAFqE,EAErEA,UACAC,EAHqE,EAGrEA,WACAC,EAJqE,EAIrEA,qBAJqE,OAMrE,kBAAC,IAAMkN,SAAP,KACG2jB,OACez1B,IAAd0E,EACE,kBAAC,GAAD,CACEM,KAAK,UACL4M,MAAM,oCACNwB,KACE,kBAAC,IAAMtB,SAAP,KACE,kBAAC,IAAD,oCAC2B,gCAASpN,EAAT,QAD3B,KAGA,kBAAC,IAAD,CACEsN,GAAI,EACJ0jB,UAAU,SACVx4B,SAAS,MAHX,UAIKyH,EAJL,qCAI4CC,EAJ5C,iCASN,kBAAC,GAAD,CACEI,KAAK,UACL4M,MAAM,oCACNwB,KACE,kBAAC,IAAMtB,SAAP,KACE,kBAAC,IAAD,gHAGA,kBAAC,IAAD,CACEE,GAAI,EACJ0jB,UAAU,SACVx4B,SAAS,MAHX,UAIKyH,EAJL,qCAI4CC,EAJ5C,iCAUR,kBAAC,GAAD,CACEI,KAAK,UACL4M,MAAM,oCACNwB,KAAK,0G,0CCnDPuiB,GAAmBC,aAAOC,IAAY,CAC1C95B,UAAW,CACTkU,eAAgB,YAChBvU,MAAO,aAoBIo6B,GAhBoC,SAAC,GAA2C,IAAzCvkB,EAAwC,EAAxCA,WAAY1J,EAA4B,EAA5BA,SAAUwH,EAAkB,EAAlBA,GAAO0mB,EAAW,kBAC5F,OAAIxkB,EAEA,kBAAC,IAAD,eAAMrE,KAAMmC,EAAIY,eAAe,YAAYvU,MAAM,UAAU6V,YAAU,GAAKwkB,GACvEluB,GAKH,kBAAC8tB,GAAD,eAAkBtmB,GAAIA,GAAQ0mB,GAC3BluB,ICFT,IAAMmuB,GAA0BC,aAThC,YAKwB,IAJtBpuB,EAIqB,EAJrBA,SAEYiR,EAES,EAHrBod,MACEvqB,OAAUmN,KAGZ,OAAOjR,EAAS,eAAD,OAAgBiR,OAY1B,SAASqd,GAAT,GAAwD,IAAzB9mB,EAAwB,EAAxBA,GAAID,EAAoB,EAApBA,MACxC,OACE,kBAAC4mB,GAAD,MACG,SAACI,GAAD,OAAiB,kBAAC,GAAD,CAAY/mB,GAAE,UAAK+mB,GAAL,OAAmB/mB,GAAMD,MAAOA,EAAOM,KAAK,UAK3E,SAAS2mB,GAAT,GAAsD,IAAzBhnB,EAAwB,EAAxBA,GAAID,EAAoB,EAApBA,MACtC,OACE,kBAAC4mB,GAAD,MACG,SAACI,GAAD,OAAiB,kBAAC,GAAD,CAAU/mB,GAAE,UAAK+mB,GAAL,OAAmB/mB,IAAOD,MCK9D,IAAMwC,GAAQ,iBA6Wd,SAAS0kB,GAAT,GAAiE,IAAtCzuB,EAAqC,EAArCA,SACzB,OACE,kBAAC,GAAD,CACE+J,MAAOA,GACPC,QAAQ,+IAEPhK,GAKQ0uB,ICvaAA,GDiD0C,SAAC,GAA+B,IAA7Bzd,EAA4B,EAA5BA,KAAMhU,EAAsB,EAAtBA,MAAOogB,EAAe,EAAfA,SACvErS,GAASjB,IAET,IvB8E2DpQ,EAhBDH,EC9DVM,ECFHM,EqBE7C,EAAkC6F,oBAAS,GAA3C,mBAAOktB,EAAP,KAAkBwB,EAAlB,KACA,EAAgC1uB,wBAA6B9H,GAA7D,mBAAOmM,EAAP,KAAiBsqB,EAAjB,KAEM3B,EAAoB5sB,uBACxB,SAACjD,GAAD,OAAiCigB,EAAS,CAAElgB,KAAM,oBAAqBC,WACvE,CAACigB,IAGH,EAA+DyD,GAAoB7jB,EAAM/D,SAASC,gBAA1F8sB,EAAR,EAAQA,yBAEFjN,EAFN,EAAkCkN,yBAEqBD,EAEvD,EAKI3D,GAAmBrlB,GAJU4xB,EADjC,EACEjM,8BACAC,EAFF,EAEEA,4BAC6B6B,EAH/B,EAGE1O,4BACAmN,EAJF,EAIEA,iBAGF,EAMIa,GAAqB/mB,GALQ6xB,EADjC,EACElM,8BACAkB,EAFF,EAEEA,4BAC6BW,EAH/B,EAGEzO,4BACmB+Y,EAJrB,EAIEpK,kBACAC,EALF,EAKEA,mBAGF,EAMIK,GAAsBhoB,GALO+xB,EADjC,EACEpM,8BACA8C,EAFF,EAEEA,yBAC6BE,EAH/B,EAGE5P,4BACmBiZ,EAJrB,EAIEtK,kBACAkB,EALF,EAKEA,oBAGF,EASIc,GAA0B1pB,GARGiyB,EADjC,EACEtM,8BACAoE,EAFF,EAEEA,qCACAE,EAHF,EAGEA,wCAC6BI,EAJ/B,EAIEtR,4BACesF,EALjB,EAKEiM,cACyB7L,EAN3B,EAME8L,wBACmB2H,EAPrB,EAOExK,kBACA8C,EARF,EAQEA,wBAGF,EAIIC,GAAuBzqB,GAHHmyB,EADxB,EACEtM,qBACA6E,EAFF,EAEEA,yCACAE,GAHF,EAGEA,qBAGF,GAIIE,GAAqB9qB,GAHOoyB,GADhC,GACErH,6BACAF,GAFF,GAEEA,2CACAI,GAHF,GAGEA,mBAGInvB,GAAmBkE,EAAMrE,aAAaG,iBAEtC60B,IACHvf,GAAYpR,EAAM7D,gBAEfy1B,GAAmC5xB,EAAM7D,aAAaC,OACpC,gBAArBN,IACIsV,GAAYpR,EAAMrD,kBAAoBk1B,KACtCzgB,GAAYpR,EAAM/C,mBAAqB80B,GACxC3gB,GAAYpR,EAAMzC,uBAAyB00B,IAC/C7gB,GAAYpR,EAAMpC,mBAClBwT,GAAYpR,EAAMhC,gBAEd2C,GAAwC,CAC5Cob,uBAGInb,GAAgD,CACpDyxB,mBAAoBryB,EAAM7D,aAAaC,SAAMlB,EAAY8E,EAAM7D,aAAaO,YAAY6D,OACxF+xB,eAAgBV,EAChBzU,mBAAqByU,EAAiD,GAAf,aAEvDW,4BAA6B,GAC7Bh2B,sBvBnBwDA,EuBmBUyD,EAAM7D,aAAaI,qBvBlBvFA,EAAqBrD,KAAI,SAACs5B,GACxB,OAAO,2BACFA,GADL,IAEEz3B,aAAcy3B,EAAUz3B,aAAa7B,KAAI,SAAC8B,GACxC,OAAO,2BACFA,GADL,IAEEO,sBAAuByoB,GACrBhpB,EAAWK,gCAAkC,EAC7CL,EAAWM,gCAAkC,cuBWrDoB,avBJyDA,EuBICsD,EAAM7D,aAAaO,YvBH/EA,EAAYxD,KAAI,SAACu5B,GACf,OAAO,2BACFA,GADL,IAEE13B,aAAc03B,EAAO13B,aAAa7B,KAAI,SAAC8B,GACrC,OAAO,2BACFA,GADL,IAEEO,sBAAuByoB,GACrBhpB,EAAWK,gCAAkC,EAC7CL,EAAWM,gCAAkC,cuBJrDkiB,cAAeoI,EACfrL,kBAAmBkN,EACnB/J,WAAYwI,GAGRrlB,GAAoD,CACxDyxB,eAAgBT,EAChB1U,mBAAqB0U,EAEjB7xB,EAAMrD,eAAeC,qBACrB,GACA,UAHA,aAKJ21B,4BAA6B,GAC7B11B,kBtBjG8CA,EsBiGMmD,EAAMrD,eAAeE,iBtBhG3EA,EAAiB3D,KAAI,SAACs5B,GACpB,OAAO,2BACFA,GADL,IAEEx1B,sBAAuBspB,GACrBkM,EAAU11B,uBACV01B,EAAUz1B,8BsB4FdygB,cAAeqJ,EACftM,kBAAmBiN,EACnB9J,WAAYiK,EACZvoB,kBAAmB0yB,GAGfhxB,GAAsD,CAC1DwxB,eAAgBP,EAChB5U,mBAAqB4U,EAEjB/xB,EAAM/C,gBAAgBC,kBACtB,GACA,UAHA,aAKJq1B,4BAA6B,GAC7Bp1B,erBnH2CA,EqBmHG6C,EAAM/C,gBAAgBE,crBlHtEA,EAAcjE,KAAI,SAACs5B,GACjB,OAAO,2BACFA,GADL,IAEEl1B,mBAAoBuqB,GAAyB2K,EAAUp1B,oBAAqBo1B,EAAUn1B,2BqBgHxFmgB,cAAeiL,EACflO,kBAAmBoO,EACnBjL,WAAYkL,EACZxpB,kBAAmB4yB,GAGfjxB,GAA8D,CAClEuxB,eAAgBL,EAChB9U,mBAAqB8U,EAEjBjyB,EAAMzC,oBAAoBC,8BAC1B,GACA,UAHA,YAKJ+0B,4BAA6B,GAC7BpU,mBAAoB4L,EACpBxL,4BAA6B0L,EAC7B1P,kBAAmB8P,EACnBhM,YACAI,qBACAf,WAAY8M,EACZprB,kBAAmB8yB,GAGflxB,GAAwD,CAC5DsxB,eAAgBH,EAChBhV,mBAAoBnd,EAAMpC,iBAAiBC,iBACuB,IAA9DmC,EAAMpC,iBAAiBE,mCACrB,cACA,GACF,WAEJy0B,4BAA6B,GAC7B/U,cAAekN,EACfhN,WAAYkN,IAGR3pB,GAAoD,CACxDuc,cAAeqN,GACftQ,kBACuC,WAArC6X,GACI,SACqC,WAArCA,GACA,SACAA,GACN1U,WAAYuN,IAGd,GAAwDC,GACtDpvB,GACAoqB,EACAyB,EACAiB,EACA4B,EACAI,GACAK,IAPMrrB,GAAR,GAAQA,UAAWC,GAAnB,GAAmBA,WAAYC,GAA/B,GAA+BA,qBAUzBmwB,GAAsB7sB,uBAC1B,SAAC/C,GAMC,GAJEqxB,EADY,UAAVrxB,IAKCgH,EACH,OAAO+Y,EAAS,CACdlgB,KAAM,sBACNG,QACAM,gBACAC,oBACAC,sBACAC,uBACAC,2BACAC,wBACAC,sBACArB,aACAC,cACAC,4BAIN,CACEsgB,EACAzf,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACArB,GACAC,GACAC,GACAuH,IA4CJ,OAxCA9D,qBAAU,WACR,GAAI2sB,EAAW,CACb,IAAM/vB,EpCzHoB,SAAC0I,EAAY1I,GAW3C,MATe,CACb0I,KACA1O,OAAQ,aACRu4B,iBAAa/X,GAAexa,GAC5BwyB,eAAWxX,GAAahb,GACxBob,WAAYD,GAAcnb,GAC1Bic,YAAaD,GAAehc,IoCiHbyyB,CAAiB5e,EAAMhU,GACpC8I,GAAmBkL,EAAMhU,GACtBoH,MAAK,Y/CnMgB,SAACjH,GAAD,OAC5BwI,GAAY,gBAAD,OAAiBxI,EAAKob,WAAWrd,MAAjC,YAA0CiC,EAAKuyB,iBAAY9X,wBAAqBza,I+CmMnF0yB,CAAe1yB,GACZiH,MAAK,WACJuqB,OAAYz2B,GACZw2B,GAAa,MAEdnR,OAAM,SAACjf,GACNowB,GAAa,GACb,IAAMrjB,EACJ/M,EAAMsF,UAAYtF,EAAMsF,SAAStF,MAAjC,4DACgDA,EAAMsF,SAAStF,OAC3D,8CACNqwB,EAAYtjB,GACZ4hB,GAAoB,QACU,MAA1B3uB,EAAMqF,SAASM,QAIjB2X,GAAYtd,EAAOnB,SAI1BogB,OAAM,SAACjf,GACNowB,GAAa,GACb,IAAMrjB,EACJ/M,EAAMsF,UAAYtF,EAAMsF,SAAStF,MAAjC,4DACgDA,EAAMsF,SAAStF,OAC3D,8CACNqwB,EAAYtjB,GACZ4hB,GAAoB,QACpBrR,GAAYtd,EAAOnB,SAGxB,CAAC6T,EAAMkc,EAAWlwB,EAAOiwB,KAIzBU,IACAvf,GAAYpR,EAAMrE,eAClByV,GAAYpR,EAAM/D,WAClBmV,GAAYpR,EAAM/B,yBAClBmT,GAAYpR,EAAMnB,uBA0EnB,kBAAC2yB,GAAD,KACE,kBAAC,GAAD,CACE5F,aACE,kBAAC,WAAD,KACE,kBAAC,GAAD,CACE+E,mBAAoBA,GACpB/wB,UAAWA,GACXC,WAAYA,GACZC,qBAAsBA,KAExB,kBAAC,GAAD,CACEE,MAAOA,EACPJ,UAAWA,GACXmwB,mBAAoB/vB,EAAM7D,aAAaC,IACvCJ,oBAAqBgE,EAAMrE,aAAaK,oBACxCyW,SAAUrB,GAAYpR,EAAMb,eAAiB+wB,EAC7CF,kBAAmBA,EACnBC,oBAAqBA,GACrB5oB,SAAUA,EACV6oB,UAAWA,KAIjBrE,eAAgB,QA9FlB,kBAAC2F,GAAD,KACE,kBAAC,GAAD,CACEtxB,KAAK,UACL4M,MAAM,kIACNwB,KAAK,4GAEP,kBAAC,IAAD,CAASlK,GAAG,KAAKwG,KAAK,KAAKsC,GAAI,GAA/B,mDAGA,kBAAC,IAAD,CAAeA,GAAI,IACfkE,GAAYpR,EAAMrE,eAClB,kBAAC,IAAD,KACE,kBAAC41B,GAAD,CAAmBhnB,GAAG,gBAAgBD,MAAM,2DAG9C8G,GAAYpR,EAAM/D,WAClB,kBAAC,IAAD,KACE,kBAACs1B,GAAD,CAAmBhnB,GAAG,aAAaD,MAAM,+BAG3C8G,GAAYpR,EAAM7D,iBACfy1B,IAAoC5xB,EAAM7D,aAAaC,KAAQw1B,IAChE,kBAAC,IAAD,KACE,kBAACL,GAAD,CAAmBhnB,GAAG,eAAeD,MAAM,+CAG3B,gBAArBxO,KAAoCsV,GAAYpR,EAAMrD,iBAAmBk1B,GACxE,kBAAC,IAAD,KACE,kBAACN,GAAD,CAAmBhnB,GAAG,eAAeD,MAAM,iDAGzB,gBAArBxO,KACEsV,GAAYpR,EAAM/C,kBACnB80B,GACE,kBAAC,IAAD,KACE,kBAACR,GAAD,CAAmBhnB,GAAG,eAAeD,MAAM,+CAG3B,gBAArBxO,KACEsV,GAAYpR,EAAMzC,sBACnB00B,GACE,kBAAC,IAAD,KACE,kBAACV,GAAD,CAAmBhnB,GAAG,kBAAkBD,MAAM,kDAGlD8G,GAAYpR,EAAMpC,mBAClB,kBAAC,IAAD,KACE,kBAAC2zB,GAAD,CAAmBhnB,GAAG,eAAeD,MAAM,iDAG7C8G,GAAYpR,EAAMhC,iBAClB,kBAAC,IAAD,KACE,kBAACuzB,GAAD,CAAmBhnB,GAAG,eAAeD,MAAM,4CAG7C8G,GAAYpR,EAAM/B,yBAClB,kBAAC,IAAD,KACE,kBAACszB,GAAD,CAAmBhnB,GAAG,2BAA2BD,MAAM,kCAGzD8G,GAAYpR,EAAMnB,wBAClB,kBAAC,IAAD,KACE,kBAAC0yB,GAAD,CAAmBhnB,GAAG,0BAA0BD,MAAM,kCE9WpE,SAASwoB,GAAT,GAA2C,IAA3B5G,EAA0B,EAA1BA,MAAOnpB,EAAmB,EAAnBA,SACrB,OAAO,mBAAKwO,IAAK,CAAChb,GAAOw8B,KAAM7G,IAASnpB,GAG1C,SAASiwB,GAAT,GAA4C,IAA3B9G,EAA0B,EAA1BA,MAAOnpB,EAAmB,EAAnBA,SACtB,OAAO,mBAAKwO,IAAK,CAAChb,GAAO08B,MAAO/G,IAASnpB,GAG3C,SAASmwB,GAAT,GAA+C,IAA3BhH,EAA0B,EAA1BA,MAAOnpB,EAAmB,EAAnBA,SACzB,OAAO,mBAAKwO,IAAK,CAAChb,GAAO48B,SAAUjH,IAASnpB,GAG9C,IAAMxM,GAAS,CACbw8B,KAAMxhB,YAAI,CACRvG,MAAO,GACPgB,WAAY,EACZyU,WAAY,IAEdwS,MAAO1hB,YAAI,CACTvG,MAAO,IACPgB,WAAY,EACZyU,WAAY,IAEd0S,SAAU5hB,YAAI,CACZS,SAAU,EACV0O,YAAa,KC2BV,SAAS0S,GAAT,GAAyG,IAAhFrwB,EAA+E,EAA/EA,SAA+E,IAArEswB,kBAAqE,SAC7G,OACE,mBAAK9hB,IAAKhb,GAAOJ,WACf,mBAAKob,IAAKhb,GAAOM,aACjB,mBAAK0a,IAAK,CAAChb,GAAO+8B,SAAU/8B,GAAOg9B,cAAeF,GAAc98B,GAAOi9B,qBACrE,mBAAKjiB,IAAKhb,GAAOk9B,eAAgB1wB,KAMzC,IAAM2wB,GAAU,GAEVn9B,GAAS,CACbJ,UAAWob,YAAI,CACboQ,SAAU,WACVhQ,UAAW,GACXH,aAAc,KAEhB3a,WAAY0a,YAAI,CACda,gBAAiB,OACjBuP,SAAU,WACVC,KAAM,GACNG,QAAS,GACTF,MAAO,GACPC,OAAQ,GACRjQ,aAAc,OACdC,OAAQ,sBAEVwhB,SAAU/hB,YAAI,CACZoQ,SAAU,WACVgS,WAAW,SAAD,OAAWzyB,EAAa9K,OAAO+K,QAA/B,QACVyyB,YAAY,SAAD,OAAW1yB,EAAa9K,OAAO+K,QAA/B,QACX8K,aAAa,SAAD,OAAW/K,EAAa9K,OAAO+K,QAA/B,QACZ0yB,WAAY,EACZC,cAAe,IAEjBC,mBAAoBxiB,YAAI,CACtBtF,aAAc,OACd6nB,cAAe,KAEjBP,cAAehiB,YAAI,CACjBqiB,YAAa,SAEfJ,mBAAoBjiB,YAAI,CACtBtF,aAAc,SAGhBwnB,cAAeliB,YAAI,CACjBY,aAAcuhB,GACdxhB,YAAawhB,KAGfM,QAASziB,YAAI,CACX7E,QAAS,OACTqU,cAAe,MACfC,WAAY,WACZW,SAAU,WACVE,KAAM,EACNC,MAAO,EACPC,OAAQ,OACRvQ,cAAe,EACfyiB,UAAW,GACX/hB,YAAawhB,KAEfQ,gBAAiB3iB,YAAI,CACnBnZ,SAAU,GACV+7B,cAAe,cAEjBC,YAAa7iB,YAAI,CACf9a,OAAQ,GACR2B,SAAU,GACV4zB,UAAW,WAEbqI,cAAe9iB,YAAI,CACjB9a,OAAQ,EACR2b,gBAAiBlR,EAAa9K,OAAO+K,QACrC6K,WAAY,EACZhB,MAAO0oB,GACPliB,aAAc,IAGhB8iB,UAAW/iB,YAAI,CACb7E,QAAS,OACTqU,cAAe,MACfC,WAAY,WACZ7O,aAAcuhB,GACdxhB,YAAawhB,GACb/hB,UAAW,GACXH,aAAc,KAEhB+iB,QAAShjB,YAAI,CACX7E,QAAS,OACTsU,WAAY,SACZwT,eAAgB,SAChBp8B,SAAU,GACVxB,MAAOsK,EAAa9K,OAAOgL,MAE7BqzB,UAAWljB,YAAI,CACb7E,QAAS,OACTsU,WAAY,SACZwT,eAAgB,SAChBp8B,SAAU,GACVxB,MAAOsK,EAAa9K,OAAOiL,QAG7BqzB,QAASnjB,YAAI,CACX7E,QAAS,OACTqU,cAAe,MACfC,WAAY,SACZvqB,OAAQ,GACRkrB,SAAU,WACVI,QAAS,EACTD,MAAO,EACPD,KAAM,IAER8S,YAAapjB,YAAI,CACfnZ,SAAU,GACV4zB,UAAW,WAEb4I,aAAcrjB,YAAI,CAChBqf,UAAW,SACXx4B,SAAU,GACVqoB,WAAY,IAEdoU,kBAAmBtjB,YAAI,CACrB9a,OAAQ,EACRiqB,YAAa,EACbtO,gBAAiBlR,EAAa9K,OAAO+K,QACrC6Q,SAAU,EACVhG,WAAY,EACZiG,UAAW,OAEb6iB,mBAAoBvjB,YAAI,CACtB9a,OAAQ,EACR2b,gBAAiBlR,EAAa9K,OAAO+K,QACrC6J,MAAO0oB,GACP1nB,WAAY,KAID+oB,GA1Lf,YAA8D,IAA1CjoB,EAAyC,EAAzCA,MAAOxC,EAAkC,EAAlCA,MAAO0qB,EAA2B,EAA3BA,OAAQjyB,EAAmB,EAAnBA,SACxC,OACE,mBAAKwO,IAAKhb,GAAOJ,WACf,mBAAKob,IAAKhb,GAAOM,aACjB,mBAAK0a,IAAK,CAAChb,GAAO+8B,SAAU0B,GAAUz+B,GAAOw9B,qBAC3C,mBAAKxiB,IAAKhb,GAAOy9B,SACf,YAACd,GAAD,CAAUhH,MAAO31B,GAAO29B,iBAAkBpnB,GAC1C,YAACkmB,GAAD,CAAO9G,MAAO31B,GAAO69B,aAAc9pB,GACnC,mBAAKiH,IAAKhb,GAAO89B,iBAGnB,mBAAK9iB,IAAKhb,GAAO+9B,WACf,YAACpB,GAAD,MACA,YAACJ,GAAD,CAAM5G,MAAO31B,GAAOk+B,WAClB,YAAC,GAAD,MADF,WAGA,YAAC3B,GAAD,CAAM5G,MAAO31B,GAAOg+B,SAClB,YAAC,GAAD,MACA,oCAIJ,mBAAKhjB,IAAKhb,GAAOk9B,eAAgB1wB,GAEhCiyB,GACC,mBAAKzjB,IAAKhb,GAAOm+B,SACf,mBAAKnjB,IAAKhb,GAAOs+B,oBACjB,mBAAKtjB,IAAKhb,GAAOq+B,cAAjB,SACmB,kBAAXI,EACN,YAAChC,GAAD,CAAO9G,MAAO31B,GAAOo+B,aAAcK,GAEnC,YAAC,WAAD,KACE,YAAClC,GAAD,CAAM5G,MAAO31B,GAAOo+B,aAAcK,EAAO,IACzC,YAAClC,GAAD,CAAM5G,MAAO31B,GAAOo+B,aAAcK,EAAO,KAI7C,mBAAKzjB,IAAKhb,GAAOu+B,yB,kECvCvBG,GAAaC,KAAiB,CAClCC,OAAQ,GACRC,2BAA2B,IAKvBC,GAAoBH,KAAiB,CACzCC,OAAQ,GACRC,2BAA2B,EAC3BE,OALoB,IAMpBC,cAAc,IAGVjU,GAAQ,SAACkU,GACb,OAAOA,EAAW3Z,MAAM,MAAMuR,KAAK,IAAI1O,QAVnB,IAU0C,KAG1D+W,GAAc,KACdC,GAAyB,QAmE/B,IAAMn/B,GAAS,CACbw8B,KAAMxhB,YAAI,CACR9a,OAAQ,GACRiW,QAAS,SAEXmG,MAAOtB,YAAI,CACT+a,WAAY,OACZxa,OAAO,SAAD,OAAW5Q,EAAa9K,OAAO+K,QAA/B,QACN6J,MAAO,OACP5S,SAAU,GACV4zB,UAAW,WAEbO,WAAYhb,YAAI,CACd3a,MAAOsK,EAAa9K,OAAOkL,MAC3B7J,YAAayJ,EAAa9K,OAAOkL,SAItBq0B,GAhEf,YAOW,IAAD,IANRn+B,MAMQ,IALNqb,MAASlZ,EAKH,EALGA,MAAOwzB,EAKV,EALUA,SAAayI,EAKvB,kBAJN7iB,EAIM,EAJNA,KAEF8iB,EAEQ,EAFRA,KACA3J,EACQ,EADRA,MAEM5qB,EApDqB,SAACyR,GAAD,OAC1BA,EAAKzR,OAASyR,EAAKqZ,cACnBrZ,EAAKzR,OAASyR,EAAKC,WAAaha,OAAOqzB,OAAPrzB,OAAA,IAAAA,QAAA,IAAAA,CAAA,GAAmB+Z,EAAKzR,OAAxB,IAA+ByO,UAAU,KAAS3W,QAAO,SAACmB,GAAD,QAAYA,KAAMgG,OAkD9F4rB,CAAcpZ,GAItB+iB,EA9B+B,SAACD,GAAD,OAAqD,SAACl8B,GAC3F,IAAMo8B,EAAep8B,EAAM+kB,QAAQ,KAAM,IAAIA,QAAQ,KAAM,IAAIA,QAAQ,SAAU,KAQjF,OANqBmX,EAAKE,GAEgB78B,KAAI,SAAC88B,GAC7C,OAAOA,EAAK77B,QAAU67B,EAAK77B,SAAWs7B,GAAYt7B,OAASu7B,GAAyBM,MAwB9DC,CAFG,YAATJ,EAAqBR,GAAoBJ,IAIrDO,EAAaU,yBAAcv8B,EAAOm8B,EAAgBn8B,GAAQ,IAAIw8B,eAEpE,OACE,YAACrD,GAAD,CAAM5G,MAAO31B,GAAOw8B,MACjB8C,EACC,YAAC,KAAD,eACEA,KAAMC,EACNvkB,IAAK,CAAChb,GAAOsc,MAAOqZ,EAAO5qB,GAAS/K,GAAOg2B,YAC3CG,aAAa,MACb/yB,MAAO67B,EACPrI,SAAU,SAAC9pB,GAAD,OACR8pB,EAAS,CACPjzB,OAAQ,CACNP,MAAO2nB,GAAMje,EAAMnJ,OAAOP,YAI5Bi8B,IAGN,mCACErkB,IAAK,CAAChb,GAAOsc,MAAOqZ,EAAO5qB,GAAS/K,GAAOg2B,YAC3CG,aAAa,MACb/yB,MAAOA,EACPwzB,SAAUA,GACNyI,MChFRQ,GAAuB,SAACz8B,EAAek8B,GAC3C,OAAKA,GAASl8B,EAGE,YAATk8B,EAAqBnd,GAAexJ,OAAOvV,GAAQ,GAAKkf,GAAW3J,OAAOvV,IAFxEA,GA8FX,IAAMpD,GAAS,CACbJ,UAAWob,YAAI,CACb7E,QAAS,OACTqU,cAAe,SACfC,WAAY,UACZvqB,OAAQ,GACR+a,aAAc,KAEhB6kB,IAAK9kB,YAAI,CACP7E,QAAS,OACTqU,cAAe,MACfC,WAAY,eAEdmS,SAAU5hB,YAAI,CACZ9a,OAAQ,GACRiW,QAAS,OACTsU,WAAY,SACZ/U,aAAa,SAAD,OAAW/K,EAAa9K,OAAO+K,QAA/B,QACZ/I,SAAU,KAEZk+B,gBAAiB/kB,YAAI,CACnB3a,MAAOsK,EAAa9K,OAAOmL,QAC3B9J,YAAa,gBAEf8+B,cAAehlB,YAAI,CACjB3a,MAAOsK,EAAa9K,OAAOkL,MAC3B7J,YAAa,gBAEf++B,aAAcjlB,YAAI,CAChBmP,YAAa,IAEfuS,MAAO1hB,YAAI,CACTya,UAAW,WAEbuI,QAAShjB,YAAI,CACX9Z,YAAayJ,EAAa9K,OAAOgL,MAEnCqzB,UAAWljB,YAAI,CACb9Z,YAAayJ,EAAa9K,OAAOiL,QAEnCo1B,UAAWllB,YAAI,CACb9a,OAAQ,GACRiW,QAAS,OACTsU,WAAY,SACZwT,eAAgB,WAElBkC,aAAcnlB,YAAI,CAChB3a,MAAOsK,EAAa9K,OAAOgL,MAE7Bu1B,eAAgBplB,YAAI,CAClB3a,MAAOsK,EAAa9K,OAAOiL,QAE7BE,QAASgQ,YAAI,CACX7E,QAAS,OACTsU,WAAY,SACZvqB,OAAQ,GACRq9B,cAAe,EACfl9B,MAAOsK,EAAa9K,OAAOmL,QAC3BnJ,SAAU,GACVw4B,UAAW,SACXz4B,WAAY,OACZ8T,aAAa,SAAD,OAAW/K,EAAa9K,OAAOmL,QAA/B,UAEdD,MAAOiQ,YAAI,CACT7E,QAAS,OACTsU,WAAY,SACZvqB,OAAQ,GACRkb,UAAW,EACX/a,MAAOsK,EAAa9K,OAAOkL,MAC3BlJ,SAAU,GACVw4B,UAAW,SACXz4B,WAAY,OACZ8T,aAAa,SAAD,OAAW/K,EAAa9K,OAAOkL,MAA/B,WAIDs1B,GAzJf,YAUW,IATTn7B,EASQ,EATRA,KACAgX,EAQQ,EARRA,SACAokB,EAOQ,EAPRA,WACAC,EAMQ,EANRA,iBACAjB,EAKQ,EALRA,KACAkB,EAIQ,EAJRA,eACAC,EAGQ,EAHRA,eACAC,EAEQ,EAFRA,gBACAC,EACQ,EADRA,gBAEMC,EAAcpK,aAASgK,EAAgB,CAC3CrkB,SAAUmkB,EAAaI,OAAkB/7B,IAErCk8B,EAAcrK,aAASiK,EAAgB,CAC3CtkB,SAAUmkB,EAAaK,OAAkBh8B,IAGrCm8B,EAAcF,EAAYpkB,KAAKC,SAAWmkB,EAAYpkB,KAAKzR,MAC3Dg2B,EAAcF,EAAYrkB,KAAKC,SAAWokB,EAAYrkB,KAAKzR,MAC3DA,EAAQ+1B,GAAeC,EAE7B,OACE,mBAAK/lB,IAAKhb,GAAOJ,WACf,mBAAKob,IAAKhb,GAAO8/B,KACf,YAACnD,GAAD,CACEhH,MAAO,CAAC31B,GAAO48B,UAAW0D,GAActgC,GAAO+/B,gBAAiBh1B,GAASu1B,GAActgC,GAAOggC,gBAE7FY,EAAYpkB,KAAK1S,OAAS+2B,EAAYrkB,KAAK1S,MAC1Cw2B,EACE,mBAAKtlB,IAAKhb,GAAOigC,cACf,YAAC,GAAD,OAGF,mBAAKjlB,IAAKhb,GAAOigC,cACf,YAAC,GAAD,OAGFl1B,EACF,mBAAKiQ,IAAKhb,GAAOigC,cACf,YAAC,GAAD,OAEA,KACJ,wBAAO/6B,IAGRgX,EACC,YAAC,IAAMzF,SAAP,KACE,YAAC8lB,GAAD,CAAM5G,MAAO,CAAC31B,GAAOkgC,UAAWlgC,GAAOogC,iBACpCP,GAAqBe,EAAYtkB,MAAMlZ,MAAOk8B,IAEjD,YAAC/C,GAAD,CAAM5G,MAAO,CAAC31B,GAAOkgC,UAAWlgC,GAAOmgC,eACpCN,GAAqBgB,EAAYvkB,MAAMlZ,MAAOk8B,KAGjDgB,EACF,YAAC,IAAM7pB,SAAP,KACE,YAAC,GAAD,CAAWxV,MAAO2/B,EAAatB,KAAMA,EAAM3J,MAAO31B,GAAOk+B,YAEzD,YAAC,GAAD,CAAWj9B,MAAO4/B,EAAavB,KAAMA,EAAM3J,MAAO31B,GAAOg+B,WAG3D,YAACvB,GAAD,CAAO9G,MAAO31B,GAAO08B,UAGvB4D,GACA,mBAAKtlB,IAAKhb,GAAOgL,SAAjB,8DAEE,uBAFF,4BAG4Bu1B,EAH5B,cAGyDA,EAHzD,WAMDD,GAAcv1B,GAAS,mBAAKiQ,IAAKhb,GAAO+K,OAAQA,K,8ICtEjD6P,GAAYJ,GAAkBhB,GAAUC,GAAcC,GAAeE,GAAU,IAW/EonB,GAAyB,SAACx8B,GAAD,OAC7BA,EAAamW,QACX,SAAC2X,EAAD,GAA+D,IAAlD1tB,EAAiD,EAAjDA,qBAAsBF,EAA2B,EAA3BA,qBACjC,MAAO,CACLu8B,yBAA0B3O,EAAS2O,0BAA4BtoB,OAAO/T,IAAyB,GAC/Fs8B,yBAA0B5O,EAAS4O,0BAA4BvoB,OAAOjU,IAAyB,MAGnG,CAAEu8B,yBAA0B,EAAGC,yBAA0B,KAGhDC,GAAoB,SAACz7B,GAAD,OAC/BA,EAASiV,QACP,SAACgS,EAAD,GAA4B,IAApBnoB,EAAmB,EAAnBA,aACN,EAA+Dw8B,GAAuBx8B,GAA9Ey8B,EAAR,EAAQA,yBAA0BC,EAAlC,EAAkCA,yBAElC,MAAO,CACLE,oBAAqBzU,EAAIyU,oBAAsBH,EAC/CI,oBAAqB1U,EAAI0U,oBAAsBH,KAGnD,CAAEE,oBAAqB,EAAGC,oBAAqB,KAiInD,IAAMrhC,GAAS,CACbJ,UAAWob,YAAI,CACb7E,QAAS,OACTqU,cAAe,WAGjB2T,QAASnjB,YAAI,CACX7E,QAAS,OACTqU,cAAe,MACfC,WAAY,SACZvqB,OAAQ,GACRkb,UAAW,GACXQ,aAAc,KAEhBwiB,YAAapjB,YAAI,CACfnZ,SAAU,GACV4zB,UAAW,WAEb6L,YAAatmB,YAAI,CACfqf,UAAW,SACXx4B,SAAU,GACVqoB,WAAY,UAIDqX,GAvJf,YAAuH,IAA5FC,EAA2F,EAA3FA,YAAatlB,EAA8E,EAA9EA,SAAUulB,EAAoE,EAApEA,eAAgBC,EAAoD,EAApDA,iBAAkBC,EAAkC,EAAlCA,SAAUC,EAAwB,EAAxBA,cACtFhI,EAAgB,CACpBl0B,SAAU87B,EAAY7+B,KAAI,gBAAG6B,EAAH,EAAGA,aAAiBq9B,EAApB,qCAAC,eACtBA,GADqB,IAExBr9B,aAAcA,EAAa7B,KAAI,YAAmF,IAAhF+B,EAA+E,EAA/EA,qBAAsBE,EAAyD,EAAzDA,qBAAyBk9B,EAAgC,kBAC/G,OAAO,2BACFA,GADL,IAEEp9B,qBAAsBoU,GAAmBpU,GACzCE,qBAAsBkU,GAAmBlU,cAMjD,EAAqDu8B,GAAkBK,GAA/DJ,EAAR,EAAQA,oBAAqBC,EAA7B,EAA6BA,oBAEvBU,EAAwB,SAAC,GAAuB,IAArBr8B,EAAoB,EAApBA,SAC/B,EAAqDy7B,GAAkBz7B,GAA/D07B,EAAR,EAAQA,oBACR,OADA,EAA6BC,oBACAD,GAAuB,EAChD,4FACAz8B,GAWAqyB,EAAW,SAAC6C,GAChB,IAAMn0B,EAAWm0B,EAASn0B,SAAS/C,KAAI,gBAAG6B,EAAH,EAAGA,aAAiBq9B,EAApB,qCAAC,eACnCA,GADkC,IAErCr9B,aAAcA,EAAa7B,KAAI,YAAmF,IAAhF+B,EAA+E,EAA/EA,qBAAsBE,EAAyD,EAAzDA,qBAAyBk9B,EAAgC,kBAC/G,OAAO,2BACFA,GADL,IAEEp9B,qBAAsB+T,GAAkB/T,GACxCE,qBAAsB6T,GAAkB7T,aAI9C68B,EAAe/7B,IAQjB,OACE,YAAC,KAAD,CACEo0B,SAPa,SAACD,GAChB7C,EAAS6C,GACT6H,EAAiB,UAMfvlB,SA9BiB,SAAC2Z,GACpB,IAAMkM,EAAoBJ,E5CQ5B,sCAAInnB,EAAJ,yBAAIA,EAAJ,uBACA,SAACrX,GAAD,OACEqX,EAAWE,QACT,SAAC5P,EAA2B6P,GAA5B,OAAiE7P,GAAS6P,EAAUxX,UACpFuB,I4CXEs9B,CAAsBF,EAAuBH,GAC7CG,EACEh3B,EAAQi3B,EAAkBlM,GAChC,OAAO/qB,EAAQ,CAAE+M,QAAS/M,QAAUpG,GA0BlCi1B,cAAeA,EAIfG,mBAAoB,kBAAM,KAEzB,YAAkE,IAA/DC,EAA8D,EAA9DA,aAAczC,EAAgD,EAAhDA,oBAAqB1B,EAA2B,EAA3BA,aAAcoE,EAAa,EAAbA,OACnD,OACE,oBAAMH,SAAUE,EAAchf,IAAKhb,GAAOJ,WACxC,YAAC,GAAD,CAAco3B,SAAUA,IACvBwK,EAAY7+B,KAAI,WAA6Bu/B,GAAiB,IAA3C5vB,EAA0C,EAA1CA,GAAIpN,EAAsC,EAAtCA,KAAMV,EAAgC,EAAhCA,aAC5B,EAA+Dw8B,GAAuBx8B,GAA9Ey8B,EAAR,EAAQA,yBAA0BC,EAAlC,EAAkCA,yBAClC,OACE,YAAC,GAAD,CACEt+B,IAAK0P,EACLiE,MAAOrR,EACP6O,MAAM,wBACN0qB,OAAQ,CAACnc,GAAW4e,GAA2B5e,GAAW2e,KAEzDz8B,EAAa7B,KAAI,WAAiBw/B,GAAqB,IAAnC19B,EAAkC,EAAlCA,WACnB,OACE,YAAC,GAAD,CACE7B,IAAK6B,EACLyX,SAAUA,EACVhX,KAAMqc,GAAwB9c,GAC9B67B,YAAY,EACZC,iBAAkB,EAClBjB,KAAK,SACLoB,gBAAiB9lB,GACjB+lB,gBAAiB/lB,GACjB4lB,eAAc,mBAAc0B,EAAd,yBAA0CC,EAA1C,yBACd1B,eAAc,mBAAcyB,EAAd,yBAA0CC,EAA1C,kCAQ1B,mBAAKnnB,IAAKhb,GAAOm+B,SACf,mBAAKnjB,IAAKhb,GAAOshC,aAAjB,uBACA,YAAC/E,GAAD,CAAM5G,MAAO31B,GAAOo+B,aAAc9b,GAAW+e,IAC7C,YAAC9E,GAAD,CAAM5G,MAAO31B,GAAOo+B,aAAc9b,GAAW8e,KAG/C,mBAAKpmB,IAAKhb,GAAOm+B,SACf,mBAAKnjB,IAAKhb,GAAOshC,aAAjB,QACA,YAAC7E,GAAD,CAAO9G,MAAO31B,GAAOo+B,aAAc9b,GAAW8e,EAAsBC,KAGrEnlB,EACC,YAAC,GAAD,KAAYylB,GAEZ,YAAC,GAAD,KACE,YAAC,GAAD,CACEpK,oBAAqBA,EACrB1B,aAAcA,EACd/M,aACEmR,EAAOniB,QACHmiB,EAAOniB,QACP,kGC9HTsqB,OAvCf,YAAwF,IAAhE18B,EAA+D,EAA/DA,SAAUwW,EAAqD,EAArDA,SAAUulB,EAA2C,EAA3CA,eAAgBC,EAA2B,EAA3BA,iBACpDF,EAAcr0B,mBAClB,kBACEzH,EAASC,eAAehD,KAAI,gBAAG4B,EAAH,EAAGA,kBAAmBC,EAAtB,EAAsBA,aAAtB,MAA0C,CACpE8N,GAAI/N,EACJW,KAAM0c,GAA6Brd,GACnCC,qBAEJ,CAACkB,IAGG28B,EAAoBx1B,uBACxB,SACEjD,GAMA,IAAMjE,EAAiBiE,EAAKjH,KAAI,kBAA2B,CACzD4B,kBAD8B,EAAG+N,GAEjC9N,aAF8B,EAAOA,iBAIvCi9B,EAAe,CAAE97B,qBAEnB,CAAC87B,IAGH,OACE,YAAC,GAAD,CACED,YAAaA,EACbtlB,SAAUA,EACVulB,eAAgBY,EAChBX,iBAAkBA,EAClBC,SAAU,YAAC7G,GAAD,CAAqB9mB,GAAG,eAAeD,MAAM,eCjC7D,IAAM/T,GAAS,CACbJ,UAAWob,YAAI,CACbvG,MAAO,IACP2W,SAAU,WACVlrB,OAAQ,MAEVoiC,KAAMtnB,YAAI,CACRoQ,SAAU,WACVC,IAAK,EACLG,OAAQ,EACRF,KAAM,EACNC,MAAO,EAEPiK,QAAS,SACTrf,QAAS,OACTqU,cAAe,SACfyT,eAAgB,gBAEhB59B,MAAO,QACPwb,gBAAiBlR,EAAa9K,OAAO+K,QACrC0Q,aAAc,OACd,eAAgB,CACdO,gBAAiB,QACjBxb,MAAOsK,EAAa9K,OAAO+K,QAC3B2Q,OAAO,SAAD,OAAW5Q,EAAa9K,OAAO+K,QAA/B,YAKG23B,GArCf,YAA6C,IAA3B/1B,EAA0B,EAA1BA,SAAUmpB,EAAgB,EAAhBA,MAC1B,OACE,mBAAK3a,IAAKhb,GAAOJ,WACf,mBAAKob,IAAK,CAAChb,GAAOsiC,KAAM3M,IAASnpB,KC6BvC,IAAMxM,GAAS,CACbJ,UAAWob,YAAI,CACb5P,SAAU,IACVgQ,UAAW,KAEbke,KAAMte,YAAI,CACRI,UAAW,GACXH,aAAc,GACdwa,UAAW,WAGb+M,OAAQxnB,YAAI,CACVa,gBAAiB,QACjBxb,MAAOsK,EAAa9K,OAAO+K,QAC3B2Q,OAAQ,oBACR,eAAgB,CACdM,gBAAiB,QACjBxb,MAAOsK,EAAa9K,OAAO+K,QAC3B2Q,OAAQ,uBAIZknB,YAAaznB,YAAI,CACf9a,OAAQ,GACRiW,QAAS,OACTqU,cAAe,SACfyT,eAAgB,kBAGlBnmB,QAASkD,YAAI,CACXC,aAAc,EACd9E,QAAS,OACTsU,WAAY,WAEZ5oB,SAAU,GACVD,WAAY,SAEd8gC,aAAc1nB,YAAI,CAChBmP,YAAa,SAEfwY,YAAa3nB,YAAI,CACf5a,WAAY,UAIDwiC,GAxEf,YAA0G,IAAhFnQ,EAA+E,EAA/EA,yBAA0BC,EAAqD,EAArDA,yBAA0BgP,EAA2B,EAA3BA,iBAC5E,OACE,mBAAK1mB,IAAKhb,GAAOJ,WACf,YAAC,GAAD,CAAQ+1B,MAAO31B,GAAOwiC,QACpB,mBAAKxnB,IAAKhb,GAAOyiC,aACf,iBAAGznB,IAAKhb,GAAO8X,SACb,oBAAMkD,IAAKhb,GAAO0iC,cAAlB,oBACA,oBAAM1nB,IAAKhb,GAAO2iC,aAAcjQ,IAElC,iBAAG1X,IAAKhb,GAAO8X,SACb,oBAAMkD,IAAKhb,GAAO0iC,cAAlB,wBACA,oBAAM1nB,IAAKhb,GAAO2iC,aAAclQ,KAGpC,iBAAGzX,IAAKhb,GAAO8X,SACb,oBAAMkD,IAAKhb,GAAO0iC,cAAlB,mBACA,oBAAM1nB,IAAKhb,GAAO2iC,aAAcjQ,EAA2BD,KAI/D,iBAAGzX,IAAKhb,GAAOs5B,MACb,YAAC,GAAD,CAAYrkB,QAAS,kBAAMysB,EAAiB,UAA5C,sCCmHOmB,ICvJAA,GDsBf,YAA+C,IAA3Bp5B,EAA0B,EAA1BA,MAAOogB,EAAmB,EAAnBA,SACzBrS,GAHY,4BAKZ,IAAMiqB,EAAiB50B,uBACrB,SAACjD,GAAD,OAA8BigB,EAAS,CAAElgB,KAAM,iBAAkBC,WACjE,CAACigB,IAGG6X,EAAmB70B,uBAAY,SAAC/C,GAAD,OAAsB+f,EAAS,CAAElgB,KAAM,mBAAoBG,YAAU,CAAC+f,IAE3G,EAGIyD,GAAoB7jB,EAAM/D,SAASC,gBAFXm9B,EAD5B,EACErQ,yBAC0BsQ,EAF5B,EAEErQ,yBAEF,EAGIpF,GAAoB7jB,EAAM7D,aAAaO,aAFf68B,EAD5B,EACEvQ,yBAC0BwQ,EAF5B,EAEEvQ,yBAGF,OACE,YAAC,GAAD,CACEnc,MAAM,2BACNC,QAAQ,yKAER,YAAC,GAAD,CACE6e,aACE,YAAC,GAAD,CACE3vB,SAAU+D,EAAM/D,SAChBwW,SAA2C,UAAjCzS,EAAM/D,SAASL,cACzBo8B,eAAgBA,EAChBC,iBAAkBA,IAGtBpM,eACmC,UAAjC7rB,EAAM/D,SAASL,eACb,YAAC,GAAD,CACEqtB,yBAA0BqQ,EAC1BtQ,yBAA0BqQ,EAC1BpB,iBAAkBA,MAMQ,UAAjCj4B,EAAM/D,SAASL,gBACwB,YAArCoE,EAAM7D,aAAaP,eACuB,gBAAxCoE,EAAMrE,aAAaG,mBACsB,YAAvCkE,EAAMrD,eAAef,eAAuE,YAAxCoE,EAAM/C,gBAAgBrB,gBACpC,gBAAxCoE,EAAMrE,aAAaG,kBAC0B,YAA5CkE,EAAMzC,oBAAoB3B,gBAC5B,YAAC,GAAD,CACEsE,KAAK,UACL4M,MAAM,0CACNwB,KACE,YAAC,WAAD,KACE,wIADF,SAKE,wBACwC,YAArCtO,EAAM7D,aAAaP,eAClB,YAAC,WAAD,KACE,YAAC21B,GAAD,CAAmBhnB,GAAG,eAAeD,MAAM,4DAD7C,UAKuC,gBAAxCtK,EAAMrE,aAAaG,kBACqB,YAAvCkE,EAAMrD,eAAef,eACnB,YAAC,WAAD,KACE,YAAC21B,GAAD,CACEhnB,GAAG,eACHD,MAAM,6DAHV,UAQqC,gBAAxCtK,EAAMrE,aAAaG,kBACsB,YAAxCkE,EAAM/C,gBAAgBrB,eACpB,YAAC,WAAD,KACE,YAAC21B,GAAD,CAAmBhnB,GAAG,eAAeD,MAAM,2DAD7C,UAKqC,gBAAxCtK,EAAMrE,aAAaG,kBAC0B,YAA5CkE,EAAMzC,oBAAoB3B,eACxB,YAAC21B,GAAD,CACEhnB,GAAG,kBACHD,MAAM,iEASU,UAAjCtK,EAAM/D,SAASL,eACuB,UAArCoE,EAAM7D,aAAaP,eACnBoE,EAAM7D,aAAaE,OAClBk9B,IAAiCF,GAChCG,IAAiCF,IACjC,YAAC,GAAD,CACExsB,MAAM,YACN5M,KAAK,UACLoO,KACE,YAAC,WAAD,KACE,8IAGA,YAACijB,GAAD,CAAmBhnB,GAAG,eAAeD,MAAM,4DAJ7C,YAW8B,UAArCtK,EAAMrE,aAAaC,eACe,UAAjCoE,EAAM/D,SAASL,eACfy9B,EAA8BC,EAA8B,KACpB,gBAAxCt5B,EAAMrE,aAAaG,kBACjB,YAAC,GAAD,CACEgR,MAAM,2HACN5M,KAAK,c,UEtGFu5B,GAlC2B,WACxC1rB,GAHY,gCAIZ,IAAM2rB,EAAO/2B,OAAOwF,SAASC,KAC7B,EAA8BuxB,aAAaD,GAAnCE,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,OAEnB,OACE,kBAAC,GAAD,CAAM/sB,MAAM,8BACV,kBAAC,KAAD,CAAYlC,KAAK,MACf,kBAAC,KAAD,CAAOY,QAASquB,EAAQ5qB,aAAcyqB,EAAMltB,GAAG,OAAOtM,KAAM,OAAQssB,YAAY,mBAChF,kBAAC,KAAD,CAAmBxhB,MAAM,OAAOD,GAAI,CAAE+W,MAAO,IAC3C,kBAAC,IAAD,CAAQgY,EAAE,UAAUlvB,KAAK,KAAKY,QAASquB,EAAQpvB,QAAQ,UAAUD,YAAY,WAC1EovB,EAAY,wDAAuB,+DAK1C,kBAAC,IAAD,CAAM1sB,GAAI,GAAV,0EACgE,IAC9D,yGAFF,KAKA,kBAAC,GAAD,KACE,kBAACmkB,GAAD,CACE9mB,GAAG,gBACHD,MAAM,oBACN,aAAW,uEAIf,kBAAC,KAAD,CAAOqB,IAAG,UAAKrD,GAAL,oCAA+DsD,IAAI,GAAG,cAAY,WC/BlG,SAAS4iB,GAAT,GAUI,IATFN,EASC,EATDA,UACA5jB,EAQC,EARDA,MACAyvB,EAOC,EAPDA,YACA9a,EAMC,EANDA,SAOQpM,EAAUka,aAASmB,EAAW,CAAEhuB,KAAM,QAASvG,MAAOogC,IAAtDlnB,MACR,OACE,qBAAOtB,IAAKhb,GAAO+T,OACjB,mCAAOiH,IAAKhb,GAAOk4B,OAAW5b,EAA9B,CAAqCoM,SAAUA,KAC/C,mBAAK1N,IAAK,CAAChb,GAAOm4B,UAAW7b,EAAM8b,SAAWp4B,GAAOq4B,oBACrD,oBAAMrd,IAAKhb,GAAOs4B,WAAYvkB,IAkCpC,IAAM/T,GAAS,CACbJ,UAAWob,YAAI,CACb7E,QAAS,OACTqU,cAAe,SACfvP,aAAc,KAEhBwoB,YAAazoB,YAAI,CACfC,aAAc,KAEhByoB,WAAY1oB,YAAI,CACdI,UAAW,EACX,kBAAmB,CACjBA,UAAW,KAGfrH,MAAOiH,YAAI,CACT7E,QAAS,OACTtU,SAAU,GACVia,OAAQ,YAEVwc,UAAWtd,YAAI,CACbpZ,WAAY,SAEds2B,MAAOld,YAAI,CACT7E,QAAS,SAEXgiB,UAAWnd,YAAI,CACbvG,MAAO,GACPvU,OAAQ,GACRuV,WAAY,EACZ0U,YAAa,EACb7O,aAAc,EACdO,gBAAiB,QACjBN,OAAO,SAAD,OAAW5Q,EAAa9K,OAAO+K,QAA/B,UAERytB,iBAAkBrd,YAAI,CACpBud,gBAAgB,mBAAD,OAAqB5tB,EAAa9K,OAAO+K,QAAzC,gBAAwDD,EAAa9K,OAAO+K,QAA5E,qBAEjB6tB,mBAAoBzd,YAAI,CACtB0d,WAAY,YAIDiL,GA3Df,YAA8E,IAAtDznB,EAAqD,EAArDA,SAAUyb,EAA2C,EAA3CA,UAAW5jB,EAAgC,EAAhCA,MAAO3Q,EAAyB,EAAzBA,MAAOw0B,EAAkB,EAAlBA,QACzD,OACE,mBAAK5c,IAAKhb,GAAOJ,WACf,iBAAGob,IAAKhb,GAAOyjC,aAAc1vB,GAC5B6jB,EAAQj1B,KAAI,gBAAUihC,EAAV,EAAG7vB,MAA2ByvB,EAA9B,EAAuBpgC,MAAvB,OACX,mBACER,IAAKghC,EACL5oB,IAAK,CAAChb,GAAO0jC,WAAYxnB,GAAY9Y,IAAUogC,GAAexjC,GAAOy4B,qBAErE,YAAC,GAAD,CAAYd,UAAWA,EAAW5jB,MAAO6vB,EAAaJ,YAAaA,EAAa9a,SAAUxM,UCsCpG,IAAMlc,GAAS,CACbJ,UAAWob,YAAI,CACb7E,QAAS,OACTqU,cAAe,SACfvP,aAAc,MAIH4oB,GA/Ef,YAA2E,IAA3C/9B,EAA0C,EAA1CA,KAAMC,EAAoC,EAApCA,MAAOmW,EAA6B,EAA7BA,SAAU2N,EAAmB,EAAnBA,SAC/Cia,EAAyBj3B,uBAC7B,SAACjD,GAAD,OAAsCigB,EAAS,CAAElgB,KAAM,yBAA0BC,WACjF,CAACigB,IAGG+P,EAAgB,CACpBmK,oBAAqBj+B,EAAO,OAASC,EAAQ,QAAU,OAGnDixB,EAAW,SAAC6C,GAChB,IAAQkK,EAAwBlK,EAAxBkK,oBACHl+B,GAAqB,EAAhBC,GAAuB,EAAjBC,GAAwB,EACZ,SAAxBg+B,EACFj+B,GAAO,EAC0B,UAAxBi+B,EACTh+B,GAAQ,EAERF,GAAM,EAGRi+B,EAAuB,CAAEj+B,MAAKC,OAAMC,WAGtC,OACE,YAAC,KAAD,CACE+zB,SAAU,WACRpmB,QAAQswB,MAAM,qCAEhBpK,cAAeA,IAEd,gBAAGI,EAAH,EAAGA,aAAclE,EAAjB,EAAiBA,OAAjB,OACC,oBAAMgE,SAAUE,EAAchf,IAAKhb,GAAOJ,WACxC,YAAC,GAAD,CAAco3B,SAAUA,IACxB,YAAC,GAAD,CACEW,UAAU,sBACV5jB,MAAM,sHAEN3Q,MAAO0yB,EAAOiO,oBACd7nB,SAAUA,EACV0b,QAAS,CACP,CACE7jB,MAAO,yCACP3Q,MAAO,OAET,CACE2Q,MAAO,2FACP3Q,MAAO,QAET,CACE2Q,MACE,yGACF3Q,MAAO,YAImB,QAA/B0yB,EAAOiO,oBACN,gGAEE,uBAFF,gFAMA,Q,0ICrDNnpB,GAAYJ,GAAkBhB,GAAUC,IAHF,SAACrW,GAAD,OAC1CwW,GAAU,EAAVA,CAAaxW,GAAS,kEAAmDuB,KA0BrEs/B,GAA2B,SAC/BC,GAMA,IAAMC,EAAWD,EAAuBvpB,QAAO,SAACgS,EAAD,GAAsC,IAA9Bra,EAA6B,EAA7BA,GAAIpN,EAAyB,EAAzBA,KAASk/B,EAAgB,kBAE5EC,EAAK1X,EAAIra,GAEf,OAAI+xB,EACK,2BACF1X,GADL,mBAEGra,EAFH,2BAGO+xB,GAHP,IAII7/B,aAAa,GAAD,mBAAM6/B,EAAG7/B,cAAT,CAAuB4/B,QAIhC,2BACFzX,GADL,mBAEGra,EAAK,CACJA,KACApN,OACAV,aAAc,CAAC4/B,QAIpB,IAKH,OAAO3hC,OAAOib,QAAQymB,GAAUxhC,KAAI,wDAoHtC,IAAM3C,GAAS,CACbJ,UAAWob,YAAI,CACb7E,QAAS,OACTqU,cAAe,YAIJ8Z,GAxHf,YAMW,IALTJ,EAKQ,EALRA,uBACAhoB,EAIQ,EAJRA,SACAqoB,EAGQ,EAHRA,mBACAC,EAEQ,EAFRA,qBACA7C,EACQ,EADRA,SAEM/H,EAAgB,CACpB5zB,qBAAsBi+B,GAAyBC,GAAwBvhC,KACrE,gBAAG6B,EAAH,EAAGA,aAAiBq9B,EAApB,qCAAC,eACIA,GADL,IAEEr9B,aAAcA,EAAa7B,KACzB,YAAuG,IAApGmC,EAAmG,EAAnGA,+BAAgCC,EAAmE,EAAnEA,+BAAmC+8B,EAAgC,kBACpG,OAAO,2BACFA,GADL,IAEEh9B,+BAAgCqU,GAAqBrU,GACrDC,+BAAgCoU,GAAqBpU,cAQ3DiyB,EAAW,SAAC6C,GAChB,IAAM7zB,EAAuB6zB,EAAS7zB,qBAAqBrD,KAAI,gBAAG6B,EAAH,EAAGA,aAAiBq9B,EAApB,qCAAC,eAC3DA,GAD0D,IAE7Dr9B,aAAcA,EAAa7B,KACzB,YAA0F,IAAvFmC,EAAsF,EAAtFA,+BAAgCC,EAAsD,EAAtDA,+BACjC,MAAO,CACLN,WAFqF,EAAtBA,WAG/DK,+BAAgCkU,GAAoBlU,GACpDC,+BAAgCiU,GAAoBjU,YAK5Dw/B,EAAmBv+B,IAQrB,OACE,YAAC,KAAD,CACE8zB,SAPa,SAACD,GAChB7C,EAAS6C,GACT2K,EAAqB,UAMnB5K,cAAeA,EAIfG,mBAAoB,kBAAM,KAEzB,gBAAGC,EAAH,EAAGA,aAAczC,EAAjB,EAAiBA,oBAAqB1B,EAAtC,EAAsCA,aAAtC,OACC,oBAAMiE,SAAUE,EAAchf,IAAKhb,GAAOJ,WACxC,YAAC,GAAD,CAAco3B,SAAUA,IACvB4C,EAAc5zB,qBAAqBrD,KAClC,WAaEu/B,GACI,IAZF5vB,EAYC,EAZDA,GACApN,EAWC,EAXDA,KACAV,EAUC,EAVDA,aAWF,OACE,YAAC,GAAD,CAAU5B,IAAK0P,EAAIiE,MAAOrR,EAAM6O,MAAM,8BACnCvP,EAAa7B,KAAI,WAAiCw/B,GAAqB,IAAnD19B,EAAkD,EAAlDA,WAAYsnB,EAAsC,EAAtCA,eAC/B,OACE,YAAC,GAAD,CACEnpB,IAAK6B,EACLS,KAAMqc,GAAwB9c,GAC9ByX,SAAUA,EACVokB,WAAYvU,EACZwU,iBAAkB,EAClBjB,KAAK,SACLkB,eAAc,+BAA0B0B,EAA1B,yBAAsDC,EAAtD,mCACd1B,eAAc,+BAA0ByB,EAA1B,yBAAsDC,EAAtD,mCACdzB,gBAAiB9lB,GACjB+lB,gBAAiB/lB,YAS9BsB,EACC,YAAC,GAAD,KAAYylB,GAEZ,YAAC,GAAD,KACE,YAAC,GAAD,CACEpK,oBAAqBA,EACrB1B,aAAcA,EACd/M,aAAa,kG,yBCzHd2b,OAjDf,YAMW,IALTh7B,EAKQ,EALRA,MACAy6B,EAIQ,EAJRA,uBACAhoB,EAGQ,EAHRA,SACAqoB,EAEQ,EAFRA,mBACAC,EACQ,EADRA,qBAEME,EAA4Bv3B,mBAChC,kBACE+2B,EAAuBvhC,KAAI,gBAAG4B,EAAH,EAAGA,kBAAsB6/B,EAAzB,sCACzB9xB,GAAI/N,EACJW,KAAM0c,GAA6Brd,IAChC6/B,QAEP,CAACF,IAGGS,EAAwB93B,uBAC5B,SACEjD,GAKA,IAAM5D,EAAuB4D,EAAKjH,KAAI,kBAA2B,CAC/D4B,kBADoC,EAAG+N,GAEvC9N,aAFoC,EAAOA,iBAI7C+/B,EAAmB,CAAEv+B,2BAEvB,CAACu+B,IAGH,OACE,YAAC,GAAD,CACEL,uBAAwBQ,EACxBxoB,SAAUA,EACVqoB,mBAAoBI,EACpBH,qBAAsBA,EACtB7C,SACE,YAAC7G,GAAD,CACE9mB,GAA4C,gBAAxCvK,EAAMrE,aAAaG,iBAAkC,kBAAoB,eAC7EwO,MAAM,eCXhB,IAAM/T,GAAS,CACb4kC,UAAW5pB,YAAI,CACba,gBAAiBlR,EAAa9K,OAAOiL,MACrC,eAAgB,CACdzK,MAAOsK,EAAa9K,OAAOiL,MAC3ByQ,OAAO,SAAD,OAAW5Q,EAAa9K,OAAOiL,MAA/B,WAGV+5B,QAAS7pB,YAAI,CACXa,gBAAiBlR,EAAa9K,OAAOgL,IACrC,eAAgB,CACdxK,MAAOsK,EAAa9K,OAAOgL,IAC3B0Q,OAAO,SAAD,OAAW5Q,EAAa9K,OAAOgL,IAA/B,WAGVi6B,SAAU9pB,YAAI,CACZtF,aAAc,sBAEhBoC,QAASkD,YAAI,CACXC,aAAc,EACd9E,QAAS,OACTsU,WAAY,WAEZ5oB,SAAU,GACVD,WAAY,SAEd8gC,aAAc1nB,YAAI,CAChBmP,YAAa,SAEfwY,YAAa3nB,YAAI,CACf5a,WAAY,SAEd2kC,KAAM/pB,YAAI,CACRI,UAAW,EACXvZ,SAAU,GACVw4B,UAAW,SACXz4B,WAAY,UAIDojC,GA3Ef,YAQW,IAPTC,EAOQ,EAPRA,eACAC,EAMQ,EANRA,cACAC,EAKQ,EALRA,cACAC,EAIQ,EAJRA,gBACAC,EAGQ,EAHRA,eACAC,EAEQ,EAFRA,eACA9iB,EACQ,EADRA,4BAEA,OACE,YAAC,GAAD,CACEmT,MAAO,CAC2B,WAAhCnT,GAA4CxiB,GAAO4kC,UACnB,WAAhCpiB,GAA4CxiB,GAAO6kC,UAGrD,mBAAK7pB,IAAKhb,GAAO8kC,UACf,iBAAG9pB,IAAKhb,GAAO8X,SACb,oBAAMkD,IAAKhb,GAAO0iC,cAAeuC,EAAjC,KACA,oBAAMjqB,IAAKhb,GAAO2iC,aAAcuC,IAEjCC,GAAiB,iBAAGnqB,IAAKhb,GAAO+kC,MAAOI,IAG1C,mBAAKnqB,IAAKhb,GAAO8kC,UACf,iBAAG9pB,IAAKhb,GAAO8X,SACb,oBAAMkD,IAAKhb,GAAO0iC,cAAe0C,EAAjC,KACA,oBAAMpqB,IAAKhb,GAAO2iC,aAAc0C,IAEjCC,GAAkB,iBAAGtqB,IAAKhb,GAAO+kC,MAAOO,MCLjD,IAAMtlC,GAAS,CACbJ,UAAWob,YAAI,CACb5P,SAAU,IACVgQ,UAAW,KAEbke,KAAMte,YAAI,CACRI,UAAW,GACXH,aAAc,GACdwa,UAAW,YAIA8P,GApCf,YAKW,IAJTlW,EAIQ,EAJRA,4BACA7M,EAGQ,EAHRA,4BACAmN,EAEQ,EAFRA,iBACA6U,EACQ,EADRA,qBAEA,OACE,mBAAKxpB,IAAKhb,GAAOJ,WACf,YAAC,GAAD,CACEqlC,eAAe,8BACfC,mBAA+CvgC,IAAhC0qB,EAA4ClN,GAAekN,GAA+B,KACzG8V,cAAe5iB,GAAyBC,GACxC4iB,gBAAgB,yBAChBC,qBAAsC1gC,IAArBgrB,EAAiCA,EAAmB,MAAQ,MAC7EnN,4BAA6BA,IAG/B,iBAAGxH,IAAKhb,GAAOs5B,MACb,YAAC,GAAD,CAAYrkB,QAAS,kBAAMuvB,EAAqB,UAAhD,sCC0BOgB,OA3Cf,YAAsD,IAA3B/7B,EAA0B,EAA1BA,MAAOogB,EAAmB,EAAnBA,SAC1B0a,EAAqB13B,uBACzB,SAACjD,GAAD,OAAqCigB,EAAS,CAAElgB,KAAM,wBAAyBC,WAC/E,CAACigB,IAGG2a,EAAuB33B,uBAC3B,SAAC/C,GAAD,OAAsB+f,EAAS,CAAElgB,KAAM,uBAAwBG,YAC/D,CAAC+f,IAGH,EAKIiF,GAAmBrlB,GAJrBslB,EADF,EACEA,iCACAM,EAFF,EAEEA,4BACA7M,EAHF,EAGEA,4BACAmN,EAJF,EAIEA,iBAGF,OACE,YAAC,GAAD,CACE0F,aACE,YAAC,GAAD,CACE5rB,MAAOA,EACPy6B,uBAAwBnV,EACxB7S,SAA+C,UAArCzS,EAAM7D,aAAaP,cAC7Bk/B,mBAAoBA,EACpBC,qBAAsBA,IAG1BlP,eACuC,UAArC7rB,EAAM7D,aAAaP,eACjB,YAAC,GAAD,CACEgqB,4BAA6BA,EAC7B7M,4BAA6BA,EAC7BmN,iBAAkBA,EAClB6U,qBAAsBA,OC9CrBiB,GAAgBt5B,wBAAc,CAEzCu5B,SAAU,SAACC,OAgCH3qB,YAAI,CACV4qB,UAAW,OACXC,wBAAyB,QACzB,eAAgB,CACdlwB,SAAU,aALhB,IAgBamwB,GAAc,WAEzB,OAJ6Bx4B,qBAAWm4B,IAGhCC,UCHV,SAASK,GAAT,GAUI,IATFxvB,EASC,EATDA,MACAyvB,EAQC,EARDA,WACA/wB,EAOC,EAPDA,QACA5P,EAMC,EANDA,cAOA,OACE,YAAC,GAAD,CAAYswB,MAAO,CAAC31B,GAAOimC,SAAUD,GAAchmC,GAAOkmC,kBAAmBjxB,QAASA,GACjE,UAAlB5P,EACC,mBAAK2V,IAAKhb,GAAOq3B,MACf,YAAC,GAAD,OAEkB,YAAlBhyB,EACF,mBAAK2V,IAAKhb,GAAOq3B,MACf,YAAC,GAAD,OAEA,KACJ,wBAAO9gB,IAKb,IAAMvW,GAAS,CACbmmC,KAAMnrB,YAAI,CACR7E,QAAS,OACTqU,cAAe,MACfyT,eAAgB,gBAChBhjB,aAAc,KAEhBgrB,SAAUjrB,YAAI,CACZS,SAAU,EACVhG,WAAY,EACZiG,UAAW,IACXhG,aAAa,SAAD,OAAW/K,EAAa9K,OAAO+K,QAA/B,QAEZuL,QAAS,OACTqU,cAAe,MACfC,WAAY,SAEZ5oB,SAAU,GACVD,WAAY,OACZgT,eAAgB,OAChB6gB,UAAW,SAEbyQ,iBAAkBlrB,YAAI,CACpB3a,MAAOsK,EAAa9K,OAAOE,QAC3BmB,YAAayJ,EAAa9K,OAAOE,UAEnCs3B,KAAMrc,YAAI,CACRmP,YAAa,KAIFic,GA3Ff,YAMW,IALTC,EAKQ,EALRA,aACAC,EAIQ,EAJRA,gBACArgC,EAGQ,EAHRA,8BACAC,EAEQ,EAFRA,iCACAb,EACQ,EADRA,cAEMiH,EAAamB,IACbgH,EAAQlH,EAA+B,YAAfjB,EAA2B,EAAI,GAC7D,OACE,mBAAK0O,IAAK,CAAChb,GAAOmmC,KAAM,CAAE1xB,WACxB,YAACsxB,GAAD,CACExvB,MAAM,yBACNyvB,WAA6B,WAAjBK,EACZhhC,cAAeY,EACfgP,QAAS,kBAAMqxB,EAAgB,aAEjC,YAACP,GAAD,CACExvB,MAAM,qCACNyvB,WAA6B,aAAjBK,EACZhhC,cAAea,EACf+O,QAAS,kBAAMqxB,EAAgB,eAEjC,YAACP,GAAD,CACExvB,MAAM,qCACNyvB,WAA6B,iBAAjBK,EACZhhC,cAAeA,EACf4P,QAAS,kBAAMqxB,EAAgB,qB,oBCzCjC5tB,GAA8C,CAAE9Y,UAAW,MAEpD2mC,GAAep6B,wBAAcuM,IAgB3B8tB,OAZf,YAA+D,IAAtCh6B,EAAqC,EAArCA,SACjBi6B,EAAeC,iBAAO,MACtB9mC,EAAY6mC,EAAaE,QAE/B,OACE,YAACJ,GAAan5B,SAAd,CAAuBhK,MAAO,CAAExD,cAC7B4M,EACD,mBAAKo6B,IAAKH,MAST,SAASI,GAAT,GAQH,IAPFr6B,EAOC,EAPDA,SACAs6B,EAMC,EANDA,OACAC,EAKC,EALDA,eAMQnnC,EAAc0N,qBAAWi5B,IAAzB3mC,UAEFonC,EACJ,mBAAKhsB,IAAK,CAAChb,GAAOJ,UAAWknC,GAAU9mC,GAAOinC,gBAC5C,mBACEjsB,IAAK,CAAChb,GAAOknC,QAASJ,GAAU9mC,GAAOmnC,aACvClyB,QAAS8xB,EACTK,UAAW,SAACt6B,GACQ,WAAdA,EAAMlK,KACRmkC,KAGJxxB,KAAK,SACL8xB,SAAU,IAEZ,mBAAKrsB,IAAK,CAAChb,GAAOsnC,MAAOR,GAAU9mC,GAAOunC,YAAa/6B,IAI3D,OAAO5M,EAAY4nC,IAASC,aAAaT,EAAOpnC,GAAa,KAG/D,IAAMI,GAAS,CACbJ,UAAWob,YAAI,CACboQ,SAAU,WACVC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EAERrV,QAAS,OAETuiB,WAAY,SACZgP,WAAY,gCAEdT,cAAejsB,YAAI,CACjB0d,WAAY,UACZiP,gBAAiB,QAEnBT,QAASlsB,YAAI,CACXoQ,SAAU,WACVC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EAER3P,gBAAiB,kBACjB+rB,eAAgB,YAEhBnc,QAAS,EACTic,WAAY,mCAEdP,YAAansB,YAAI,CACfyQ,QAAS,EACTkc,gBAAiB,QAEnBL,MAAOtsB,YAAI,CACToQ,SAAU,WACVrC,OAAQ,OAER2e,WAAY,iEACZjc,QAAS,EACT7V,UAAW,eAEb2xB,UAAWvsB,YAAI,CACbyQ,QAAS,EACT7V,UAAW,aC9FTuG,GAAW,SAAC/Y,GAChB,IAAM2W,EAAgBP,GAASpW,GAE/B,OAAK2W,EAGI,CAAEP,SAAUO,QAFnB,GAgDJ,IAAM/Z,GAAS,CACb6nC,WAAY7sB,YAAI,CACdgO,UAAW,YAEbjV,MAAOiH,YAAI,CACTnZ,SAAU,GACVD,WAAY,SAEdsZ,WAAYF,YAAI,CACd3a,MAAOsK,EAAa9K,OAAOkL,QAE7BoQ,SAAUH,YAAI,CACZ9a,OAAQ,GACRkb,UAAW,EACXH,aAAc,EACd9E,QAAS,SAEX2xB,OAAQ9sB,YAAI,CACVvF,WAAY,EACZuT,UAAW,WACXkB,WAAYvf,EAAaM,KAAKC,YAC9BrJ,SAAU,GACVD,WAAY,SAEdmJ,MAAOiQ,YAAI,CACT9a,OAAQ,GACRG,MAAOsK,EAAa9K,OAAOkL,MAC3BlJ,SAAU,GACVw4B,UAAW,SACXz4B,WAAY,SAGd4Z,UAAWR,YAAI,CACbS,SAAU,EACVhG,WAAY,EACZiG,UAAW,OACXC,YAAa,GACbC,aAAc,GAEdC,gBAAiB,QACjBP,aAAc,EAEdzZ,SAAU,GACVD,WAAY,OACZka,OAAQ,iBAIGisB,GA1Ff,YAUI,IATF7iC,EASC,EATDA,KACAjB,EAQC,EARDA,MACA+jC,EAOC,EAPDA,YACA9rB,EAMC,EANDA,SAOMjb,EAAQu1B,aAAStxB,EAAM,CAC3BiX,YACA4O,MAAO,SAAC3nB,GAAD,OAAWA,GAClB8G,OAAQ,SAAC9G,GAAD,OAAWA,KAEf2H,EAAQ6qB,GAAc30B,EAAMub,MAElC,OACE,mBAAKxB,IAAKhb,GAAO6nC,YACf,qBAAO7sB,IAAK,CAAChb,GAAO+T,MAAOhJ,GAAS/K,GAAOkb,YAAawB,QAASzb,EAAMqb,MAAMpX,MAA7E,iBACajB,EAAQ,IAGpBiY,EACC,mBAAKlB,IAAKhb,GAAOmb,UACf,mBAAKH,IAAKhb,GAAOwb,WAAYva,EAAMqb,MAAMlZ,QAG3C,mBAAK4X,IAAKhb,GAAOmb,UACf,YAAC,GAAD,CAAOla,MAAOA,EAAOg1B,YAAY,oCACjC,YAAC,GAAD,CAAYhhB,QAAS,kBAAM+yB,EAAY/jC,IAAQ0xB,MAAO31B,GAAO8nC,QAA7D,wBAMJ,iBAAG9sB,IAAKhb,GAAO+K,OAAQA,GAAS,gDCdtC,IAAM/K,GAAS,CACbioC,aAAcjtB,YAAI,CAChBvG,MAAO,IACP+gB,QAAS,iBACT3Z,gBAAiB,UACjBP,aAAc,IAGhBgnB,KAAMtnB,YAAI,CACR7E,QAAS,SAEX+xB,SAAU,CACR/d,YAAa,GACb9pB,MAAOsK,EAAa9K,OAAOE,SAG7BooC,UAAWntB,YAAI,CACbnZ,SAAU,GACVD,WAAY,OACZg8B,cAAe,YACfv9B,MAAOsK,EAAa9K,OAAOE,UAE7BqoC,SAAUptB,YAAI,CACZnZ,SAAU,GACVD,WAAY,OACZvB,MAAOsK,EAAa9K,OAAOE,UAG7BwqB,UAAWvP,YAAI,CACb7E,QAAS,OACTqU,cAAe,MACfC,WAAY,SACZrP,UAAW,KAGbitB,qBAAsBrtB,YAAI,CACxBvG,MAAO,MAII6zB,GAxEf,YAA+G,IAAjFC,EAAgF,EAAhFA,WAAYP,EAAoE,EAApEA,YAClC17B,EAAamB,IACbgH,EAAQlH,EAA+B,YAAfjB,EAA2B,EAAI,GAE7D,OACE,mBAAK0O,IAAK,CAAChb,GAAOioC,aAAcjtB,YAAI,CAAEvG,YACpC,mBAAKuG,IAAK,CAAChb,GAAOsiC,OAChB,mBAAKtnB,IAAKhb,GAAOkoC,UACf,YAAC,GAAD,OAGF,uBACE,iBAAGltB,IAAKhb,GAAOmoC,WAAf,wDACA,iBAAGntB,IAAKhb,GAAOooC,UAAf,8FAEA,mBAAKptB,IAAKhb,GAAOuqB,WACf,YAAC,GAAD,CACEtV,QAAS,WACP+yB,IACAO,KAEFx0B,MAAM,cAER,mBAAKiH,IAAKhb,GAAOqoC,uBACjB,YAAC,GAAD,CAAYpzB,QAASszB,GAArB,gBCkJZ,IAAMvoC,GAAS,CACbJ,UAAWob,YAAI,CACb7E,QAAS,OACTqU,cAAe,WAGjBge,IAAKxtB,YAAI,CACP7E,QAAS,OACTsU,WAAY,SACZrP,UAAW,GACXxG,eAAgB,SAElB6zB,QAASztB,YAAI,CACXvG,MAAO,GACPvU,OAAQ,GACRiqB,YAAa,GACbhU,QAAS,OACTsU,WAAY,SACZwT,eAAgB,SAEhBpiB,gBAAiBlR,EAAa9K,OAAO+K,QACrC0Q,aAAc,KAGhBotB,gBAAiB1tB,YAAI,CACnBvG,MAAO,KAETk0B,UAAW3tB,YAAI,CACb9a,OAAQ,GACRkb,UAAW,MAIAwtB,GAtLf,YAQW,IAPTn/B,EAOQ,EAPRA,MACAo/B,EAMQ,EANRA,+BACAC,EAKQ,EALRA,kCACAC,EAIQ,EAJRA,uBACAC,EAGQ,EAHRA,8BACAC,EAEQ,EAFRA,mBACAC,EACQ,EADRA,uBAEA,EACEz/B,EAAM7D,aADAO,EAAR,EAAQA,YAAaF,EAArB,EAAqBA,8BAA+BC,EAApD,EAAoDA,iCAAkCb,EAAtF,EAAsFA,cAEhF6W,EAA6C,UAAlCjW,EAEX2zB,EAAgB,CAAEuP,QAAShjC,GAE3B6wB,EAAW,SAAC6C,GAChBkP,EAAuB,CAAE5iC,YAAa0zB,EAASsP,WAQ3C78B,EAAamB,IACbgH,EAAQlH,EAA+B,YAAfjB,EAA2B,EAAI,GAE7D,EAAoDG,wBAA6B9H,GAAjF,mBAAOykC,EAAP,KAA2BC,EAA3B,KACMC,EAAuB,SAACrlC,GAAD,OAAmBolC,EAAsBplC,IAChEskC,EAAa,kBAAMc,OAAsB1kC,IAE/C,OACE,YAAC,WAAD,KACE,YAAC,KAAD,CACEm1B,SAfW,SAACD,GAChB7C,EAAS6C,GACTmP,EAA8B,UAc1BO,SAAQ,eAEHC,MAEL5P,cAAeA,IAEd,gBAAGI,EAAH,EAAGA,aAAczC,EAAjB,EAAiBA,oBAAqB1B,EAAtC,EAAsCA,aAAtC,OACC,oBAAMiE,SAAUE,EAAchf,IAAK,CAAChb,GAAOJ,UAAW,CAAE6U,WACtD,YAAC,GAAD,CAAcuiB,SAAUA,IAExB,YAAC,KAAD,CAAY9xB,KAAK,YACd,gBAAGukC,EAAH,EAAGA,OAAH,OACC,YAAC,WAAD,KACGA,EAAO9mC,KAAI,SAACuC,EAAMjB,GAAP,OACV,YAAC,GAAD,CACErB,IAAKsC,EACLA,KAAI,UAAKA,EAAL,SACJjB,MAAOA,EACP+jC,YAAasB,EACbptB,SAAUA,WAOnBA,EACC,mBAAKlB,IAAKhb,GAAO2oC,YAEjB,YAAC,GAAD,CAAY1zB,QAAS4zB,EAAgClT,MAAO31B,GAAOwoC,KACjE,mBAAKxtB,IAAKhb,GAAOyoC,SACf,mBACEh0B,MAAM,KACNvU,OAAO,KACPwpC,QAAQ,YACRv6B,KAAK,OACLw6B,MAAM,6BACN,cAAY,QAEZ,oBACEz6B,EAAE,4CACF06B,OAAO,QACPC,YAAY,IACZC,cAAc,YAIpB,6EAIH5tB,EACC,YAAC,GAAD,KACE,YAAC,GAAD,CAAcjH,QAASg0B,EAAoBl1B,MAAM,YACjD,mBAAKiH,IAAKhb,GAAO0oC,kBACjB,YAAC,GAAD,CAAYzzB,QAAS,kBAAM+zB,EAA8B,UAAzD,yBAGF,YAAC,GAAD,KACG7iC,EAAY6D,OAAS,GACpB,YAAC,GAAD,CACEutB,oBAAqBA,EACrB1B,aAAcA,EACd/M,aAAa,+FASQ,UAAlC7iB,IACuC,YAArCC,GAAoE,YAAlBb,IACjD,YAAC,GAAD,CACEkR,MAAM,wCACN5M,KAAK,UACLoO,KACE,YAAC,WAAD,KACE,2IADF,SAKE,wBACwC,YAArC7R,GACC,YAAC,WAAD,KACE,YAAC,GAAD,CAAY+O,QAASg0B,GAArB,uCADF,UAKiB,YAAlB5jC,GACC,YAAC,WAAD,KACE,YAAC,GAAD,CAAY4P,QAASi0B,GAArB,iDADF,cAWd,YAACrC,GAAD,CAAOC,YAA+BniC,IAAvBykC,EAAkCrC,eAAgBwB,GAC/D,YAAC,GAAD,CACEA,WAAYA,EACZP,YAAa,gBACYrjC,IAAvBykC,GAAoCN,EAAkCM,SCpCnEW,OAnHf,YAMW,IALTtgC,EAKQ,EALRA,MACAs/B,EAIQ,EAJRA,uBACAiB,EAGQ,EAHRA,iCACAd,EAEQ,EAFRA,uBACAe,EACQ,EADRA,iBAEA,EACExgC,EAAM7D,aADAO,EAAR,EAAQA,YAAaF,EAArB,EAAqBA,8BAA+BC,EAApD,EAAoDA,iCAAkCb,EAAtF,EAAsFA,cAGhFm8B,EAAcr0B,mBAClB,kBACEhH,EAAYxD,KAAI,WAAyBsB,GAAzB,MAAoC,CAClDqO,GAAIrO,EACJiB,KAFc,EAAGA,KAGjBV,aAHc,EAASA,mBAK3B,CAAC2B,IAGGk8B,EAAoBx1B,uBACxB,SACEjD,GAMA,IAAMzD,EAAcyD,EAAKjH,KAAI,kBAAuB,CAClD6B,aAD2B,EAAGA,iBAGhCukC,EAAuB,CAAE5iC,kBAE3B,CAAC4iC,IAGH,EAGIzb,GAAoBnnB,GAFI68B,EAD5B,EACEvQ,yBAC0BwQ,EAF5B,EAEEvQ,yBAEF,EAGIpF,GAAoB7jB,EAAM/D,SAASC,gBAFXm9B,EAD5B,EACErQ,yBAC0BsQ,EAF5B,EAEErQ,yBAIF,GAAsC,UAAlCzsB,EACF,OACE,YAAC,GAAD,CACEsQ,MAAM,oFACNwB,KAAM,YAAC,GAAD,CAAY9C,QAASg1B,GAArB,4BAKZ,IAAM/tB,EAAgD,UAArChW,EAUjB,OACE,YAAC,WAAD,KACE,YAAC,GAAD,CACEmvB,aACE,YAAC,GAAD,CACEmM,YAAaA,EACbtlB,SAAUA,EACVulB,eAAgBY,EAChBX,iBAAkBsI,EAClBrI,SAAU,YAAC,GAAD,CAAc1sB,QAASi0B,EAAwBn1B,MAAM,YAC/D6tB,cAnBY,SAAC,GAAuB,IAArBl8B,EAAoB,EAApBA,SACvB,EACEy7B,GAAkBz7B,GADSs9B,EAA7B,EAAQ5B,oBAAwE6B,EAAhF,EAA2D5B,oBAE3D,OAAO2B,IAAiCF,GACtCG,IAAiCF,EAC/B,yHACAp+B,KAgBA2wB,eACEpZ,GACE,YAAC,GAAD,CACEwW,yBAA0BuQ,EAC1BxQ,yBAA0BuQ,EAC1BtB,iBAAkBsI,MAMY,UAArC9jC,GAAkE,YAAlBb,GAC/C,YAAC,GAAD,CACEkR,MAAM,0CACN5M,KAAK,UACLoO,KACE,YAAC,WAAD,KACE,2IAGA,uBACA,wBACqB,YAAlB1S,GACC,YAAC,WAAD,KACE,YAAC,GAAD,CAAY4P,QAASi0B,GAArB,iDADF,gBCZHa,OAzFf,YAKW,IAJTtgC,EAIQ,EAJRA,MACAs/B,EAGQ,EAHRA,uBACAvE,EAEQ,EAFRA,qBACAyE,EACQ,EADRA,mBAEA,EAA4Dx/B,EAAM7D,aAA1DM,EAAR,EAAQA,iCAAkCb,EAA1C,EAA0CA,cAE1C,EAMIypB,GAAmBrlB,GALrB2lB,EADF,EACEA,8BACAJ,EAFF,EAEEA,kCACAK,EAHF,EAGEA,4BACA7M,EAJF,EAIEA,4BACAmN,EALF,EAKEA,iBAGI4U,EAAqB13B,uBACzB,SACEjD,GAKA,IAAMzD,EAAcyD,EAAKjH,KAAI,kBAAuB,CAClD6B,aAD2B,EAAGA,iBAGhCukC,EAAuB,CAAE5iC,kBAE3B,CAAC4iC,IAIH,GAAyC,UAArC7iC,EACF,OACE,YAAC,GAAD,CACEyD,KAAK,UACL4M,MAAM,sFACNwB,KAAM,YAAC,GAAD,CAAY9C,QAASg0B,GAArB,8BAMZ,IAAK7Z,EACH,OACE,uBACE,YAAC,GAAD,CACEzlB,KAAK,UACL4M,MAAM,sGACNwB,KAAK,kLAQb,IAAMmE,EAA6B,UAAlB7W,EAEjB,OACE,YAAC,GAAD,CACEgwB,aACE,YAAC,GAAD,CACE6O,uBAAwBlV,EACxB9S,SAAUA,EACVqoB,mBAAoBA,EACpBC,qBAAsBA,EACtB7C,SACE,YAAC7G,GAAD,CACE9mB,GAA4C,gBAAxCvK,EAAMrE,aAAaG,iBAAkC,kBAAoB,eAC7EwO,MAAM,cAKduhB,eACEpZ,GACE,YAAC,GAAD,CACEmT,4BAA6BA,EAC7B7M,4BAA6BA,EAC7BmN,iBAAkBA,EAClB6U,qBAAsBA,OCclC,IAAMxkC,GAAS,CACbJ,UAAWob,YAAI,CACb7E,QAAS,OACTqU,cAAe,YAIJ0f,GA/Ff,YAAuD,IAA3BzgC,EAA0B,EAA1BA,MAAOogB,EAAmB,EAAnBA,SAC3Bgf,EAAiCh8B,uBACrC,kBAAMgd,EAAS,CAAElgB,KAAM,qCACvB,CAACkgB,IAGGif,EAAoCj8B,uBACxC,SAAC5I,GAAD,OAAmB4lB,EAAS,CAAElgB,KAAM,oCAAqC1F,YACzE,CAAC4lB,IAGGkf,EAAyBl8B,uBAC7B,SAACjD,GAAD,OAAsCigB,EAAS,CAAElgB,KAAM,yBAA0BC,WACjF,CAACigB,IAGGmf,EAAgCn8B,uBACpC,SAAC/C,GAAD,OAAsB+f,EAAS,CAAElgB,KAAM,gCAAiCG,YACxE,CAAC+f,IAGGmgB,EAAmCn9B,uBACvC,SAAC/C,GAAD,OAAsB+f,EAAS,CAAElgB,KAAM,mCAAoCG,YAC3E,CAAC+f,IAGG2a,EAAuB33B,uBAC3B,SAAC/C,GAAD,OAAsB+f,EAAS,CAAElgB,KAAM,uBAAwBG,YAC/D,CAAC+f,IAGH,EAA2FpgB,EAAM7D,aAAzFK,EAAR,EAAQA,8BAA+BC,EAAvC,EAAuCA,iCAAkCb,EAAzE,EAAyEA,cAEzE,EAAwCoH,mBAjD1C,SACExG,EACAC,GAEA,MAA4C,UAArCA,EACH,eACkC,UAAlCD,EACA,WACA,SA0CFkkC,CAAuBlkC,EAA+BC,IADxD,mBAAOmgC,EAAP,KAAqBC,EAArB,KAIMZ,EAAWI,KAEXsE,EAAa,SAACjE,GAClBT,EAAS,GACTY,EAAgBH,IAIZ8C,EAAqB,kBAAMmB,EAAW,aACtClB,EAAyB,kBAAMkB,EAAW,iBAEhD,OACE,mBAAKpvB,IAAKhb,GAAOJ,WACf,YAAC,GAAD,CACEymC,aAAcA,EACdC,gBAAiBA,EACjBrgC,8BAA+BA,EAC/BC,iCAAkCA,EAClCb,cAAeA,IAGC,WAAjBghC,EACC,YAAC,GAAD,CACE58B,MAAOA,EACPo/B,+BAAgCA,EAChCC,kCAAmCA,EACnCC,uBAAwBA,EACxBC,8BAA+BA,EAC/BC,mBAAoBA,EACpBC,uBAAwBA,IAEP,aAAjB7C,EACF,YAAC,GAAD,CACE58B,MAAOA,EACPs/B,uBAAwBA,EACxBiB,iCAAkCA,EAClCC,iBA7BiB,kBAAMG,EAAW,WA8BlClB,uBAAwBA,IAG1B,YAACmB,GAAD,CACE5gC,MAAOA,EACPs/B,uBAAwBA,EACxBvE,qBAAsBA,EACtByE,mBAAoBA,MCtFxB1yB,GAAQ,4CAsDd,SAAS+zB,GAAT,GAAkE,IAAtC99B,EAAqC,EAArCA,SAC1B,OACE,YAAC,GAAD,CACE+J,MAAOA,GACPC,QAAS,CACP,gXAGDhK,GAKQ+9B,IC1FAA,GDyBf,YAAmD,IAA3B9gC,EAA0B,EAA1BA,MAAOogB,EAAmB,EAAnBA,SAC7BrS,GAASjB,IAET,MAA6B9M,EAAM7D,aAA3BC,EAAR,EAAQA,IAAKC,EAAb,EAAaA,KAAMC,EAAnB,EAAmBA,MACbmW,EAAgD,UAArCzS,EAAM7D,aAAaP,cAGpC,MAAqC,UAAjCoE,EAAM/D,SAASL,cAEf,YAACilC,GAAD,KACE,YAAC,GAAD,CACE3gC,KAAK,UACL4M,MAAM,sFACNwB,KAAM,YAACijB,GAAD,CAAmBhnB,GAAG,aAAaD,MAAM,iCAMb+a,GAAmBrlB,GAArD2lB,+BAG8B3lB,EAAM7D,aAAaC,IAErD,YAACykC,GAAD,KACE,YAAC,GAAD,CACE3gC,KAAK,UACL4M,MAAM,6DACNwB,KAAK,oJAEP,YAAC,GAAD,KACE,YAAC+iB,GAAD,CACE9mB,GAA4C,gBAAxCvK,EAAMrE,aAAaG,iBAAkC,kBAAoB,eAC7EwO,MAAM,cAQd,YAACu2B,GAAD,KACE,YAAC,GAAD,CAAsBzkC,IAAKA,EAAKC,KAAMA,EAAMC,MAAOA,EAAOmW,SAAUA,EAAU2N,SAAUA,IACvFhkB,EACC,YAAC,GAAD,CAAiB4D,MAAOA,EAAOogB,SAAUA,IAEzC,YAAC,GAAD,CAAkBpgB,MAAOA,EAAOogB,SAAUA,M,uDEtC5CjP,GAAYJ,GAAkBhB,GAAUC,GAAcG,GAAU,IAEhEkf,GAAe,SAAC,GASf,IARLxyB,EAQI,EARJA,iBASA,GAA6B,UADzB,EAPJD,qBAeA,OAJkBC,EAAiBkkC,SAAQ,kBAAwD,CAAxD,EAAGjkC,uBAAH,EAA2BC,2BAIxDikC,OAAM,SAACnuB,GAAD,MAAqB,MAAVA,GAA2B,KAAVA,KACvC,CACLouB,QAAS,qFAFb,GA0JF,IAAM1qC,GAAS,CACbJ,UAAWob,YAAI,CACb7E,QAAS,OACTqU,cAAe,YAIJmgB,GAjJf,YAMW,IALTC,EAKQ,EALRA,iCACAvkC,EAIQ,EAJRA,qBACA6V,EAGQ,EAHRA,SACA2uB,EAEQ,EAFRA,qBACAC,EACQ,EADRA,uBAEMlR,EAAgB,CACpBvzB,qBAAsBiT,GAAuBjT,GAC7CC,iBAAkBskC,EAAiCjoC,KACjD,gBAAG4D,EAAH,EAAGA,uBAAwBC,EAA3B,EAA2BA,uBAA2BukC,EAAtD,qCAAC,eACIA,GADL,IAEExkC,uBAAwB4S,GAAqB5S,GAC7CC,uBAAwB2S,GAAqB3S,SAK7CwwB,EAAW,SAAC6C,GAChB,IAAMxzB,EAAuBgT,GAAsBwgB,EAASxzB,sBACtDC,EAAmBuzB,EAASvzB,iBAAiB3D,KACjD,gBAAG4B,EAAH,EAAGA,kBAAmBgC,EAAtB,EAAsBA,uBAAwBC,EAA9C,EAA8CA,uBAA9C,MAAiF,CAC/EjC,oBACAgC,uBAAwByS,GAAoBzS,GAC5CC,uBAAwBwS,GAAoBxS,OAGhDqkC,EAAqB,CACnBvkC,mBACAD,0BAsCJ,OACE,YAAC,KAAD,CACEyzB,SApCa,SAACD,GAChB7C,EAAS6C,GACTiR,EAAuB,UAmCrB3uB,SAAU2c,GACVc,cAAeA,EAIfG,mBAAoB,kBAAM,KAEzB,gBAAGC,EAAH,EAAGA,aAAclE,EAAjB,EAAiBA,OAAQyB,EAAzB,EAAyBA,oBAAqB0C,EAA9C,EAA8CA,OAAQpE,EAAtD,EAAsDA,aAAtD,OACC,oBAAMiE,SAAUE,EAAchf,IAAKhb,GAAOJ,WACxC,YAAC,GAAD,CAAco3B,SAAUA,IACxB,YAAC,GAAD,CACEW,UAAU,uBACVv0B,MAAO0yB,EAAOzvB,qBACd6V,SAAUA,EACV0c,UAAU,sEACVC,WAAW,qFAGoB,SAAhC/C,EAAOzvB,sBACN,YAAC,GAAD,CACE0N,MAAM,iCAML62B,EAAiCjoC,KAAI,WAAwCsB,GAAW,IAAhDM,EAA+C,EAA/CA,kBAAmBwnB,EAA4B,EAA5BA,eAC1D,OACE,YAAC,GAAD,CACEnpB,IAAK2B,EACLW,KAAM0c,GAA6Brd,GACnC2X,SAAUA,EACVokB,WAAYvU,EACZwU,iBAAkB,GAClBjB,KAAK,UACLkB,eAAc,2BAAsBv8B,EAAtB,2BACdw8B,eAAc,2BAAsBx8B,EAAtB,2BACdy8B,gBAAiB9lB,GACjB+lB,gBAAiB/lB,SAO1BsB,EACC,YAAC,GAAD,KACE,YAAC4e,GAAD,CAAqB9mB,GAAG,eAAeD,MAAM,aAG/C,YAAC,GAAD,KACE,YAAC,GAAD,CACEwjB,oBAAqBA,EACrB1B,aAAcA,EACd/M,aACEmR,EAAOyQ,QACHzQ,EAAOyQ,QACP,kGCxJtB,IAAM1qC,GAAS,CACbJ,UAAWob,YAAI,CACb5P,SAAU,IACVgQ,UAAW,KAEbke,KAAMte,YAAI,CACRI,UAAW,GACXH,aAAc,GACdwa,UAAW,YAIAuV,GAtCf,YAMW,IALT1a,EAKQ,EALRA,4BACA9N,EAIQ,EAJRA,4BACA4O,EAGQ,EAHRA,mBACAD,EAEQ,EAFRA,kBACA2Z,EACQ,EADRA,uBAEA,OACE,mBAAK9vB,IAAKhb,GAAOJ,WACf,YAAC,GAAD,CACEqlC,eAAe,8BACfC,mBAA+CvgC,IAAhC2rB,EAA4CnO,GAAemO,GAA+B,KACzG6U,cAAe5iB,GAAyBC,GACxC4iB,gBAAgB,yBAChBC,qBAAwC1gC,IAAvBysB,EAAmCA,EAAqB,MAAQ,MACjFkU,eAAgBnU,EAAoB,iDAA8CxsB,EAClF6d,4BAA6BA,IAG/B,iBAAGxH,IAAKhb,GAAOs5B,MACb,YAAC,GAAD,CAAYrkB,QAAS,kBAAM61B,EAAuB,UAAlD,sCCXFv0B,GAAQ,8EA8Gd,SAAS00B,GAAT,GAAoE,IAAtCz+B,EAAqC,EAArCA,SAC5B,OACE,YAAC,GAAD,CACE+J,MAAOA,GACPC,QAAQ,sJAEPhK,GAKP,IAAMxM,GAAS,CACbkrC,eAAgBlwB,YAAI,CAClB3a,MAAO,UACPwB,SAAU,GACVw4B,UAAW,SACXjvB,SAAU,IACV,QAAS,CACP6P,aAAc,OC1JLkwB,GD4Bf,YAAqD,IAA3B1hC,EAA0B,EAA1BA,MAAOogB,EAAmB,EAAnBA,SAC/BrS,GAASjB,IAET,IAAMs0B,EAAuBh+B,uBAC3B,SAACjD,GAAD,OAAoCigB,EAAS,CAAElgB,KAAM,uBAAwBC,WAC7E,CAACigB,IAGGihB,EAAyBj+B,uBAC7B,SAAC/C,GAAD,OAAsB+f,EAAS,CAAElgB,KAAM,yBAA0BG,YACjE,CAAC+f,IAGH,EAQI2G,GAAqB/mB,GAPvB2lB,EADF,EACEA,8BACAsB,EAFF,EAEEA,gCACApB,EAHF,EAGEA,qBACAgB,EAJF,EAIEA,4BACA9N,EALF,EAKEA,4BACA4O,EANF,EAMEA,mBACAD,EAPF,EAOEA,kBAIF,MAAqC,UAAjC1nB,EAAM/D,SAASL,cAEf,YAAC4lC,GAAD,KACE,YAAC,GAAD,CACEthC,KAAK,UACL4M,MAAM,sFACNwB,KAAM,YAACijB,GAAD,CAAmBhnB,GAAG,aAAaD,MAAM,gCAOlDqb,EAkBsC,UAAvC3lB,EAAMrD,eAAef,eAA8BiqB,EAqBrD,YAAC2b,GAAD,KACE,YAAC,GAAD,CACE5V,aACE,YAAC,GAAD,CACEuV,iCAAkCla,EAClCrqB,qBAAsBoD,EAAMrD,eAAeC,qBAC3C6V,SAAiD,UAAvCzS,EAAMrD,eAAef,cAC/BwlC,qBAAsBA,EACtBC,uBAAwBA,IAG5BxV,eACyC,UAAvC7rB,EAAMrD,eAAef,eACnB,YAAC,GAAD,CACEirB,4BAA6BA,EAC7B9N,4BAA6BA,EAC7B4O,mBAAoBA,EACpBD,kBAAmBA,EACnB2Z,uBAAwBA,MAKQ,UAAvCrhC,EAAMrD,eAAef,eAA6B8rB,GACjD,mBAAKnW,IAAKhb,GAAOkrC,gBACf,qBAAInnB,GAAwBvB,EAA6B,kBAAmB,YA5ChF,YAACyoB,GAAD,KACE,uBACE,YAAC,GAAD,CACEthC,KAAK,UACL4M,MAAM,6DACNwB,KAAK,mGAEP,YAAC,GAAD,KACE,YAAC,GAAD,CAAY9C,QAAS,kBAAM61B,EAAuB,UAAlD,oCAEF,YAAC,GAAD,KACE,YAAChQ,GAAD,CAAqB9mB,GAAG,eAAeD,MAAM,eA7BnD,YAACk3B,GAAD,KACE,uBACE,YAAC,GAAD,CACEthC,KAAK,UACL4M,MAAM,6DACNwB,KAAK,sJAEP,YAAC,GAAD,KACE,YAAC+iB,GAAD,CAAqB9mB,GAAG,eAAeD,MAAM,gB,iDE1CnD6G,GAAYJ,GAAkBhB,GAAUC,GAAcG,GAAU,IAEhEkf,GAAe,SAAC,GASf,IARLlyB,EAQI,EARJA,cASA,GAA0B,UADtB,EAPJD,kBAeA,OAJkBC,EAAc4jC,SAAQ,kBAAkD,CAAlD,EAAG3jC,oBAAH,EAAwBC,wBAIlD2jC,OAAM,SAACnuB,GAAD,MAAqB,MAAVA,GAA2B,KAAVA,KACvC,CACLouB,QAAS,kFAFb,GA0JF,IAAM1qC,GAAS,CACbJ,UAAWob,YAAI,CACb7E,QAAS,OACTqU,cAAe,YAIJ4gB,GAjJf,YAMW,IALTC,EAKQ,EALRA,+BACA1kC,EAIQ,EAJRA,kBACAuV,EAGQ,EAHRA,SACAovB,EAEQ,EAFRA,sBACAC,EACQ,EADRA,wBAEM3R,EAAgB,CACpBjzB,kBAAmB2S,GAAuB3S,GAC1CC,cAAeykC,EAA+B1oC,KAC5C,gBAAGkE,EAAH,EAAGA,oBAAqBC,EAAxB,EAAwBA,oBAAwBikC,EAAhD,qCAAC,eACIA,GADL,IAEElkC,oBAAqBsS,GAAqBtS,GAC1CC,oBAAqBqS,GAAqBrS,SAK1CkwB,EAAW,SAAC6C,GAChB,IAAMlzB,EAAoB0S,GAAsBwgB,EAASlzB,mBACnDC,EAAgBizB,EAASjzB,cAAcjE,KAC3C,gBAAG4B,EAAH,EAAGA,kBAAmBsC,EAAtB,EAAsBA,oBAAqBC,EAA3C,EAA2CA,oBAA3C,MAA2E,CACzEvC,oBACAsC,oBAAqBmS,GAAoBnS,GACzCC,oBAAqBkS,GAAoBlS,OAG7CwkC,EAAsB,CACpB1kC,gBACAD,uBAsCJ,OACE,YAAC,KAAD,CACEmzB,SApCa,SAACD,GAChB7C,EAAS6C,GACT0R,EAAwB,UAmCtBpvB,SAAU2c,GACVc,cAAeA,EAIfG,mBAAoB,kBAAM,KAEzB,gBAAGC,EAAH,EAAGA,aAAclE,EAAjB,EAAiBA,OAAQyB,EAAzB,EAAyBA,oBAAqB0C,EAA9C,EAA8CA,OAAQpE,EAAtD,EAAsDA,aAAtD,OACC,oBAAMiE,SAAUE,EAAchf,IAAKhb,GAAOJ,WACxC,YAAC,GAAD,CAAco3B,SAAUA,IACxB,YAAC,GAAD,CACEW,UAAU,oBACVv0B,MAAO0yB,EAAOnvB,kBACduV,SAAUA,EACV0c,UAAU,mEACVC,WAAW,+EAGiB,SAA7B/C,EAAOnvB,mBACN,YAAC,GAAD,CACEoN,MAAM,2BAMLs3B,EAA+B1oC,KAAI,WAAwCsB,GAAW,IAAhDM,EAA+C,EAA/CA,kBAAmBwnB,EAA4B,EAA5BA,eACxD,OACE,YAAC,GAAD,CACEnpB,IAAK2B,EACLW,KAAM0c,GAA6Brd,GACnC2X,SAAUA,EACVokB,WAAYvU,EACZwU,iBAAkB,GAClBjB,KAAK,UACLkB,eAAc,wBAAmBv8B,EAAnB,wBACdw8B,eAAc,wBAAmBx8B,EAAnB,wBACdy8B,gBAAiB9lB,GACjB+lB,gBAAiB/lB,SAO1BsB,EACC,YAAC,GAAD,KACE,YAAC4e,GAAD,CAAqB9mB,GAAG,eAAeD,MAAM,aAG/C,YAAC,GAAD,KACE,YAAC,GAAD,CACEwjB,oBAAqBA,EACrB1B,aAAcA,EACd/M,aACEmR,EAAOyQ,QACHzQ,EAAOyQ,QACP,kGCzJtB,IAAM1qC,GAAS,CACbJ,UAAWob,YAAI,CACb5P,SAAU,IACVgQ,UAAW,KAEbke,KAAMte,YAAI,CACRI,UAAW,GACXH,aAAc,GACdwa,UAAW,YAIA+V,GAtCf,YAMW,IALTtZ,EAKQ,EALRA,yBACA1P,EAIQ,EAJRA,4BACA6P,EAGQ,EAHRA,oBACAlB,EAEQ,EAFRA,kBACAoa,EACQ,EADRA,wBAEA,OACE,mBAAKvwB,IAAKhb,GAAOJ,WACf,YAAC,GAAD,CACEqlC,eAAe,8BACfC,mBAA4CvgC,IAA7ButB,EAAyC/P,GAAe+P,GAA4B,KACnGiT,cAAe5iB,GAAyBC,GACxC4iB,gBAAgB,yBAChBC,qBAAyC1gC,IAAxB0tB,EAAoCA,EAAsB,MAAQ,MACnFiT,eAAgBnU,EAAoB,iDAA8CxsB,EAClF6d,4BAA6BA,IAG/B,iBAAGxH,IAAKhb,GAAOs5B,MACb,YAAC,GAAD,CAAYrkB,QAAS,kBAAMs2B,EAAwB,UAAnD,sCCVFh1B,GAAQ,2CA8Gd,SAASk1B,GAAT,GAAqE,IAAtCj/B,EAAqC,EAArCA,SAC7B,OACE,YAAC,GAAD,CACE+J,MAAOA,GACPC,QAAQ,gJAEPhK,GAKP,IAAMxM,GAAS,CACbkrC,eAAgBlwB,YAAI,CAClB3a,MAAO,UACPwB,SAAU,GACVw4B,UAAW,SACXjvB,SAAU,IACV,QAAS,CACP6P,aAAc,OC1JLywB,GD4Bf,YAAsD,IAA3BjiC,EAA0B,EAA1BA,MAAOogB,EAAmB,EAAnBA,SAChCrS,GAASjB,IAET,IAAM+0B,EAAwBz+B,uBAC5B,SAACjD,GAAD,OAAqCigB,EAAS,CAAElgB,KAAM,wBAAyBC,WAC/E,CAACigB,IAGG0hB,EAA0B1+B,uBAC9B,SAAC/C,GAAD,OAAsB+f,EAAS,CAAElgB,KAAM,0BAA2BG,YAClE,CAAC+f,IAGH,EAQI4H,GAAsBhoB,GAPxB2lB,EADF,EACEA,8BACAuC,EAFF,EAEEA,8BACArC,EAHF,EAGEA,qBACA4C,EAJF,EAIEA,yBACA1P,EALF,EAKEA,4BACA6P,EANF,EAMEA,oBACAlB,EAPF,EAOEA,kBAIF,MAAqC,UAAjC1nB,EAAM/D,SAASL,cAEf,YAAComC,GAAD,KACE,YAAC,GAAD,CACE9hC,KAAK,UACL4M,MAAM,sFACNwB,KAAM,YAACijB,GAAD,CAAmBhnB,GAAG,aAAaD,MAAM,gCAOlDqb,EAkBuC,UAAxC3lB,EAAM/C,gBAAgBrB,eAA8BiqB,EAqBtD,YAACmc,GAAD,KACE,YAAC,GAAD,CACEpW,aACE,YAAC,GAAD,CACEgW,+BAAgC1Z,EAChChrB,kBAAmB8C,EAAM/C,gBAAgBC,kBACzCuV,SAAkD,UAAxCzS,EAAM/C,gBAAgBrB,cAChCimC,sBAAuBA,EACvBC,wBAAyBA,IAG7BjW,eAC0C,UAAxC7rB,EAAM/C,gBAAgBrB,eACpB,YAAC,GAAD,CACE6sB,yBAA0BA,EAC1B1P,4BAA6BA,EAC7B6P,oBAAqBA,EACrBlB,kBAAmBA,EACnBoa,wBAAyBA,MAKQ,UAAxC9hC,EAAM/C,gBAAgBrB,eAA6B8rB,GAClD,mBAAKnW,IAAKhb,GAAOkrC,gBACf,qBAAInnB,GAAwBvB,EAA6B,gBAAiB,YA5C9E,YAACipB,GAAD,KACE,uBACE,YAAC,GAAD,CACE9hC,KAAK,UACL4M,MAAM,6DACNwB,KAAK,+EAEP,YAAC,GAAD,KACE,YAAC,GAAD,CAAY9C,QAAS,kBAAMs2B,EAAwB,UAAnD,oCAEF,YAAC,GAAD,KACE,YAACzQ,GAAD,CAAqB9mB,GAAG,eAAeD,MAAM,eA7BnD,YAAC03B,GAAD,KACE,uBACE,YAAC,GAAD,CACE9hC,KAAK,UACL4M,MAAM,6DACNwB,KAAK,sJAEP,YAAC,GAAD,KACE,YAAC+iB,GAAD,CAAqB9mB,GAAG,eAAeD,MAAM,gBE7CnD6G,GAAYJ,GAAkBhB,GAAUC,GAAcC,GAAeE,GAAU,IA6IrF,IAAM5Z,GAAS,CACbJ,UAAWob,YAAI,CACb7E,QAAS,OACTqU,cAAe,WAEjBmhB,OAAQ3wB,YAAI,CACVI,UAAW,SAIAwwB,GA1If,YAUW,IATTnmC,EASQ,EATRA,oBACAwB,EAQQ,EARRA,8BACAC,EAOQ,EAPRA,kCACAC,EAMQ,EANRA,kCACAC,EAKQ,EALRA,mBACAzB,EAIQ,EAJRA,eACAuW,EAGQ,EAHRA,SACA2vB,EAEQ,EAFRA,0BACAC,EACQ,EADRA,4BAEMlS,EAAgB,CACpB3yB,8BAA+BqS,GAAuBrS,GACtDC,kCAAmC4R,GAAmB5R,GACtDC,kCAAmC2R,GAAmB3R,GACtDC,mBAAoBA,GAGhB4vB,EAAW,SAAC6C,GAChB,IAAM5yB,EAAgCoS,GAAsBwgB,EAAS5yB,+BAC/DC,EAAoCuR,GAAkBohB,EAAS3yB,mCAC/DC,EAAoCsR,GAAkBohB,EAAS1yB,mCAC/DC,E7EvCsC,SAAChE,GAC/C,OAAQA,GACN,IAAK,wBACH,MAAO,wBACT,IAAK,yBACH,MAAO,yBACT,QACE,MAAO,uB6EgCkB2oC,CAAiClS,EAASzyB,oBACrEykC,EAA0B,CACxB5kC,gCACAC,oCACAC,oCACAC,wBASE4kC,EAAU7oB,GAAajJ,GAAUmJ,GAAa5d,EAAqBgd,GAAKwpB,SAAU,KAClFC,EAAW/oB,GAAajJ,GAAUmJ,GAAa5d,EAAqBgd,GAAKwpB,SAAU,KACnFE,EAAahpB,GAAajJ,GAAUmJ,GAAa5d,EAAqBgd,GAAKwpB,SAAU,KACrFG,EAA0BjpB,GAAajJ,GAAUzU,IAEvD,EACE6nB,GAAoB3nB,GADY0nB,EAAlC,EAAQoF,yBAA+ErF,EAAvF,EAA6DsF,yBAGvD2Z,EAAwE,SAACzgC,EAAK0gC,GAAN,OAAiB,SAAClpC,GAAD,OAC7FyW,GAAUjO,EAAViO,CAAezW,GAAf,oBAAqCkpC,EAArC,wDAAyF3nC,IAE3F,OACE,YAAC,KAAD,CACEm1B,SAlBa,SAACD,GAChB7C,EAAS6C,GACTiS,EAA4B,UAiB1BlS,cAAeA,EAIfG,mBAAoB,kBAAM,KAEzB,gBAAGC,EAAH,EAAGA,aAAclE,EAAjB,EAAiBA,OAAQyB,EAAzB,EAAyBA,oBAAqB1B,EAA9C,EAA8CA,aAA9C,OACC,oBAAMiE,SAAUE,EAAchf,IAAKhb,GAAOJ,WACxC,YAAC,GAAD,CAAco3B,SAAUA,IACxB,YAAC,GAAD,CACEW,UAAU,qBACV5jB,MAAM,mEACN3Q,MAAO0yB,EAAO1uB,mBACd8U,SAAUA,EACV0b,QAAS,CACP,CACE7jB,MAAM,gDAAD,OAAyCi4B,EAAzC,eAAuDI,EAAvD,KACLhpC,MAAO,uBAET,CACE2Q,MAAM,8CAAD,OAAuCm4B,EAAvC,eAAsDE,EAAtD,KACLhpC,MAAO,yBAET,CACE2Q,MAAM,8CAAD,OAAuCo4B,EAAvC,eAAwDC,EAAxD,KACLhpC,MAAO,6BAKb,mBAAK4X,IAAKhb,GAAO2rC,SAEjB,YAAC,GAAD,CACEhU,UAAU,gCACVv0B,MAAO0yB,EAAO7uB,8BACdiV,SAAUA,EACV0c,UAAU,qEACVC,WAAW,gFAG6B,SAAzC/C,EAAO7uB,+BACN,YAAC,GAAD,KACE,YAAC,GAAD,CACE/B,KAAK,qCACLgX,SAAUA,EACVokB,YAAY,EACZC,iBAAkB,EAClBjB,KAAK,SACLkB,eAAe,oCACfC,eAAe,oCACfC,gBAAiBlmB,GACfI,GACAyxB,EAAkBjf,EAA2B,cAE/CuT,gBAAiBnmB,GAAkBI,GAAWyxB,EAAkBhf,EAA2B,gBAKhGnR,EACC,YAAC,GAAD,KACE,YAAC4e,GAAD,CAAqB9mB,GAAG,eAAeD,MAAM,aAG/C,YAAC,GAAD,KACE,YAAC,GAAD,CACEwjB,oBAAqBA,EACrB1B,aAAcA,EACd/M,aAAa,kGCtH7B,IAAM9oB,GAAS,CACbJ,UAAWob,YAAI,CACb5P,SAAU,IACVgQ,UAAW,KAEbke,KAAMte,YAAI,CACRI,UAAW,GACXH,aAAc,GACdwa,UAAW,YAIA8W,GAtCf,YAMW,IALTC,EAKQ,EALRA,WACAhqB,EAIQ,EAJRA,4BACAyR,EAGQ,EAHRA,wBACA9C,EAEQ,EAFRA,kBACA2a,EACQ,EADRA,4BAEA,OACE,mBAAK9wB,IAAKhb,GAAOJ,WACf,YAAC,GAAD,CACEqlC,eAAgBuH,EAAWz4B,MAC3BmxB,cAAesH,EAAWrX,OAC1BgQ,cAAe5iB,GAAyBC,GACxC4iB,gBAAgB,yBAChBC,qBAA6C1gC,IAA5BsvB,EAAwCA,EAA0B,MAAQ,MAC3FqR,eAAgBnU,EAAoB,iDAA8CxsB,EAClF6d,4BAA6BA,IAG/B,iBAAGxH,IAAKhb,GAAOs5B,MACb,YAAC,GAAD,CAAYrkB,QAAS,kBAAM62B,EAA4B,UAAvD,sCCRFv1B,GAAQ,6CAuId,SAASk2B,GAAT,GAAyE,IAAtCjgC,EAAqC,EAArCA,SACjC,OACE,YAAC,GAAD,CACE+J,MAAOA,GACPC,QAAQ,mKAEPhK,GAQA,IAAMkgC,GAAa,SACxBlZ,EACAE,GAEA,IAAME,EAAY,CAChB7f,MAAO,0CACPohB,YAC2CxwB,IAAzC6uB,EAAqDrR,GAAeqR,GAAwC,KAC9GtM,UAA+CviB,IAAzC6uB,EAAqDP,GAAYO,GAAwC,GAE3GmZ,EAAkB,CACtB54B,MAAO,gEACPohB,YAAoDxwB,IAA5C+uB,EAAA,UAA2DA,GAA4C,KAC/GxM,UAC8CviB,IAA5C+uB,EAAwDT,GAAYS,GAA2C,GAQnH,YAL8C/uB,IAA5C+uB,QACyC/uB,IAAzC6uB,GACAE,EAA0CF,EACtC,CAAEoZ,KAAMD,EAAiBE,MAAOjZ,GAChC,CAAEiZ,MAAOF,EAAiBC,KAAMhZ,IAIjC,SAASkZ,GAAT,GAUH,IATFtqB,EASC,EATDA,4BACA4Q,EAQC,EARDA,wBACAjC,EAOC,EAPDA,kBACA4b,EAMC,EANDA,QAOA,OACE,mBAAK/xB,IAAKhb,GAAOkrC,gBACf,qBACG6B,EAAQF,MAAM94B,MADjB,IACwB,0BAASg5B,EAAQF,MAAM1X,QAD/C,oBACiF,IAC9EhE,GAAqB,mDAFxB,UAGS,0BAAS4b,EAAQF,MAAM3lB,KAAvB,OACP,uBACC6lB,EAAQF,MAAM3lB,KAAO6lB,EAAQH,KAAK1lB,MACjC,sGAEJ,qB7EvH8C,SAClD1E,EACA4Q,GAEA,MAAoC,WAAhC5Q,GAAwE,WAA5B4Q,EACvC,6JACkC,WAAhC5Q,GAAwE,WAA5B4Q,EAC9C,8JACkC,WAAhC5Q,QAAwE7d,IAA5ByuB,EAC9C,6JACkC,WAAhC5Q,GAAwE,WAA5B4Q,EAC9C,+JACkC,WAAhC5Q,GAAwE,WAA5B4Q,GAEZ,WAAhC5Q,QAAwE7d,IAA5ByuB,EAD9C,4JAIA,G6EsGD4Z,CAAqCxqB,EAA6B4Q,IACrEjC,GAAqB,qBAAIpN,GAAwBvB,EAA6B,kBAAmB,WAKxG,IAAMxiB,GAAS,CACbkrC,eAAgBlwB,YAAI,CAClB3a,MAAO,UACPwB,SAAU,GACVw4B,UAAW,SACXjvB,SAAU,IACV,QAAS,CACP6P,aAAc,OC7OLgyB,GD+Bf,YAA0D,IAA3BxjC,EAA0B,EAA1BA,MAAOogB,EAAmB,EAAnBA,SACpCrS,GAASjB,IAET,IAAMs1B,EAA4Bh/B,uBAChC,SAACjD,GAAD,OAAyCigB,EAAS,CAAElgB,KAAM,4BAA6BC,WACvF,CAACigB,IAGGiiB,EAA8Bj/B,uBAClC,SAAC/C,GAAD,OAAsB+f,EAAS,CAAElgB,KAAM,8BAA+BG,YACtE,CAAC+f,IAGH,EAOIsJ,GAA0B1pB,GAN5B2lB,EADF,EACEA,8BACAoE,EAFF,EAEEA,qCACAE,EAHF,EAGEA,wCACAlR,EAJF,EAIEA,4BACAyR,EALF,EAKEA,wBACA9C,EANF,EAMEA,kBAIF,GAAyC,UAArC1nB,EAAMrE,aAAaC,cACrB,OACE,YAAConC,GAAD,KACE,YAAC,GAAD,CACE9iC,KAAK,UACL4M,MAAM,sGACNwB,KAAM,YAACijB,GAAD,CAAmBhnB,GAAG,gBAAgBD,MAAM,mCAO1D,GAAqC,UAAjCtK,EAAM/D,SAASL,cACjB,OACE,YAAConC,GAAD,KACE,YAAC,GAAD,CACE9iC,KAAK,UACL4M,MAAM,sFACNwB,KAAM,YAACijB,GAAD,CAAmBhnB,GAAG,aAAaD,MAAM,gCAOvD,IAAKqb,EACH,OACE,YAACqd,GAAD,KACE,uBACE,YAAC,GAAD,CACE9iC,KAAK,UACL4M,MAAM,6DACNwB,KAAK,sEAEP,YAAC,GAAD,KACE,YAAC+iB,GAAD,CAAqB9mB,GAAG,eAAeD,MAAM,eAQvD,GAAgD,UAA5CtK,EAAMzC,oBAAoB3B,gBAA8BoE,EAAMzC,oBAAoBC,8BACpF,OACE,YAACwlC,GAAD,KACE,uBACE,YAAC,GAAD,CACE9iC,KAAK,UACL4M,MAAM,6DACNwB,KAAK,iFAEP,YAAC,GAAD,KACE,YAAC,GAAD,CAAY9C,QAAS,kBAAM62B,EAA4B,UAAvD,oCAEF,YAAC,GAAD,KACE,YAAChR,GAAD,CAAqB9mB,GAAG,eAAeD,MAAM,eAOvD,IAAMg5B,EAAUL,GAAWlZ,EAAsCE,GAEjE,EACEpG,GAAoB7jB,EAAM/D,SAASC,gBADH0nB,EAAlC,EAAQoF,yBAA+ErF,EAAvF,EAA6DsF,yBAEvDU,EAA0BJ,GAA8B3F,EAA2BD,GAEzF,OACE,YAACqf,GAAD,KACE,YAAC,GAAD,CACEpX,aACE,YAAC,GAAD,CACE5vB,oBAAqBgE,EAAMrE,aAAaK,oBACxCwB,8BAA+BwC,EAAMzC,oBAAoBC,8BACzDC,kCAAmCuC,EAAMzC,oBAAoBE,kCAC7DC,kCAAmCsC,EAAMzC,oBAAoBG,kCAC7DC,mBAAoBqC,EAAMzC,oBAAoBI,mBAC9CzB,eAAgB8D,EAAM/D,SAASC,eAC/BuW,SAAsD,UAA5CzS,EAAMzC,oBAAoB3B,cACpCwmC,0BAA2BA,EAC3BC,4BAA6BA,IAGjCxW,eAC8C,UAA5C7rB,EAAMzC,oBAAoB3B,eACxB,YAAC,GAAD,CACEmnC,WAAYO,EAAQH,KACpBpqB,4BAA6BA,EAC7ByR,wBAAyBA,EACzB9C,kBAAmBA,EACnB2a,4BAA6BA,MAKQ,UAA5CriC,EAAMzC,oBAAoB3B,eACzB,YAACynC,GAAD,CACEC,QAASA,EACTvqB,4BAA6BA,EAC7B4Q,wBAAyBA,EACzBjC,kBAAmBA,MExGtB,IAGDnxB,GAAS,CACbJ,UAAWob,YAAI,CACb7E,QAAS,OACTqU,cAAe,SACfC,WAAY,UACZvqB,OARkB,GASlBkb,UARsB,KAUxB0kB,IAAK9kB,YAAI,CACP7E,QAAS,OACTqU,cAAe,MACfC,WAAY,aAEdmS,SAAU5hB,YAAI,CACZ9a,OAAQ,GACRq9B,cAAe,EACfpnB,QAAS,OACTsU,WAAY,WACZ/U,aAAa,SAAD,OAAW/K,EAAa9K,OAAO+K,QAA/B,QACZ/I,SAAU,KAEZqrC,cAAelyB,YAAI,CACjB7E,QAAS,OACTsU,WAAY,aAEduV,cAAehlB,YAAI,CACjB3a,MAAOsK,EAAa9K,OAAOkL,MAC3B7J,YAAa,gBAEf++B,aAAcjlB,YAAI,CAChBmP,YAAa,IAEf6T,QAAShjB,YAAI,CACX9Z,YAAayJ,EAAa9K,OAAOgL,MAEnCqzB,UAAWljB,YAAI,CACb9Z,YAAayJ,EAAa9K,OAAOiL,QAEnCo1B,UAAWllB,YAAI,CACb9a,OAAQ,GACRiW,QAAS,OACTsU,WAAY,SACZwT,eAAgB,WAElBkC,aAAcnlB,YAAI,CAChB3a,MAAOsK,EAAa9K,OAAOgL,MAE7Bu1B,eAAgBplB,YAAI,CAClB3a,MAAOsK,EAAa9K,OAAOiL,QAE7BC,MAAOiQ,YAAI,CACT7E,QAAS,OACTsU,WAAY,SACZvqB,OAAQ,GACRkb,UAAW,EACX/a,MAAOsK,EAAa9K,OAAOkL,MAC3BlJ,SAAU,GACVw4B,UAAW,SACXz4B,WAAY,OACZ8T,aAAa,SAAD,OAAW/K,EAAa9K,OAAOkL,MAA/B,WAIDoiC,GArGf,YAAyF,IAAnExV,EAAkE,EAAlEA,UAAW5jB,EAAuD,EAAvDA,MAAOmI,EAAgD,EAAhDA,SAAgD,IAAtCla,aAAsC,MAA9B,SAA8B,EAApB4Y,EAAoB,EAApBA,UAC5D3Z,EAAQu1B,aAASmB,EAAW,CAAExb,SAAUvB,IACxC7P,EAAQ9J,EAAMub,KAAKC,SAAWxb,EAAMub,KAAKzR,MAE/C,OACE,mBAAKiQ,IAAKhb,GAAOJ,WACf,mBAAKob,IAAKhb,GAAO8/B,KACf,YAACnD,GAAD,CAAUhH,MAAO,CAAC31B,GAAO48B,SAAU7xB,GAAS/K,GAAOggC,gBACjD,mBAAKhlB,IAAKhb,GAAOktC,eACdjsC,EAAMub,KAAK1S,MACV,mBAAKkR,IAAKhb,GAAOigC,cACf,YAAC,GAAD,OAEAl1B,EACF,mBAAKiQ,IAAKhb,GAAOigC,cACf,YAAC,GAAD,OAEA,KACJ,wBAAOlsB,KAIVmI,EACC,YAACqgB,GAAD,CAAM5G,MAAO,CAAC31B,GAAOkgC,UAAqB,WAAVl+B,EAAqBhC,GAAOmgC,aAAengC,GAAOogC,iBAC/En/B,EAAMqb,MAAMlZ,OAGf,YAAC,GAAD,CAAWnC,MAAOA,EAAO00B,MAAiB,WAAV3zB,EAAqBhC,GAAOg+B,QAAUh+B,GAAOk+B,aAGhFnzB,GAAS,mBAAKiQ,IAAKhb,GAAO+K,OAAQA,KCrBnC6P,GAAYJ,GAAkBhB,GAAUC,GAAcC,GAAeE,GAAU,IA4GrF,IAAM5Z,GAAS,CACbJ,UAAWob,YAAI,CACb7E,QAAS,OACTqU,cAAe,WAEjBmhB,OAAQ3wB,YAAI,CACV9a,OAAQ,IAEVktC,YAAapyB,YAAI,CACf9a,OAAQ,OAIGmtC,GAvGf,YAAwH,IAAxFhmC,EAAuF,EAAvFA,iBAAkB6U,EAAqE,EAArEA,SAAUoxB,EAA2D,EAA3DA,uBAAwBC,EAAmC,EAAnCA,yBAC5E3T,EAAgB,CACpBtyB,iBAAkBgS,GAAuBjS,EAAiBC,kBAC1DC,mCAAoCuR,GAAmBzR,EAAiBE,oCACxEC,0BAA2BsR,GAAmBzR,EAAiBG,4BAG3DwvB,EAAW,SAAC6C,GAChB,IAAQvyB,EAAoFuyB,EAApFvyB,iBAAkBC,EAAkEsyB,EAAlEtyB,mCAAoCC,EAA8BqyB,EAA9BryB,0BAE9D8lC,EAAuB,CACrBhmC,iBAAkB+R,GAAsB/R,GACxCC,mCAAoCkR,GAAkBlR,GACtDC,0BAA2BiR,GAAkBjR,MASjD,OACE,YAAC,KAAD,CACEsyB,SAPa,SAACD,GAChB7C,EAAS6C,GACT0T,EAAyB,UAMvB3T,cAAeA,EAIfG,mBAAoB,kBAAM,KAEzB,gBA/CsEyT,EA+CnExT,EAAH,EAAGA,aAAclE,EAAjB,EAAiBA,OAAQyB,EAAzB,EAAyBA,oBAAqB1B,EAA9C,EAA8CA,aAA9C,OACC,oBAAMiE,SAAUE,EAAchf,IAAKhb,GAAOJ,WACxC,YAAC,GAAD,CAAco3B,SAAUA,IACxB,YAAC,GAAD,CACEW,UAAU,mBACVv0B,MAAO0yB,EAAOxuB,iBACd4U,SAAUA,EACV0c,UACE,YAAC,WAAD,KACE,4EADF,6CAIFC,WACE,YAAC,WAAD,KACE,qFADF,+CAMyB,SAA5B/C,EAAOxuB,kBACN,YAACu1B,GAAD,KACE,YAAC,GAAD,CACElF,UAAU,qCACV5jB,MAAM,8IACNmI,SAAUA,EACVtB,UAAWA,KAEb,mBAAKI,IAAKhb,GAAO2rC,SACjB,YAAC,GAAD,CACEhU,UAAU,4BACV5jB,MAAM,6HACNmI,SAAUA,EACVtB,UAAWJ,GACTI,IAhF2D4yB,EAiFrC1X,EAAOvuB,mCAjFgD,SAACnE,GAAD,OAC7FwV,MAAMD,OAAO60B,SACT7oC,EACAkV,GAAUlB,OAAO60B,GAAjB3zB,CAAiCzW,GACjC,gEACAuB,QAkFKuX,EACC,YAAC,GAAD,KACE,YAAC4e,GAAD,CAAqB9mB,GAAG,eAAeD,MAAM,aAG/C,YAAC,GAAD,KACE,YAAC,GAAD,CACEwjB,oBAAqBA,EACrB1B,aAAcA,EACd/M,aAAa,kGCpF7B,IAAM9oB,GAAS,CACbJ,UAAWob,YAAI,CACb5P,SAAU,IACVgQ,UAAW,KAEbke,KAAMte,YAAI,CACRI,UAAW,GACXH,aAAc,GACdwa,UAAW,YAIAgY,GAtCf,YAIW,IAHTtZ,EAGQ,EAHRA,yCACAE,EAEQ,EAFRA,qBACAkZ,EACQ,EADRA,yBAEA,OACE,mBAAKvyB,IAAKhb,GAAOJ,WACf,YAAC,GAAD,CACEqlC,eAAe,8BACfC,mBAC+CvgC,IAA7CwvB,EACIhS,GAAegS,EAA0C,GACzD,KAENiR,gBAAgB,yBAChBC,qBAA0C1gC,IAAzB0vB,EAAqCA,EAAuB,MAAQ,MACrF7R,4BAA4B,WAG9B,iBAAGxH,IAAKhb,GAAOs5B,MACb,YAAC,GAAD,CAAYrkB,QAAS,kBAAMs4B,EAAyB,UAApD,sCC2DR,SAASG,GAAT,GAAsE,IAAtClhC,EAAqC,EAArCA,SAC9B,OACE,YAAC,GAAD,CACE+J,MAAM,oHACNC,QAAQ,6JAEPhK,GAKQmhC,ICzGAA,GD0Bf,YAAuD,IAA3BlkC,EAA0B,EAA1BA,MAAOogB,EAAmB,EAAnBA,SACjCrS,GAHY,2CAKZ,IAAM81B,EAAyBzgC,uBAC7B,SAACjD,GAAD,OAAsCigB,EAAS,CAAElgB,KAAM,yBAA0BC,WACjF,CAACigB,IAGG0jB,EAA2B1gC,uBAC/B,SAAC/C,GAAD,OAAsB+f,EAAS,CAAElgB,KAAM,2BAA4BG,YACnE,CAAC+f,IAGH,EACEqK,GAAuBzqB,GADjB6lB,EAAR,EAAQA,qBAAsB6E,EAA9B,EAA8BA,yCAA0CE,EAAxE,EAAwEA,qBAIxE,GAA6C,UAAzC5qB,EAAMpC,iBAAiBhC,gBAA8BiqB,EAAsB,CAC7E,IAAMse,EACJnkC,EAAMpC,iBAAiBC,uBACuC3C,IAA9D8E,EAAMpC,iBAAiBE,oCACuC,IAA9DkC,EAAMpC,iBAAiBE,mCACnB,6GACA,oGACN,OACE,YAACmmC,GAAD,KACE,uBACE,YAAC,GAAD,CACE/jC,KAAK,UACL4M,MAAM,6DACNwB,KAAM61B,IAER,YAAC,GAAD,KACE,YAAC,GAAD,CAAY34B,QAAS,kBAAMs4B,EAAyB,UAApD,oCAEF,YAAC,GAAD,KACE,YAACzS,GAAD,CAAqB9mB,GAAG,eAAeD,MAAM,eAOvD,OACE,YAAC25B,GAAD,KACE,YAAC,GAAD,CACErY,aACE,YAAC,GAAD,CACEhuB,iBAAkBoC,EAAMpC,iBACxB6U,SAAmD,UAAzCzS,EAAMpC,iBAAiBhC,cACjCioC,uBAAwBA,EACxBC,yBAA0BA,IAG9BjY,eAC2C,UAAzC7rB,EAAMpC,iBAAiBhC,eACrB,YAAC,GAAD,CACE8uB,yCAA0CA,EAC1CE,qBAAsBA,EACtBkZ,yBAA0BA,Q,UE7DlC3yB,GAAYJ,GAAkBhB,GAAUC,GAAcC,GAAeE,GAAU,GAAIC,GAAU,KAE7Fg0B,GAAaC,aAAgB,CACjC7sC,MAAO,uBACP8sC,QAAS,CACPnpC,qBAAsB,SAACopC,EAAD,OAAgBppC,EAAhB,EAAgBA,qBAAhB,YACOD,IAA3BiW,GAAUozB,GACNl1B,GAAmB,GAAKL,GAAkBu1B,IAC1CppC,MAgFV,IAAM5E,GAAS,CACbJ,UAAWob,YAAI,CACb7E,QAAS,OACTqU,cAAe,YAIJyjB,GA1Ef,YAAgH,IAAlFxmC,EAAiF,EAAjFA,eAAgByU,EAAiE,EAAjEA,SAAUgyB,EAAuD,EAAvDA,qBAAsBC,EAAiC,EAAjCA,uBACtEvU,EAAgB,CACpBh1B,qBAAsBkU,GAAmBrR,EAAe7C,sBACxDF,qBAAsBoU,GAAmBrR,EAAe/C,uBAGpDsyB,EAAW,SAAC6C,GAChB,IAAQj1B,EAA+Ci1B,EAA/Cj1B,qBAAsBF,EAAyBm1B,EAAzBn1B,qBAE9BwpC,EAAqB,CACnBtpC,qBAAsB6T,GAAkB7T,GACxCF,qBAAsB+T,GAAkB/T,MAS5C,OACE,YAAC,KAAD,CACEo1B,SAPa,SAACD,GAChB7C,EAAS6C,GACTsU,EAAuB,UAMrBC,WAAY,CAACP,IACbjU,cAAeA,EAIfG,mBAAoB,kBAAM,KAEzB,gBAAGC,EAAH,EAAGA,aAAczC,EAAjB,EAAiBA,oBAAqB1B,EAAtC,EAAsCA,aAAtC,OACC,oBAAMiE,SAAUE,EAAchf,IAAKhb,GAAOJ,WACxC,YAAC,GAAD,CAAco3B,SAAUA,IACxB,YAAC6F,GAAD,KACE,YAAC,GAAD,CACElF,UAAU,uBACV5jB,MAAM,6DACNmI,SAAUA,EACVtB,UAAWA,KAEb,YAAC,GAAD,CACE+c,UAAU,uBACV5jB,MAAM,iEACNmI,UAAU,EACVla,MAAM,YAITka,EACC,YAAC,GAAD,KACE,YAAC4e,GAAD,CAAqB9mB,GAAG,iBAAiBD,MAAM,aAGjD,YAAC,GAAD,KACE,YAAC,GAAD,CACEwjB,oBAAqBA,EACrB1B,aAAcA,EACd/M,aAAa,kGC9C7B,IAAM9oB,GAAS,CACbJ,UAAWob,YAAI,CACb5P,SAAU,IACVgQ,UAAW,KAEbke,KAAMte,YAAI,CACRI,UAAW,GACXH,aAAc,GACdwa,UAAW,YAIA4Y,GAtDf,YAKW,IAJT7Z,EAIQ,EAJRA,6BACAF,EAGQ,EAHRA,2CACAI,EAEQ,EAFRA,mBACAyZ,EACQ,EADRA,uBAEMhJ,OAC6BxgC,IAAjC6vB,OACI7vB,EACiC,YAAjC6vB,EACA,mDACiC,WAAjCA,EACA,yCACA,wCACN,OACE,mBAAKxZ,IAAKhb,GAAOJ,WACf,YAAC,GAAD,CACEqlC,eAAe,8BACfC,mBACiDvgC,IAA/C2vB,EACIvb,OAAOub,GACP,KAEN6Q,cAAeA,EACfC,gBAAgB,yBAChBC,qBAAwC1gC,IAAvB+vB,EAAmCA,EAAqB,MAAQ,MACjFlS,iCACmC7d,IAAjC6vB,GAA+E,YAAjCA,OAC1C7vB,EACiC,WAAjC6vB,EACA,SACA,WAIR,iBAAGxZ,IAAKhb,GAAOs5B,MACb,YAAC,GAAD,CAAYrkB,QAAS,kBAAMk5B,EAAuB,UAAlD,sCCcR,SAASG,GAAT,GAAoE,IAAtC9hC,EAAqC,EAArCA,SAC5B,OACE,YAAC,GAAD,CACE+J,MAAM,8GACNC,QAAQ,oIAEPhK,GAKQ+hC,IC3EAA,GDsBf,YAAqD,IAA3B9kC,EAA0B,EAA1BA,MAAOogB,EAAmB,EAAnBA,SAC/BrS,GAHY,yCAKZ,IAAM02B,EAAuBrhC,uBAC3B,SAACjD,GAAD,OAAoCigB,EAAS,CAAElgB,KAAM,uBAAwBC,WAC7E,CAACigB,IAGGskB,EAAyBthC,uBAC7B,SAAC/C,GAAD,OAAsB+f,EAAS,CAAElgB,KAAM,yBAA0BG,YACjE,CAAC+f,IAGH,EACE0K,GAAqB9qB,GADf+qB,EAAR,EAAQA,6BAA8BF,EAAtC,EAAsCA,2CAA4CI,EAAlF,EAAkFA,mBAGlF,OACE,YAAC4Z,GAAD,KACE,YAAC,GAAD,CACEjZ,aACE,YAAC,GAAD,CACE5tB,eAAgBgC,EAAMhC,eACtByU,SAAiD,UAAvCzS,EAAMhC,eAAepC,cAC/B6oC,qBAAsBA,EACtBC,uBAAwBA,IAG5B7Y,eACyC,UAAvC7rB,EAAMhC,eAAepC,eACnB,YAAC,GAAD,CACEmvB,6BAA8BA,EAC9BF,2CAA4CA,EAC5CI,mBAAoBA,EACpByZ,uBAAwBA,QEftC,IAAMnuC,GAAS,CACb+a,UAAWC,YAAI,CACbC,aAAc,KAEhBlH,MAAOiH,YAAI,CACTnZ,SAAU,GACVzB,WAAY,OACZwB,WAAY,SAEdsZ,WAAYF,YAAI,CACd3a,MAAOsK,EAAa9K,OAAOkL,QAE7BoQ,SAAUH,YAAI,CACZ9a,OAAQ,GACRkb,UAAW,EACXH,aAAc,EACd9E,QAAS,OACTkF,OAAQ,CACNC,aAAc,EACdC,OAAQ,YACR9G,MAAO,UAGX1J,MAAOiQ,YAAI,CACT9a,OAAQ,GACRG,MAAOsK,EAAa9K,OAAOkL,MAC3BlJ,SAAU,GACV+S,eAAgB,YAChBhT,WAAY,SAEd4Z,UAAWR,YAAI,CACbS,SAAU,EACVhG,WAAY,EACZiG,UAAW,OACXC,YAAa,GACbC,aAAc,GAEdC,gBAAiB,QACjBP,aAAc,EAEdzZ,SAAU,GACVD,WAAY,OAEZ+T,SAAU,OACVmG,OAAQ,iBAIG0yB,GAhFf,YAAiG,IAA9EtpC,EAA6E,EAA7EA,KAAM6O,EAAuE,EAAvEA,MAAOmI,EAAgE,EAAhEA,SAC9B,OACE,YAAC,KAAD,CAAOhX,KAAMA,EAAMiX,SAAU3C,GAAU4C,UAAU,WAC9C,gBAAGE,EAAH,EAAGA,MAAOE,EAAV,EAAUA,KAAV,OACC,mBAAKxB,IAAKhb,GAAO+a,WACf,qBAAOC,IAAK,CAAChb,GAAO+T,MAAOyI,EAAKzR,OAASyR,EAAKC,SAAWzc,GAAOkb,YAAawB,QAASJ,EAAMpX,MACzF6O,GAEFmI,EACC,mBAAKlB,IAAKhb,GAAOmb,UACf,mBAAKH,IAAKhb,GAAOwb,WAAYc,EAAMlZ,QAGrC,YAAC,WAAD,KACE,mBAAK4X,IAAKhb,GAAOmb,UACf,qBAAYmB,EACTmyB,GAAa9rC,KAAI,SAACiF,GAAD,OAChB,sBAAQxE,MAAOwE,EAAShF,IAAKgF,GAC1BA,QAKR4U,EAAKzR,OAASyR,EAAKC,SAAW,iBAAGzB,IAAKhb,GAAO+K,OAAf,4DA2DvC0jC,GAAe,CACnB,GACA,iHACA,0BACA,yEACA,0CACA,4BACA,0CACA,2CACA,+BACA,uDACA,6BACA,0DACA,kFACA,2CACA,4CACA,6FACA,uCACA,mCACA,6CACA,oDACA,2DACA,8DACA,4CACA,iCACA,mCACA,uCACA,6CACA,gDACA,8DACA,+CACA,mCACA,mDACA,8DACA,sCACA,yFACA,iEACA,2BACA,iCACA,8BACA,oCACA,iCACA,iCACA,yCACA,qCACA,yCACA,0DACA,iEACA,0HACA,2FACA,yEACA,gCACA,6BACA,kDACA,qEACA,qEACA,oEACA,mEACA,uEACA,uBACA,uFACA,6DACA,yDACA,8DACA,oDACA,mDACA,yDACA,uEACA,4DACA,iCACA,kCACA,kDACA,4CACA,oBACA,qDACA,+CACA,2EACA,8CACA,oDACA,yBACA,gFACA,gDACA,gCACA,uEACA,kDACA,wDACA,+CACA,6EACA,6DACA,wDACA,4DACA,4DACA,6CACA,wBACA,qDACA,wEACA,mCACA,+BACA,uCACA,sDACA,sDACA,yDACA,mBACA,kCACA,iDACA,6DACA,6CACA,qDACA,0DACA,mEACA,gDACA,+CACA,kDACA,iDACA,kDACA,4DACA,8CACA,0DACA,sDACA,qFACA,4EACA,qCACA,4DACA,mCACA,yDACA,gDACA,6DACA,4CACA,yGACA,8CACA,8CACA,2CACA,sCACA,8CACA,+EACA,+CACA,yCACA,gEACA,kCACA,qCACA,yCACA,4CACA,0CACA,0BACA,mCACA,0CACA,mDACA,uEACA,+EACA,sEACA,0DACA,yDACA,oDACA,wEACA,+DACA,wEACA,kEACA,6CACA,iCACA,6CACA,0DACA,kEACA,2DACA,0DACA,oDACA,uDACA,4FACA,8DACA,uFACA,mFACA,sFACA,qCACA,wDACA,sCACA,0CACA,6FACA,mDACA,mDACA,sFACA,oFACA,8DACA,2EACA,4EACA,uDACA,iCACA,6CACA,yEACA,0EACA,yDACA,qDACA,kDACA,gFACA,wDACA,4CACA,+EACA,yBACA,kGACA,2CACA,6CACA,sDACA,mCACA,+CACA,yCACA,6DACA,oCACA,2DACA,yEACA,6BACA,4BACA,2CACA,mDACA,gFACA,4DACA,mFACA,qFACA,oHACA,+CACA,uEACA,sCACA,qDACA,0BACA,qCACA,sCACA,kDACA,+CACA,2CACA,0EACA,6DACA,uFACA,4CACA,6DACA,wDACA,sDACA,gEACA,6EACA,yDACA,iEACA,kEACA,mEACA,sBACA,yIACA,iEACA,8DACA,wFACA,mFACA,kEACA,uDACA,qFACA,mEACA,gEACA,yDACA,kEACA,4DACA,wGACA,qEACA,uDACA,yDACA,+EACA,+CACA,kEACA,0IACA,qEACA,oFACA,qFACA,+DACA,+DACA,wEACA,gDACA,0DACA,wEACA,qEACA,gEACA,8EACA,mFACA,gDACA,4DACA,oDACA,oDACA,uFACA,2DACA,+DACA,gDACA,kFACA,oDACA,6DACA,qCACA,wEACA,mEACA,0DACA,6CACA,kCACA,iEACA,gFACA,6BACA,8DACA,iFACA,gDACA,2CACA,yCACA,wEACA,mCACA,+CACA,yDACA,iDACA,qEACA,sEACA,yDACA,+CACA,2EACA,6EACA,iDACA,uFACA,oEACA,6HACA,+HACA,0CACA,yCACA,4CACA,wCACA,6CACA,6DACA,yDACA,wEACA,qDACA,oDACA,iDACA,6CACA,qEACA,iEACA,2CACA,qDACA,uEACA,iDACA,+CACA,0DACA,6CACA,iDACA,8CACA,gDACA,uEACA,yCACA,gDACA,mDACA,oFACA,yDACA,mEACA,oCACA,wEACA,wEACA,+BACA,iEACA,qEACA,iEACA,kFACA,+BACA,gDACA,mCACA,6CACA,6DACA,wCACA,yDACA,2CACA,sCACA,gCACA,oDACA,4CACA,2DACA,qFACA,4DACA,qEACA,yEACA,sDACA,4EACA,wEACA,yDACA,8DACA,mDACA,0JACA,0CACA,8GACA,iFACA,oGACA,4FACA,6GACA,0CACA,iFACA,iGACA,8CACA,mEACA,oJACA,6EACA,0EACA,0EACA,gFACA,gFACA,wFACA,+EACA,mIACA,oEACA,uFACA,yFACA,+FACA,gGACA,4FACA,gFACA,yFACA,oEACA,uFACA,0FACA,uGACA,kGACA,oFACA,2GACA,iGACA,mFACA,0IACA,yIACA,gFACA,2EACA,4HACA,8GACA,8EACA,sGACA,qFACA,4GACA,iIACA,+FACA,iFACA,mGACA,+GACA,yEACA,yGACA,8EACA,4FACA,mFACA,6EACA,yDACA,kDACA,yBACA,2BACA,oCACA,2BACA,2BACA,yEACA,qFACA,2GACA,qGACA,kGACA,yEACA,4FACA,kFACA,2EACA,4HACA,wGACA,+FACA,yEACA,gHACA,+GACA,sHACA,+FACA,4CACA,kEACA,uEACA,sFACA,oGACA,iFACA,+EACA,2EACA,iDACA,yEACA,yFACA,wGACA,uGACA,qJACA,sGACA,4CACA,8DACA,kEACA,gEACA,6EACA,6GACA,yEACA,2DACA,8DACA,+BACA,iHACA,0DACA,2CACA,yDACA,6CACA,yDACA,mDACA,gEACA,oDACA,uDACA,8CACA,0CACA,oCACA,2DACA,sDACA,4CACA,uCACA,8CACA,yCACA,+BACA,gDACA,oDACA,0DACA,uDACA,0DACA,iCACA,qCACA,oCACA,yDACA,qFACA,uDACA,iDACA,iFACA,kFACA,kCACA,uCACA,sDACA,uCACA,kCACA,gDACA,kDACA,iCACA,gCACA,kEACA,kCACA,kDACA,4CACA,+CACA,8DACA,6EACA,+CACA,yEACA,gEACA,iDACA,4GACA,uDACA,+CACA,qDACA,wDACA,uDACA,uDACA,mDACA,6CACA,6CACA,kDACA,0DACA,sCACA,6DACA,6EACA,iDACA,6CACA,6EACA,6BACA,8CACA,gDACA,2CACA,mDACA,mDACA,sEACA,0BACA,2CACA,sGACA,yBACA,6BACA,0BACA,+BACA,mDACA,gEACA,iEACA,iHACA,iDACA,6DACA,iFACA,4BACA,2DACA,iCACA,8DACA,mCACA,kEACA,mEACA,mCACA,mCACA,8CACA,2DACA,mEACA,uCACA,2CACA,+CACA,4CACA,sDACA,wDACA,iFACA,uEACA,oDACA,8CACA,8CACA,qDACA,wCACA,2CACA,6DACA,iFACA,2CACA,4FACA,4FACA,gDACA,uEACA,6DACA,8EACA,6EACA,wFACA,0FACA,0EACA,4EACA,oGACA,+IACA,sEACA,0DACA,8DACA,8CACA,uCACA,sEACA,oDACA,mEACA,qCACA,wEACA,8CACA,qFACA,iEACA,mDACA,8CACA,yDACA,kHACA,4CACA,uEACA,sIACA,2CACA,iEACA,kDACA,sJACA,6EACA,qCACA,sBACA,mBACA,4DACA,yCACA,kEACA,oDACA,2CACA,wCACA,iCACA,iDACA,8DACA,yDACA,qCACA,8EACA,iCACA,uCACA,wCACA,gCACA,uDACA,yCACA,0DACA,kEACA,sCACA,+DACA,6BACA,sBACA,gDACA,oDACA,2DACA,qHACA,qEACA,sEACA,sEACA,+GACA,+EACA,kDACA,4DACA,8DACA,gEACA,2GACA,8BACA,6GACA,+BACA,qCACA,iFACA,0FACA,qDACA,oCACA,uDACA,+DACA,wCACA,2CACA,wDACA,iCACA,iGACA,uFACA,sDACA,6CACA,2CACA,wDACA,iDACA,wEACA,+DACA,oEACA,2DACA,qDACA,sDACA,qDACA,wEACA,+EACA,2DACA,mEACA,2GACA,6DACA,iEACA,kEACA,kEACA,6CACA,kDACA,oBACA,8BACA,kCACA,8BACA,6CACA,qFACA,gHACA,mHACA,2ECxyBIC,GAAgC,SAACtrC,GAAD,OACnB,IAAjBA,EAAM4G,YAAerF,EAAY,gFAE7BgqC,G3FyFuB,SAACnsC,GAC5B,IAAIosC,EACAC,EACJ,OAAO,SAACC,GAKN,OAJIA,IAAQF,IACVA,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IACA,oZAGJ,CACED,SACE,oJACFC,QAAS,CACP,8WACA,oaAGJ,CACED,SACE,iMACFC,QAAS,CACP,kGACA,gKACA,sJACA,uTAGJ,CACED,SACE,iMACFC,QAAS,CACP,mTACA,0OACA,gIAGJ,CACED,SACE,mPACFC,QAAS,CACP,sQAKRC,iBAAkB,CAChB7jC,MAAO,gCACP0jC,GAAI,CACF,CACEC,SACE,mMACFC,QAAS,CACP,6XACA,uZAEA,0XACA,uSACA,+QAGJ,CACED,SAAU,oGACVC,QAAS,CACP,kiBAKR5rB,UAAW,CACThY,MAAO,kEACP0jC,GAAI,CACF,CACEC,SAAU,4FACVC,QAAS,CACP,uLACA,+eACA,0KAGJ,CACED,SACE,2NACFC,QAAS,CACP,ilBACA,6NAGJ,CACED,SACE,wJACFC,QAAS,CAAC,sGAEZ,CACED,SACE,2PACFC,QAAS,CACP,6gBACA,yFACA,wIAGJ,CACED,SACE,mNACFC,QAAS,CACP,oTAGJ,CACED,SAAU,sGACVC,QAAS,CACP,+LAGJ,CACED,SACE,iIACFC,QAAS,CACP,qaAGJ,CACED,SACE,sPACFC,QAAS,CACP,2UACA,+JAGJ,CACED,SACE,uHACFC,QAAS,CACP,kLAGJ,CACED,SACE,qJACFC,QAAS,CAAC,qGAEZ,CACED,SACE,wQACFC,QAAS,CACP,mKACA,0TAGJ,CACED,SAAU,0GACVC,QAAS,CACP,2RAKRE,aAAc,CACZ9jC,MAAO,yDACP0jC,GAAI,CACF,CACEC,SACE,0HACFC,QAAS,CACP,sYACA,qVACA,oHACA,wYAGJ,CACED,SAAU,kFACVC,QAAS,CACP,6bACA,6MACA,yQAGJ,CACED,SACE,uIACFC,QAAS,CACP,yPAGJ,CACED,SAAU,gHACVC,QAAS,CACP,0NACA,+MACA,sPAGJ,CACED,SAAU,0HACVC,QAAS,CACP,oMACA,uPAGJ,CACED,SACE,uJACFC,QAAS,CACP,4pBACA,8UACA,0LAGJ,CACED,SACE,kNACFC,QAAS,CACP,+gBAGJ,CACED,SACE,iMACFC,QAAS,CACP,+bAGJ,CACED,SACE,wOACFC,QAAS,CACP,uIACA,sMAGJ,CACED,SACE,qLACFC,QAAS,CACP,mLAGJ,CACED,SACE,oIACFC,QAAS,CACP,0XACA,8VAKRrzB,YAAa,CACXvQ,MAAO,8CACP0jC,GAAI,CACF,CACEC,SACE,wJACFC,QAAS,CACP,oeACA,wIAGJ,CACED,SACE,+WACFC,QAAS,CACP,oXACA,gRAGJ,CACED,SACE,kLACFC,QAAS,CACP,uRACA,0RACA,yJACA,4UACA,2NAGJ,CACED,SACE,oQACFC,QAAS,CACP,mfAGJ,CACED,SAAU,iHACVC,QAAS,CACP,swBACA,0MAGJ,CACED,SAAU,iHACVC,QAAS,CAAC,qHAEZ,CACED,SAAU,mGACVC,QAAS,CACP,6JAGJ,CACED,SAAU,8DACVC,QAAS,CACP,+HACA,qEACA,gLACA,8QACA,sUAGJ,CACED,SACE,0HACFC,QAAS,CACP,4MACA,mDACA,kGACA,qKAKR3yB,YAAa,CACXjR,MAAO,qDACP0jC,GAAI,CACF,CACEC,SACE,iNACFC,QAAS,CACP,ynBAGJ,CACED,SACE,sYACFC,QAAS,CACP,yPAGJ,CACED,SACE,oPACFC,QAAS,CACP,oVACA,sSAKRzyB,YAAa,CACXnR,MAAO,8CACP0jC,GAAI,CACF,CACEC,SACE,wHACFC,QAAS,CACP,gPACA,4QACA,mPAGJ,CACED,SACE,4RACFC,QAAS,CACP,4oBAGJ,CACED,SACE,iNACFC,QAAS,CACP,mWAGJ,CACED,SACE,kPACFC,QAAS,CACP,oVACA,oSAKRxyB,eAAgB,CACdpR,MAAO,sDACP0jC,GAAI,CACF,CACEC,SACE,yNACFC,QAAS,CACP,gaAGJ,CACED,SACE,sYACFC,QAAS,CACP,yPAGJ,CACED,SACE,0MACFC,QAAS,CACP,mTACA,i4BAGJ,CACED,SACE,uQACFC,QAAS,CACP,oVACA,yIAKRG,YAAa,CACX/jC,MAAO,qCACP0jC,GAAI,CACF,CACEC,SACE,yKACFC,QAAS,CACP,+eACA,wTACA,uWACA,mWAGJ,CACED,SAAU,8GACVC,QAAS,CACP,+jBAGJ,CACED,SACE,4OACFC,QA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","file":"static/js/main.13081bfe.chunk.js","sourcesContent":["export type AppState = {\n  informations: {\n    formValidated: FormState\n    nomEntreprise: string\n    trancheEffectifs: TrancheEffectifs\n    anneeDeclaration: number | undefined\n    finPeriodeReference: string\n  }\n  effectif: {\n    formValidated: FormState\n    nombreSalaries: Array<GroupeEffectif>\n  }\n  indicateurUn: {\n    formValidated: FormState\n    csp: boolean\n    coef: boolean\n    autre: boolean\n    remunerationAnnuelle: Array<GroupeIndicateurUn>\n    coefficientGroupFormValidated: FormState\n    coefficientEffectifFormValidated: FormState\n    coefficient: Array<GroupeCoefficient>\n  }\n  indicateurDeux: {\n    formValidated: FormState\n    presenceAugmentation: boolean\n    tauxAugmentation: Array<GroupeIndicateurDeux>\n  }\n  indicateurTrois: {\n    formValidated: FormState\n    presencePromotion: boolean\n    tauxPromotion: Array<GroupeIndicateurTrois>\n  }\n  indicateurDeuxTrois: {\n    formValidated: FormState\n    presenceAugmentationPromotion: boolean\n    nombreAugmentationPromotionFemmes: number | undefined\n    nombreAugmentationPromotionHommes: number | undefined\n    periodeDeclaration: PeriodeDeclaration\n  }\n  indicateurQuatre: {\n    formValidated: FormState\n    presenceCongeMat: boolean\n    nombreSalarieesPeriodeAugmentation: number | undefined\n    nombreSalarieesAugmentees: number | undefined\n  }\n  indicateurCinq: {\n    formValidated: FormState\n    nombreSalariesHommes: number | undefined\n    nombreSalariesFemmes: number | undefined\n  }\n  informationsEntreprise: {\n    formValidated: FormState\n    nomEntreprise: string\n    siren: string\n    codeNaf: string\n    region: string\n    departement: string\n    adresse: string\n    codePostal: string\n    commune: string\n    structure: Structure\n    nomUES: string\n    nombreEntreprises: number | undefined\n    entreprisesUES: Array<EntrepriseUES>\n  }\n  informationsDeclarant: {\n    formValidated: FormState\n    nom: string\n    prenom: string\n    tel: string\n    email: string\n    acceptationCGU: boolean\n  }\n  declaration: {\n    formValidated: FormState\n    mesuresCorrection: string\n    cseMisEnPlace: boolean | undefined\n    dateConsultationCSE: string\n    datePublication: string\n    publicationSurSiteInternet: boolean | undefined\n    lienPublication: string\n    modalitesPublication: string\n    dateDeclaration: string\n    noteIndex: number | undefined\n    totalPoint: number\n    totalPointCalculable: number\n  }\n}\n\nexport type PeriodeDeclaration = \"unePeriodeReference\" | \"deuxPeriodesReference\" | \"troisPeriodesReference\"\n\nexport type TrancheEffectifs = \"50 à 250\" | \"251 à 999\" | \"1000 et plus\"\n\nexport type FormState = \"None\" | \"Valid\" | \"Invalid\"\n\nexport type Structure = \"Entreprise\" | \"Unité Economique et Sociale (UES)\"\n\nexport interface EntrepriseUES {\n  nom: string\n  siren: string\n}\n\nexport type ActionType =\n  | {\n      type: \"resetState\"\n    }\n  | {\n      type: \"initiateState\"\n      data: any\n    }\n  | {\n      type: \"updateInformationsSimulation\"\n      data: ActionInformationsSimulationData\n    }\n  | {\n      type: \"validateInformationsSimulation\"\n      valid: FormState\n    }\n  | {\n      type: \"updateEffectif\"\n      data: ActionEffectifData\n    }\n  | {\n      type: \"validateEffectif\"\n      valid: FormState\n    }\n  | {\n      type: \"updateIndicateurUnType\"\n      data: ActionIndicateurUnTypeData\n    }\n  | {\n      type: \"updateIndicateurUnCsp\"\n      data: ActionIndicateurUnCspData\n    }\n  | {\n      type: \"updateIndicateurUnCoefAddGroup\"\n    }\n  | {\n      type: \"updateIndicateurUnCoefDeleteGroup\"\n      index: number\n    }\n  | {\n      type: \"updateIndicateurUnCoef\"\n      data: ActionIndicateurUnCoefData\n    }\n  | {\n      type: \"validateIndicateurUnCoefGroup\"\n      valid: FormState\n    }\n  | {\n      type: \"validateIndicateurUnCoefEffectif\"\n      valid: FormState\n    }\n  | {\n      type: \"validateIndicateurUn\"\n      valid: FormState\n    }\n  | {\n      type: \"updateIndicateurDeux\"\n      data: ActionIndicateurDeuxData\n    }\n  | {\n      type: \"validateIndicateurDeux\"\n      valid: FormState\n    }\n  | {\n      type: \"updateIndicateurTrois\"\n      data: ActionIndicateurTroisData\n    }\n  | {\n      type: \"validateIndicateurTrois\"\n      valid: FormState\n    }\n  | {\n      type: \"updateIndicateurDeuxTrois\"\n      data: ActionIndicateurDeuxTroisData\n    }\n  | {\n      type: \"validateIndicateurDeuxTrois\"\n      valid: FormState\n    }\n  | {\n      type: \"updateIndicateurQuatre\"\n      data: ActionIndicateurQuatreData\n    }\n  | {\n      type: \"validateIndicateurQuatre\"\n      valid: FormState\n    }\n  | {\n      type: \"updateIndicateurCinq\"\n      data: ActionIndicateurCinqData\n    }\n  | {\n      type: \"validateIndicateurCinq\"\n      valid: FormState\n    }\n  | {\n      type: \"updateInformationsEntreprise\"\n      data: ActionInformationsEntrepriseData\n    }\n  | {\n      type: \"validateInformationsEntreprise\"\n      valid: FormState\n    }\n  | {\n      type: \"updateInformationsDeclarant\"\n      data: ActionInformationsDeclarantData\n    }\n  | {\n      type: \"validateInformationsDeclarant\"\n      valid: FormState\n    }\n  | {\n      type: \"updateDeclaration\"\n      data: ActionDeclarationData\n    }\n  | {\n      type: \"validateDeclaration\"\n      valid: FormState\n      effectifData: DeclarationEffectifData\n      indicateurUnData: DeclarationIndicateurUnData\n      indicateurDeuxData: DeclarationIndicateurDeuxData\n      indicateurTroisData: DeclarationIndicateurTroisData\n      indicateurDeuxTroisData: DeclarationIndicateurDeuxTroisData\n      indicateurQuatreData: DeclarationIndicateurQuatreData\n      indicateurCinqData: DeclarationIndicateurCinqData\n      noteIndex: number | undefined\n      totalPoint: number\n      totalPointCalculable: number\n    }\n  | {\n      type: \"updateEmailDeclarant\"\n      data: ActionEmailDeclarantData\n    }\n\nexport type ActionInformationsSimulationData = {\n  nomEntreprise: string\n  trancheEffectifs: TrancheEffectifs\n  anneeDeclaration: number | undefined\n  finPeriodeReference: string\n}\n\nexport type ActionEffectifData = {\n  nombreSalaries: Array<GroupeEffectif>\n}\n\nexport type DeclarationEffectifData = {\n  nombreSalariesTotal: number\n}\n\nexport type ActionIndicateurUnTypeData = {\n  csp: boolean\n  coef: boolean\n  autre: boolean\n}\n\nexport type ActionIndicateurUnCspData = {\n  remunerationAnnuelle: Array<GroupeIndicateurUn>\n}\n\nexport type ActionIndicateurUnCoefData = {\n  coefficient:\n    | Array<{ name: string }>\n    | Array<{\n        tranchesAges: Array<GroupTranchesAgesEffectif>\n      }>\n    | Array<{\n        tranchesAges: Array<GroupTranchesAgesIndicateurUn>\n      }>\n}\n\nexport type DeclarationIndicateurUnData = {\n  nombreCoefficients: number | undefined\n  nonCalculable: boolean\n  motifNonCalculable: string\n  motifNonCalculablePrecision: string\n  remunerationAnnuelle: Array<GroupeIndicateurUn>\n  coefficient: Array<GroupeCoefficient>\n  resultatFinal: number | undefined\n  sexeSurRepresente: undefined | \"femmes\" | \"hommes\"\n  noteFinale: number | undefined\n}\n\nexport type ActionIndicateurDeuxData = {\n  presenceAugmentation: boolean\n  tauxAugmentation: Array<GroupeIndicateurDeux>\n}\n\nexport type DeclarationIndicateurDeuxData = {\n  nonCalculable: boolean\n  motifNonCalculable: string\n  motifNonCalculablePrecision: string\n  tauxAugmentation: Array<GroupeIndicateurDeux>\n  resultatFinal: number | undefined\n  sexeSurRepresente: undefined | \"femmes\" | \"hommes\"\n  noteFinale: number | undefined\n  mesuresCorrection: boolean\n}\n\nexport type ActionIndicateurTroisData = {\n  presencePromotion: boolean\n  tauxPromotion: Array<GroupeIndicateurTrois>\n}\n\nexport type DeclarationIndicateurTroisData = {\n  nonCalculable: boolean\n  motifNonCalculable: string\n  motifNonCalculablePrecision: string\n  tauxPromotion: Array<GroupeIndicateurTrois>\n  resultatFinal: number | undefined\n  sexeSurRepresente: undefined | \"femmes\" | \"hommes\"\n  noteFinale: number | undefined\n  mesuresCorrection: boolean\n}\n\nexport type ActionIndicateurDeuxTroisData = {\n  presenceAugmentationPromotion: boolean\n  nombreAugmentationPromotionFemmes: number | undefined\n  nombreAugmentationPromotionHommes: number | undefined\n  periodeDeclaration: PeriodeDeclaration\n}\n\nexport type DeclarationIndicateurDeuxTroisData = {\n  nonCalculable: boolean\n  motifNonCalculable: string\n  motifNonCalculablePrecision: string\n  resultatFinalEcart: number | undefined\n  resultatFinalNombreSalaries: number | undefined\n  sexeSurRepresente: undefined | \"femmes\" | \"hommes\"\n  noteEcart: number | undefined\n  noteNombreSalaries: number | undefined\n  noteFinale: number | undefined\n  mesuresCorrection: boolean\n}\n\nexport type DateInterval = {\n  start: Date\n  end: Date\n}\n\nexport type ActionIndicateurQuatreData = {\n  presenceCongeMat: boolean\n  nombreSalarieesPeriodeAugmentation: number | undefined\n  nombreSalarieesAugmentees: number | undefined\n}\n\nexport type DeclarationIndicateurQuatreData = {\n  nonCalculable: boolean\n  motifNonCalculable: string\n  motifNonCalculablePrecision: string\n  resultatFinal: number | undefined\n  noteFinale: number | undefined\n}\n\nexport type ActionIndicateurCinqData = {\n  nombreSalariesHommes: number | undefined\n  nombreSalariesFemmes: number | undefined\n}\n\nexport type DeclarationIndicateurCinqData = {\n  resultatFinal: number | undefined\n  sexeSurRepresente: undefined | \"egalite\" | \"femmes\" | \"hommes\"\n  noteFinale: number | undefined\n}\n\nexport type ActionInformationsEntrepriseData = {\n  nomEntreprise: string\n  siren: string\n  codeNaf: string\n  region: string\n  departement: string\n  adresse: string\n  codePostal: string\n  commune: string\n  structure: Structure\n  nomUES: string\n  nombreEntreprises: number | undefined\n  entreprisesUES: Array<EntrepriseUES>\n}\n\nexport type ActionInformationsDeclarantData = {\n  nom: string\n  prenom: string\n  tel: string\n  email: string\n  acceptationCGU: boolean\n}\n\nexport type ActionDeclarationData = {\n  mesuresCorrection: string\n  cseMisEnPlace?: boolean | undefined\n  dateConsultationCSE: string\n  datePublication: string\n  publicationSurSiteInternet?: boolean | undefined\n  lienPublication: string\n  modalitesPublication: string\n}\n\nexport type ActionEmailDeclarantData = {\n  email: string\n}\n\n////\n\nexport enum TranchesAges {\n  MoinsDe30ans,\n  De30a39ans,\n  De40a49ans,\n  PlusDe50ans,\n}\n\nexport enum CategorieSocioPro {\n  Ouvriers,\n  Employes,\n  Techniciens,\n  Cadres,\n}\n\nexport interface GroupTranchesAgesEffectif {\n  trancheAge: TranchesAges\n  nombreSalariesFemmes: number | undefined\n  nombreSalariesHommes: number | undefined\n}\n\nexport interface GroupeEffectif {\n  categorieSocioPro: CategorieSocioPro\n  tranchesAges: Array<GroupTranchesAgesEffectif>\n}\n\nexport interface GroupTranchesAgesIndicateurUn {\n  trancheAge: TranchesAges\n  remunerationAnnuelleBrutFemmes: number | undefined\n  remunerationAnnuelleBrutHommes: number | undefined\n  ecartTauxRemuneration?: number | undefined\n}\n\nexport interface GroupeIndicateurUn {\n  categorieSocioPro: CategorieSocioPro\n  tranchesAges: Array<GroupTranchesAgesIndicateurUn>\n}\n\nexport interface GroupTranchesAgesCoefficient {\n  trancheAge: TranchesAges\n  nombreSalariesFemmes: number | undefined\n  nombreSalariesHommes: number | undefined\n  remunerationAnnuelleBrutFemmes: number | undefined\n  remunerationAnnuelleBrutHommes: number | undefined\n  ecartTauxRemuneration: number | undefined\n}\n\nexport interface GroupeCoefficient {\n  name: string\n  tranchesAges: Array<GroupTranchesAgesCoefficient>\n}\n\nexport interface GroupeIndicateurDeux {\n  categorieSocioPro: CategorieSocioPro\n  tauxAugmentationFemmes: number | undefined\n  tauxAugmentationHommes: number | undefined\n  ecartTauxAugmentation?: number | undefined\n}\n\nexport interface GroupeIndicateurTrois {\n  categorieSocioPro: CategorieSocioPro\n  tauxPromotionFemmes: number | undefined\n  tauxPromotionHommes: number | undefined\n  ecartTauxPromotion?: number | undefined\n}\n\n////////////\n\nexport type FAQPartType =\n  | \"champApplication\"\n  | \"periodeReference\"\n  | \"effectifs\"\n  | \"remuneration\"\n  | \"indicateur1\"\n  | \"indicateur2\"\n  | \"indicateur3\"\n  | \"indicateur2et3\"\n  | \"indicateur4\"\n  | \"publication\"\n\nexport type FAQPart = {\n  [key in FAQPartType]: {\n    title: string\n    qr: Array<{ question: string; reponse: Array<string> }>\n  }\n}\n\nexport type FAQSectionType =\n  | \"champApplication\"\n  | \"informations\"\n  | \"effectifs\"\n  | \"indicateur1\"\n  | \"indicateur2\"\n  | \"indicateur3\"\n  | \"indicateur2et3\"\n  | \"indicateur4\"\n  | \"indicateur5\"\n  | \"resultat\"\n\nexport type FAQSection = {\n  [key in FAQSectionType]: {\n    title: string\n    parts: Array<FAQPartType>\n  }\n}\n\nexport type EntrepriseType = {\n  raison_sociale?: string\n  code_naf?: string\n  région?: string\n  département?: string\n  adresse?: string\n  commune?: string\n  code_postal?: string\n}\n\nexport type AlertMessageType = {\n  text: string\n  kind: \"success\" | \"error\"\n} | null\n","import { createBreakpoints } from \"@chakra-ui/theme-tools\"\n\nconst tokens = {\n  fonts: {\n    heading: \"Cabin\",\n    body: \"Cabin\",\n    custom: \"Gabriela\",\n  },\n  breakpoints: createBreakpoints({\n    sm: \"30em\",\n    md: \"48em\",\n    lg: \"64rem\",\n    xl: \"80rem\",\n    \"2xl\": \"96em\",\n  }),\n  sizes: {\n    container: {\n      xl: \"1400px\",\n      lg: \"1024px\",\n      md: \"768px\",\n      sm: \"640px\",\n    },\n  },\n  colors: {\n    gray: {\n      50: \"#F8FAFC\",\n      100: \"#F1F5F9\",\n      200: \"#E2E8F0\",\n      300: \"#CBD5E1\",\n      400: \"#94A3B8\",\n      500: \"#64748B\",\n      600: \"#475569\",\n      700: \"#334155\",\n      800: \"#1E293B\",\n      900: \"#0F172A\",\n    },\n    primary: {\n      50: \"#f8f8fd\",\n      100: \"#f0f0fa\",\n      200: \"#dadaf3\",\n      300: \"#c3c4ec\",\n      400: \"#9698de\",\n      500: \"#696cd0\",\n      600: \"#5f61bb\",\n      700: \"#4f519c\",\n      800: \"#3f417d\",\n      900: \"#333566\",\n    },\n  },\n}\nexport default tokens\n","const styles = {\n  styles: {\n    global: {\n      \"html, body, #root\": {\n        height: \"100%\",\n      },\n      body: {\n        fontFamily: '\"Cabin\", -apple-system, sans-serif',\n        fontWeight: \"normal\",\n        color: \"gray.700\",\n      },\n      \"#root\": {\n        background: \"linear-gradient(#eff0fa,#fff)\",\n      },\n      a: {\n        color: \"primary.500\",\n      },\n    },\n  },\n}\nexport default styles\n","import { StyleFunctionProps } from \"@chakra-ui/theme-tools\"\nimport defaultTheme from \"@chakra-ui/theme\"\n\nconst components = {\n  components: {\n    Button: {\n      baseStyle: {\n        fontWeight: \"normal\",\n      },\n    },\n\n    Heading: {\n      baseStyle: {\n        fontWeight: \"semibold\",\n        color: \"gray.700\",\n      },\n    },\n\n    Input: {\n      variants: {\n        outline: (props: StyleFunctionProps) => ({\n          ...defaultTheme.components.Input.variants.outline(props),\n          field: {\n            ...defaultTheme.components.Input.variants.outline(props).field,\n            borderColor: \"gray.400\",\n            background: \"white\",\n            _readOnly: {\n              background: \"primary.200\",\n              borderColor: \"transparent\",\n            },\n          },\n        }),\n        outlinePrimary: (props: StyleFunctionProps) => ({\n          ...defaultTheme.components.Input.variants.outline(props),\n          field: {\n            ...defaultTheme.components.Input.variants.outline(props).field,\n            borderColor: \"primary.400\",\n            background: \"primary.50\",\n            _hover: {\n              borderColor: \"primary.500\",\n            },\n            _placeholder: {\n              color: \"primary.400\",\n            },\n            _readOnly: {\n              background: \"primary.200\",\n              borderColor: \"transparent\",\n            },\n          },\n        }),\n      },\n    },\n\n    Select: {\n      variants: {\n        outline: (props: StyleFunctionProps) => ({\n          ...defaultTheme.components.Input.variants.outline(props),\n          field: {\n            ...defaultTheme.components.Input.variants.outline(props).field,\n            borderColor: \"gray.400\",\n            background: \"white\",\n            _readOnly: {\n              background: \"primary.200\",\n              borderColor: \"transparent\",\n            },\n          },\n        }),\n      },\n    },\n\n    Table: {\n      sizes: {\n        sm: {\n          th: {\n            px: \"2\",\n            py: \"2\",\n            lineHeight: \"1\",\n            fontSize: \"xs\",\n          },\n          td: {\n            px: \"2\",\n            py: \"1.5\",\n            fontSize: \"sm\",\n            lineHeight: \"1\",\n          },\n          caption: {\n            px: \"1\",\n            py: \"2\",\n            fontSize: \"xs\",\n          },\n        },\n      },\n    },\n  },\n}\n\nexport default components\n","import { extendTheme } from \"@chakra-ui/react\"\nimport tokens from \"./tokens\"\nimport globals from \"./globals\"\nimport components from \"./components\"\n\nconst theme = extendTheme({\n  config: {\n    initialColorMode: \"light\",\n    useSystemColorMode: false,\n  },\n  ...globals,\n  ...tokens,\n  ...components,\n})\n\nexport default theme\n","type EnumType = { [s: number]: string }\n\nexport default function mapEnum(enumerable: EnumType, fn: (key: number) => unknown): any[] {\n  // get all the members of the enum\n  const enumMembers: any[] = Object.keys(enumerable).map((key: any) => enumerable[key])\n\n  // we are only interested in the numeric identifiers as these represent the values\n  const enumValues: number[] = enumMembers.filter((v) => typeof v === \"number\")\n\n  // now map through the enum values\n  return enumValues.map((m) => fn(m))\n}\n","import deepmerge from \"deepmerge\"\n\n/*\nfunctions from deepmerge documentation\n*/\n\nexport const overwriteMerge = (destinationArray, sourceArray) => sourceArray\n\nconst emptyTarget = (value) => (Array.isArray(value) ? [] : {})\n\nconst clone = (value, options) => deepmerge(emptyTarget(value), value, options)\n\nexport const combineMerge = (target, source, options) => {\n  const destination = target.slice()\n\n  source.forEach((item, index) => {\n    if (typeof destination[index] === \"undefined\") {\n      const cloneRequested = options.clone !== false\n      const shouldClone = cloneRequested && options.isMergeableObject(item)\n      destination[index] = shouldClone ? clone(item, options) : item\n    } else if (options.isMergeableObject(item)) {\n      destination[index] = deepmerge(target[index], item, options)\n    } else if (target.indexOf(item) === -1) {\n      destination.push(item)\n    }\n  })\n  return destination\n}\n","import deepmerge from \"deepmerge\"\nimport { format } from \"date-fns\"\nimport { AppState, ActionType, CategorieSocioPro, TranchesAges, PeriodeDeclaration } from \"./globals\"\nimport mapEnum from \"./utils/mapEnum\"\nimport { overwriteMerge, combineMerge } from \"./utils/merge\"\n\nconst dataEffectif = mapEnum(CategorieSocioPro, (categorieSocioPro: CategorieSocioPro) => ({\n  categorieSocioPro,\n  tranchesAges: mapEnum(TranchesAges, (trancheAge: TranchesAges) => ({\n    trancheAge,\n    nombreSalariesFemmes: undefined,\n    nombreSalariesHommes: undefined,\n  })),\n}))\n\nconst dataIndicateurUnCsp = mapEnum(CategorieSocioPro, (categorieSocioPro: CategorieSocioPro) => ({\n  categorieSocioPro,\n  tranchesAges: mapEnum(TranchesAges, (trancheAge: TranchesAges) => ({\n    trancheAge,\n    remunerationAnnuelleBrutFemmes: undefined,\n    remunerationAnnuelleBrutHommes: undefined,\n    ecartTauxRemuneration: undefined,\n  })),\n}))\n\nconst dataIndicateurUnCoefGroup = {\n  name: \"\",\n  tranchesAges: mapEnum(TranchesAges, (trancheAge: TranchesAges) => ({\n    trancheAge,\n    nombreSalariesFemmes: undefined,\n    nombreSalariesHommes: undefined,\n    remunerationAnnuelleBrutFemmes: undefined,\n    remunerationAnnuelleBrutHommes: undefined,\n    ecartTauxRemuneration: undefined,\n  })),\n}\n\nconst dataIndicateurDeux = mapEnum(CategorieSocioPro, (categorieSocioPro: CategorieSocioPro) => ({\n  categorieSocioPro,\n  tauxAugmentationFemmes: undefined,\n  tauxAugmentationHommes: undefined,\n  ecartTauxAugmentation: undefined,\n}))\n\nconst dataIndicateurTrois = mapEnum(CategorieSocioPro, (categorieSocioPro: CategorieSocioPro) => ({\n  categorieSocioPro,\n  tauxPromotionFemmes: undefined,\n  tauxPromotionHommes: undefined,\n  ecartTauxPromotion: undefined,\n}))\n\nconst defaultState: AppState = {\n  informations: {\n    formValidated: \"None\",\n    nomEntreprise: \"\",\n    trancheEffectifs: \"50 à 250\",\n    anneeDeclaration: undefined,\n    finPeriodeReference: \"\",\n  },\n  effectif: {\n    formValidated: \"None\",\n    nombreSalaries: dataEffectif,\n  },\n  indicateurUn: {\n    formValidated: \"None\",\n    csp: true,\n    coef: false,\n    autre: false,\n    remunerationAnnuelle: dataIndicateurUnCsp,\n    coefficientGroupFormValidated: \"None\",\n    coefficientEffectifFormValidated: \"None\",\n    coefficient: [],\n  },\n  indicateurDeux: {\n    formValidated: \"None\",\n    presenceAugmentation: true,\n    tauxAugmentation: dataIndicateurDeux,\n  },\n  indicateurTrois: {\n    formValidated: \"None\",\n    presencePromotion: true,\n    tauxPromotion: dataIndicateurTrois,\n  },\n  indicateurDeuxTrois: {\n    formValidated: \"None\",\n    presenceAugmentationPromotion: true,\n    nombreAugmentationPromotionFemmes: undefined,\n    nombreAugmentationPromotionHommes: undefined,\n    periodeDeclaration: \"unePeriodeReference\" as PeriodeDeclaration,\n  },\n  indicateurQuatre: {\n    formValidated: \"None\",\n    presenceCongeMat: true,\n    nombreSalarieesPeriodeAugmentation: undefined,\n    nombreSalarieesAugmentees: undefined,\n  },\n  indicateurCinq: {\n    formValidated: \"None\",\n    nombreSalariesHommes: undefined,\n    nombreSalariesFemmes: undefined,\n  },\n  informationsEntreprise: {\n    formValidated: \"None\",\n    nomEntreprise: \"\",\n    siren: \"\",\n    codeNaf: \"\",\n    region: \"\",\n    departement: \"\",\n    adresse: \"\",\n    codePostal: \"\",\n    commune: \"\",\n    structure: \"Entreprise\",\n    nomUES: \"\",\n    nombreEntreprises: undefined,\n    entreprisesUES: [],\n  },\n  informationsDeclarant: {\n    formValidated: \"None\",\n    nom: \"\",\n    prenom: \"\",\n    tel: \"\",\n    email: \"\",\n    acceptationCGU: false,\n  },\n  declaration: {\n    formValidated: \"None\",\n    mesuresCorrection: \"\",\n    cseMisEnPlace: undefined,\n    dateConsultationCSE: \"\",\n    publicationSurSiteInternet: undefined,\n    datePublication: \"\",\n    lienPublication: \"\",\n    modalitesPublication: \"\",\n    dateDeclaration: \"\",\n    noteIndex: undefined,\n    totalPoint: 0,\n    totalPointCalculable: 0,\n  },\n}\n\nfunction AppReducer(state: AppState | undefined, action: ActionType): AppState | undefined {\n  if (action.type === \"resetState\") {\n    return undefined\n  }\n  if (action.type === \"initiateState\") {\n    return deepmerge(defaultState, action.data, {\n      arrayMerge: overwriteMerge,\n    })\n  }\n  if (!state) {\n    return state\n  }\n  switch (action.type) {\n    case \"updateInformationsSimulation\": {\n      const { nomEntreprise, trancheEffectifs, anneeDeclaration, finPeriodeReference } = action.data\n      if (trancheEffectifs !== state.informations.trancheEffectifs) {\n        return {\n          ...state,\n          informations: {\n            ...state.informations,\n            nomEntreprise,\n            anneeDeclaration,\n            trancheEffectifs,\n            finPeriodeReference,\n          },\n          effectif:\n            state.effectif.formValidated === \"Valid\" ? { ...state.effectif, formValidated: \"Invalid\" } : state.effectif,\n          indicateurUn:\n            state.indicateurUn.formValidated === \"Valid\"\n              ? { ...state.indicateurUn, formValidated: \"Invalid\" }\n              : state.indicateurUn,\n          indicateurDeux:\n            state.indicateurDeux.formValidated === \"Valid\"\n              ? { ...state.indicateurDeux, formValidated: \"Invalid\" }\n              : state.indicateurDeux,\n          indicateurTrois:\n            state.indicateurTrois.formValidated === \"Valid\"\n              ? { ...state.indicateurTrois, formValidated: \"Invalid\" }\n              : state.indicateurTrois,\n          indicateurDeuxTrois:\n            state.indicateurDeuxTrois.formValidated === \"Valid\"\n              ? { ...state.indicateurDeuxTrois, formValidated: \"Invalid\" }\n              : state.indicateurDeuxTrois,\n          indicateurQuatre:\n            state.indicateurQuatre.formValidated === \"Valid\"\n              ? { ...state.indicateurQuatre, formValidated: \"Invalid\" }\n              : state.indicateurQuatre,\n          indicateurCinq:\n            state.indicateurCinq.formValidated === \"Valid\"\n              ? { ...state.indicateurCinq, formValidated: \"Invalid\" }\n              : state.indicateurCinq,\n          informationsEntreprise:\n            state.informationsEntreprise.formValidated === \"Valid\"\n              ? { ...state.informationsEntreprise, formValidated: \"Invalid\" }\n              : state.informationsEntreprise,\n          informationsDeclarant:\n            state.informationsDeclarant.formValidated === \"Valid\"\n              ? { ...state.informationsDeclarant, formValidated: \"Invalid\" }\n              : state.informationsDeclarant,\n          declaration:\n            state.declaration.formValidated === \"Valid\"\n              ? {\n                  ...state.declaration,\n                  formValidated: \"Invalid\",\n                }\n              : state.declaration,\n        }\n      }\n      return {\n        ...state,\n        informations: {\n          ...state.informations,\n          nomEntreprise,\n          trancheEffectifs,\n          anneeDeclaration,\n          finPeriodeReference,\n        },\n      }\n    }\n    case \"validateInformationsSimulation\": {\n      return {\n        ...state,\n        informations: {\n          ...state.informations,\n          formValidated: action.valid,\n        },\n        declaration: {\n          ...state.declaration,\n          formValidated: action.valid === \"None\" ? \"Invalid\" : state.declaration.formValidated,\n        },\n      }\n    }\n    case \"updateEffectif\": {\n      const { nombreSalaries } = action.data\n      return {\n        ...state,\n        effectif: { ...state.effectif, nombreSalaries },\n      }\n    }\n    case \"validateEffectif\": {\n      if (action.valid === \"None\") {\n        return {\n          ...state,\n          effectif: { ...state.effectif, formValidated: action.valid },\n          indicateurUn:\n            state.indicateurUn.formValidated === \"Valid\"\n              ? {\n                  ...state.indicateurUn,\n                  formValidated: \"Invalid\",\n                  coefficientEffectifFormValidated: \"Invalid\",\n                }\n              : state.indicateurUn,\n          indicateurDeux:\n            state.indicateurDeux.formValidated === \"Valid\"\n              ? { ...state.indicateurDeux, formValidated: \"Invalid\" }\n              : state.indicateurDeux,\n          indicateurTrois:\n            state.indicateurTrois.formValidated === \"Valid\"\n              ? { ...state.indicateurTrois, formValidated: \"Invalid\" }\n              : state.indicateurTrois,\n          indicateurDeuxTrois:\n            state.indicateurDeuxTrois.formValidated === \"Valid\"\n              ? { ...state.indicateurDeuxTrois, formValidated: \"Invalid\" }\n              : state.indicateurDeuxTrois,\n          declaration:\n            state.declaration.formValidated === \"Valid\"\n              ? { ...state.declaration, formValidated: \"Invalid\" }\n              : state.declaration,\n        }\n      }\n      return {\n        ...state,\n        effectif: { ...state.effectif, formValidated: action.valid },\n      }\n    }\n    case \"updateIndicateurUnType\": {\n      const { csp, coef, autre } = action.data\n      return {\n        ...state,\n        indicateurUn: { ...state.indicateurUn, csp, coef, autre },\n      }\n    }\n    case \"updateIndicateurUnCsp\": {\n      const { remunerationAnnuelle } = action.data\n      return {\n        ...state,\n        indicateurUn: { ...state.indicateurUn, remunerationAnnuelle },\n      }\n    }\n    case \"updateIndicateurUnCoefAddGroup\": {\n      const newGroupCoef = { ...dataIndicateurUnCoefGroup } // Clone to avoid mutable issues\n      const coefficient = [...state.indicateurUn.coefficient, newGroupCoef]\n      return {\n        ...state,\n        indicateurUn: { ...state.indicateurUn, coefficient },\n      }\n    }\n    case \"updateIndicateurUnCoefDeleteGroup\": {\n      const coefficient = [\n        ...state.indicateurUn.coefficient.slice(0, action.index),\n        ...state.indicateurUn.coefficient.slice(action.index + 1, state.indicateurUn.coefficient.length),\n      ]\n      return {\n        ...state,\n        indicateurUn: { ...state.indicateurUn, coefficient },\n      }\n    }\n    case \"updateIndicateurUnCoef\": {\n      const { coefficient } = action.data\n\n      const mergedCoefficient = deepmerge(\n        state.indicateurUn.coefficient,\n        // @ts-ignore\n        coefficient,\n        { arrayMerge: combineMerge },\n      )\n      return {\n        ...state,\n        // @ts-ignore\n        indicateurUn: { ...state.indicateurUn, coefficient: mergedCoefficient },\n      }\n    }\n    case \"validateIndicateurUnCoefGroup\": {\n      return {\n        ...state,\n        indicateurUn: {\n          ...state.indicateurUn,\n          coefficientGroupFormValidated: action.valid,\n          coefficientEffectifFormValidated:\n            action.valid === \"None\" && state.indicateurUn.coefficientEffectifFormValidated === \"Valid\"\n              ? \"Invalid\"\n              : state.indicateurUn.coefficientEffectifFormValidated,\n          formValidated:\n            action.valid === \"None\" && state.indicateurUn.formValidated === \"Valid\"\n              ? \"Invalid\"\n              : state.indicateurUn.formValidated,\n        },\n        declaration: {\n          ...state.declaration,\n          formValidated: action.valid === \"None\" ? \"Invalid\" : state.declaration.formValidated,\n        },\n      }\n    }\n    case \"validateIndicateurUnCoefEffectif\": {\n      return {\n        ...state,\n        indicateurUn: {\n          ...state.indicateurUn,\n          coefficientEffectifFormValidated: action.valid,\n          formValidated:\n            action.valid === \"None\" && state.indicateurUn.formValidated === \"Valid\"\n              ? \"Invalid\"\n              : state.indicateurUn.formValidated,\n        },\n        declaration: {\n          ...state.declaration,\n          formValidated: action.valid === \"None\" ? \"Invalid\" : state.declaration.formValidated,\n        },\n      }\n    }\n    case \"validateIndicateurUn\": {\n      return {\n        ...state,\n        indicateurUn: { ...state.indicateurUn, formValidated: action.valid },\n        declaration: {\n          ...state.declaration,\n          formValidated: action.valid === \"None\" ? \"Invalid\" : state.declaration.formValidated,\n        },\n      }\n    }\n    case \"updateIndicateurDeux\": {\n      const { tauxAugmentation, presenceAugmentation } = action.data\n      return {\n        ...state,\n        indicateurDeux: {\n          ...state.indicateurDeux,\n          presenceAugmentation,\n          tauxAugmentation,\n        },\n      }\n    }\n    case \"validateIndicateurDeux\": {\n      return {\n        ...state,\n        indicateurDeux: {\n          ...state.indicateurDeux,\n          formValidated: action.valid,\n        },\n        declaration: {\n          ...state.declaration,\n          formValidated: action.valid === \"None\" ? \"Invalid\" : state.declaration.formValidated,\n        },\n      }\n    }\n    case \"updateIndicateurTrois\": {\n      const { tauxPromotion, presencePromotion } = action.data\n      return {\n        ...state,\n        indicateurTrois: {\n          ...state.indicateurTrois,\n          presencePromotion,\n          tauxPromotion,\n        },\n      }\n    }\n    case \"validateIndicateurTrois\": {\n      return {\n        ...state,\n        indicateurTrois: {\n          ...state.indicateurTrois,\n          formValidated: action.valid,\n        },\n        declaration: {\n          ...state.declaration,\n          formValidated: action.valid === \"None\" ? \"Invalid\" : state.declaration.formValidated,\n        },\n      }\n    }\n    case \"updateIndicateurDeuxTrois\": {\n      const {\n        presenceAugmentationPromotion,\n        nombreAugmentationPromotionFemmes,\n        nombreAugmentationPromotionHommes,\n        periodeDeclaration,\n      } = action.data\n      return {\n        ...state,\n        indicateurDeuxTrois: {\n          ...state.indicateurDeuxTrois,\n          presenceAugmentationPromotion,\n          nombreAugmentationPromotionFemmes,\n          nombreAugmentationPromotionHommes,\n          periodeDeclaration,\n        },\n      }\n    }\n    case \"validateIndicateurDeuxTrois\": {\n      return {\n        ...state,\n        indicateurDeuxTrois: {\n          ...state.indicateurDeuxTrois,\n          formValidated: action.valid,\n        },\n        declaration: {\n          ...state.declaration,\n          formValidated: action.valid === \"None\" ? \"Invalid\" : state.declaration.formValidated,\n        },\n      }\n    }\n    case \"updateIndicateurQuatre\": {\n      return {\n        ...state,\n        indicateurQuatre: {\n          ...state.indicateurQuatre,\n          ...action.data,\n        },\n      }\n    }\n    case \"validateIndicateurQuatre\": {\n      return {\n        ...state,\n        indicateurQuatre: {\n          ...state.indicateurQuatre,\n          formValidated: action.valid,\n        },\n        declaration: {\n          ...state.declaration,\n          formValidated: action.valid === \"None\" ? \"Invalid\" : state.declaration.formValidated,\n        },\n      }\n    }\n    case \"updateIndicateurCinq\": {\n      return {\n        ...state,\n        indicateurCinq: {\n          ...state.indicateurCinq,\n          ...action.data,\n        },\n      }\n    }\n    case \"validateIndicateurCinq\": {\n      return {\n        ...state,\n        indicateurCinq: {\n          ...state.indicateurCinq,\n          formValidated: action.valid,\n        },\n        declaration: {\n          ...state.declaration,\n          formValidated: action.valid === \"None\" ? \"Invalid\" : state.declaration.formValidated,\n        },\n      }\n    }\n    case \"updateInformationsEntreprise\": {\n      return {\n        ...state,\n        informationsEntreprise: {\n          ...state.informationsEntreprise,\n          ...action.data,\n        },\n      }\n    }\n    case \"validateInformationsEntreprise\": {\n      return {\n        ...state,\n        informationsEntreprise: {\n          ...state.informationsEntreprise,\n          formValidated: action.valid,\n        },\n        declaration: {\n          ...state.declaration,\n          formValidated: action.valid === \"None\" ? \"Invalid\" : state.declaration.formValidated,\n        },\n      }\n    }\n    case \"updateInformationsDeclarant\": {\n      return {\n        ...state,\n        informationsDeclarant: {\n          ...state.informationsDeclarant,\n          ...action.data,\n        },\n      }\n    }\n    case \"validateInformationsDeclarant\": {\n      return {\n        ...state,\n        informationsDeclarant: {\n          ...state.informationsDeclarant,\n          formValidated: action.valid,\n        },\n        declaration: {\n          ...state.declaration,\n          formValidated: action.valid === \"None\" ? \"Invalid\" : state.declaration.formValidated,\n        },\n      }\n    }\n    case \"updateDeclaration\": {\n      return {\n        ...state,\n        declaration: {\n          ...state.declaration,\n          ...action.data,\n        },\n      }\n    }\n    case \"validateDeclaration\": {\n      const dateDeclaration = format(new Date(), \"dd/MM/yyyy HH:mm\")\n      return {\n        ...state,\n        effectif:\n          action.valid === \"Valid\"\n            ? {\n                ...state.effectif,\n                ...action.effectifData,\n              }\n            : state.effectif,\n        indicateurUn:\n          action.valid === \"Valid\"\n            ? {\n                ...state.indicateurUn,\n                ...action.indicateurUnData,\n              }\n            : state.indicateurUn,\n        indicateurDeux:\n          action.valid === \"Valid\"\n            ? {\n                ...state.indicateurDeux,\n                ...action.indicateurDeuxData,\n              }\n            : state.indicateurDeux,\n        indicateurTrois:\n          action.valid === \"Valid\"\n            ? {\n                ...state.indicateurTrois,\n                ...action.indicateurTroisData,\n              }\n            : state.indicateurTrois,\n        indicateurDeuxTrois:\n          action.valid === \"Valid\"\n            ? {\n                ...state.indicateurDeuxTrois,\n                ...action.indicateurDeuxTroisData,\n              }\n            : state.indicateurDeuxTrois,\n        indicateurQuatre:\n          action.valid === \"Valid\"\n            ? {\n                ...state.indicateurQuatre,\n                ...action.indicateurQuatreData,\n              }\n            : state.indicateurQuatre,\n        indicateurCinq:\n          action.valid === \"Valid\"\n            ? {\n                ...state.indicateurCinq,\n                ...action.indicateurCinqData,\n              }\n            : state.indicateurCinq,\n        declaration: {\n          ...state.declaration,\n          dateDeclaration:\n            // Automatically set the \"dateDeclaration\" to now.\n            action.valid === \"Valid\" ? dateDeclaration : state.declaration.dateDeclaration,\n          noteIndex: action.valid === \"Valid\" ? action.noteIndex : state.declaration.noteIndex,\n          totalPoint: action.valid === \"Valid\" ? action.totalPoint : state.declaration.totalPoint,\n          totalPointCalculable:\n            action.valid === \"Valid\" ? action.totalPointCalculable : state.declaration.totalPointCalculable,\n          formValidated: action.valid,\n        },\n      }\n    }\n    case \"updateEmailDeclarant\": {\n      return {\n        ...state,\n        informationsDeclarant: {\n          ...state.informationsDeclarant,\n          ...action.data,\n        },\n      }\n    }\n    default:\n      return state\n  }\n}\n\nexport default AppReducer\n","const globalStyles = {\n  colors: {\n    default: \"#191a49\",\n    primary: \"#696CD1\",\n    men: \"#447F8D\",\n    women: \"#886AA7\",\n    error: \"#B7585D\",\n    invalid: \"#61676F\",\n  },\n  grid: {\n    gutterWidth: 16,\n    columns: 12,\n    maxWidth: 1440,\n    minWidth: 1024,\n    maxTabletWidth: 1280,\n  },\n}\n\nexport default globalStyles\n","import React, { useEffect, useState, useCallback, useMemo, useContext, ReactNode } from \"react\"\n\nimport globalStyles from \"../utils/globalStyles\"\nconst { grid } = globalStyles\n\nexport type LayoutType = \"mobile\" | \"tablet\" | \"desktop\"\n\nconst gutterCount = grid.columns + 1\nconst totalGuttersWidth = gutterCount * grid.gutterWidth\n\nfunction clamp(num: number, min: number, max: number) {\n  return Math.min(max, Math.max(min, num))\n}\n\nfunction findColumnWidth(windowWidth: number) {\n  const clampedWidth = clamp(windowWidth, grid.minWidth, grid.maxWidth)\n  const availableWidthWithoutGutters = clampedWidth - totalGuttersWidth\n  const columnWidth = availableWidthWithoutGutters / 12\n  return Math.floor(columnWidth)\n}\n\nfunction findLayoutType(windowWidth: number): LayoutType {\n  if (windowWidth < grid.minWidth) {\n    return \"mobile\"\n  } else if (windowWidth < grid.maxTabletWidth) {\n    return \"tablet\"\n  } else {\n    return \"desktop\"\n  }\n}\n\n// Context\n\nexport const GridContext = React.createContext({\n  columnWidth: findColumnWidth(window.innerWidth),\n  gutterWidth: grid.gutterWidth,\n  layoutType: findLayoutType(window.innerWidth),\n})\n\n// Provider\n\nfunction GridProvider({ children }: { children: ReactNode }) {\n  const [columnWidth, setColumnWidth] = useState(findColumnWidth(window.innerWidth))\n  const [layoutType, setLayoutType] = useState(findLayoutType(window.innerWidth))\n\n  const handleResize = useCallback(\n    (event: any) => {\n      setColumnWidth(findColumnWidth(event.currentTarget.innerWidth))\n      setLayoutType(findLayoutType(event.currentTarget.innerWidth))\n    },\n    [setColumnWidth, setLayoutType],\n  )\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", handleResize)\n    return () => window.removeEventListener(\"resize\", handleResize)\n  })\n\n  const value = useMemo(\n    () => ({\n      columnWidth,\n      gutterWidth: grid.gutterWidth,\n      layoutType,\n    }),\n    [columnWidth, layoutType],\n  )\n\n  return <GridContext.Provider value={value}>{children}</GridContext.Provider>\n}\n\nexport default GridProvider\n\n// Consumer\n\nexport const useGridContext = () => useContext(GridContext)\n\nexport const useColumnsWidth = (numColumns: number) => {\n  const { columnWidth, gutterWidth } = useGridContext()\n  return columnWidth * numColumns + gutterWidth * (numColumns - 1)\n}\n\nexport const useLayoutType = () => {\n  const { layoutType } = useGridContext()\n  return layoutType\n}\n","import React, { ReactNode } from \"react\"\nimport { Icon as IconChakra, Box, IconProps, ChakraComponent } from \"@chakra-ui/react\"\nimport { SearchIcon, CheckCircleIcon, XCircleIcon } from \"@heroicons/react/solid\"\nimport {\n  LightBulbIcon,\n  UserIcon,\n  UserCircleIcon,\n  CalendarIcon,\n  CurrencyEuroIcon,\n  TrendingUpIcon,\n  ArrowNarrowLeftIcon,\n  ExclamationIcon,\n  XCircleIcon as XCircleLineIcon,\n  OfficeBuildingIcon,\n  TrashIcon,\n  ExternalLinkIcon,\n  ChevronRightIcon,\n} from \"@heroicons/react/outline\"\n\ntype SvgComponent = ChakraComponent<\"svg\", Record<string, unknown>>\n\nconst Icon = ((props: IconProps) => <IconChakra aria-hidden=\"true\" {...props} />) as SvgComponent\n\nexport const IconText = ({ children }: { children: ReactNode }) => {\n  return (\n    <Box fontSize=\"xs\" fontWeight=\"bold\" lineHeight={1} aria-hidden=\"true\">\n      {children}\n    </Box>\n  )\n}\n\nexport const IconSearch = (props: IconProps) => <Icon as={SearchIcon} {...props} />\n\nexport const IconValid = (props: IconProps) => <Icon as={CheckCircleIcon} {...props} />\n\nexport const IconInvalid = (props: IconProps) => <Icon as={XCircleIcon} {...props} />\n\nexport const IconLamp = (props: IconProps) => <Icon as={LightBulbIcon} {...props} />\n\nexport const IconPeople = (props: IconProps) => <Icon as={UserIcon} {...props} />\n\nexport const IconPeopleCircle = (props: IconProps) => <Icon as={UserCircleIcon} {...props} />\n\nexport const IconCalendar = (props: IconProps) => <Icon as={CalendarIcon} {...props} />\n\nexport const IconMoney = (props: IconProps) => <Icon as={CurrencyEuroIcon} {...props} />\n\nexport const IconGrow = (props: IconProps) => <Icon as={TrendingUpIcon} {...props} />\n\nexport const IconBack = (props: IconProps) => <Icon as={ArrowNarrowLeftIcon} {...props} />\n\nexport const IconFemale = (props: IconProps) => (\n  <Icon {...props}>\n    <path\n      d=\"M12 2C8.691 2 6 4.691 6 8c0 2.967 2.167 5.432 5 5.91V17H8v2h3v2.988h2V19h3v-2h-3v-3.09c2.833-.479 5-2.943 5-5.91 0-3.309-2.691-6-6-6zm0 10c-2.206 0-4-1.794-4-4s1.794-4 4-4 4 1.794 4 4-1.794 4-4 4z\"\n      fill=\"currentColor\"\n    />\n  </Icon>\n)\n\nexport const IconMale = (props: IconProps) => (\n  <Icon {...props}>\n    <path\n      d=\"M20 11V4h-7l2.793 2.793-4.322 4.322A5.961 5.961 0 0 0 8 10c-3.309 0-6 2.691-6 6s2.691 6 6 6 6-2.691 6-6c0-1.294-.416-2.49-1.115-3.471l4.322-4.322L20 11zM8 20c-2.206 0-4-1.794-4-4s1.794-4 4-4 4 1.794 4 4-1.794 4-4 4z\"\n      fill=\"currentColor\"\n    />\n  </Icon>\n)\n\nexport const IconWarning = (props: IconProps) => <Icon as={ExclamationIcon} {...props} />\n\nexport const IconCircleCross = (props: IconProps) => <Icon as={XCircleLineIcon} {...props} />\n\nexport const IconOfficeBuilding = (props: IconProps) => <Icon as={OfficeBuildingIcon} {...props} />\n\nexport const IconDelete = (props: IconProps) => <Icon as={TrashIcon} {...props} />\n\nexport const IconDrag = (props: IconProps) => (\n  <Icon {...props}>\n    <path\n      d=\"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"\n      fill=\"currentColor\"\n    />\n  </Icon>\n)\n\nexport const IconExternalLink = (props: IconProps) => <Icon as={ExternalLinkIcon} {...props} />\n\nexport const IconArrowRight = (props: IconProps) => <Icon as={ChevronRightIcon} {...props} />\n","const commonHeaders = {\n  Accept: \"application/json\",\n}\n\nconst commonContentHeaders = {\n  ...commonHeaders,\n  \"Content-Type\": \"application/json\",\n}\n\n////////////\n\nclass ApiError extends Error {\n  constructor(response, jsonBody, ...params) {\n    super(...params)\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, ApiError)\n    }\n    this.response = response\n    this.jsonBody = jsonBody\n    this.name = \"ApiError\"\n  }\n}\n\nfunction checkStatusAndParseJson(response) {\n  if (response.status === 204) {\n    return { response }\n  }\n\n  let jsonPromise = response.json() // there's always a body\n  if (response.status >= 200 && response.status < 300) {\n    return jsonPromise.then((jsonBody) => ({ response, jsonBody }))\n  } else {\n    return jsonPromise.then((jsonBody) => {\n      const apiError = new ApiError(response, jsonBody, \"Erreur dans l'API\")\n      return Promise.reject.bind(Promise)(apiError)\n    })\n  }\n}\n\n/////////////\n\nfunction fetchResource(method, pathname, body) {\n  const headers = body ? commonContentHeaders : commonHeaders\n\n  const requestObj = {\n    method,\n    headers: {\n      ...headers,\n      \"API-KEY\": localStorage.token,\n    },\n    body: body ? JSON.stringify(body) : undefined,\n  }\n  let origin = \"/api\"\n  if (window.location.href.includes(\"localhost:\")) {\n    origin = \"http://127.0.0.1:2626\"\n  }\n\n  if (process.env.REACT_APP_EGAPRO_API_URL) origin = process.env.REACT_APP_EGAPRO_API_URL\n\n  return fetch(origin + pathname, requestObj).then(checkStatusAndParseJson)\n}\n\nconst getResource = (pathname) => fetchResource(\"GET\", pathname)\nconst postResource = (pathname, body) => fetchResource(\"POST\", pathname, body)\nconst putResource = (pathname, body) => fetchResource(\"PUT\", pathname, body)\n\n/////////////\n\nexport const getIndicatorsDatas = (id) => getResource(`/simulation/${id}`)\n\nexport const postIndicatorsDatas = (data) => postResource(\"/simulation\", data)\n\nexport const putIndicatorsDatas = (id, data) => putResource(`/simulation/${id}`, { id, data })\n\nexport const putDeclaration = (data) =>\n  putResource(`/declaration/${data.entreprise.siren}/${data.déclaration.année_indicateurs}`, data)\n\nexport const validateSiren = (siren) => getResource(`/validate-siren?siren=${siren}`)\n\n/**\n * Return the owners of the given siren. This endpoint returns only if the user is granted.\n * Otherwise, it returns an error.\n *\n * @param {*} siren\n * @returns { owners: string[] }\n */\nexport const ownersForSiren = (siren) => getResource(`/ownership/${siren}`)\n\nexport const resendReceipt = (siren, year) => postResource(`/declaration/${siren}/${year}/receipt`, {})\n\nexport const sendValidationEmail = (email) =>\n  postResource(\"/token\", {\n    email,\n    url: `${window.location.href}?token=`,\n  })\n\nexport const getTokenInfo = () => getResource(`/me`)\n\n// KILL THIS ENDPOINT\nexport const sendEmailIndicatorsDatas = (id, email) => postResource(`/simulation/${id}/send-code`, { email })\n\nexport const findIndicatorsDataForRaisonSociale = (raisonSociale, { size, from, sortBy, order }) => {\n  const encodedRaisonSociale = encodeURIComponent(raisonSociale)\n  return getResource(`/search?q=${encodedRaisonSociale}&size=${size}&from=${from}&sortBy=${sortBy}&order=${order}`)\n}\n","import React from \"react\"\nimport { getTokenInfo } from \"../utils/api\"\n\nconst initialContext = {\n  email: \"\",\n  ownership: [] as string[],\n  isAuthenticated: false,\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  logout: () => {},\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  login: (token: string) => {},\n}\n\nconst AuthContext = React.createContext(initialContext)\nAuthContext.displayName = \"AuthContext\"\n\nexport function AuthContextProvider({ children }: { children: React.ReactNode }) {\n  const [context, setContext] = React.useState(initialContext)\n\n  async function login(token: string) {\n    if (token) {\n      localStorage.setItem(\"token\", token)\n\n      try {\n        const tokenInfo = await getTokenInfo()\n\n        if (tokenInfo) {\n          localStorage.setItem(\"tokenInfo\", JSON.stringify(tokenInfo?.jsonBody) || \"\")\n\n          const newContext = {\n            ...context,\n            ...(tokenInfo?.jsonBody?.email && { email: tokenInfo?.jsonBody?.email }),\n            ...(tokenInfo?.jsonBody?.ownership && { ownership: tokenInfo?.jsonBody?.ownership }),\n            isAuthenticated: Boolean(tokenInfo?.jsonBody?.email),\n          }\n\n          setContext(newContext)\n        }\n      } catch (error) {\n        // If token has expired, we remove it from localStorage and state.\n        console.error(error)\n\n        localStorage.setItem(\"token\", \"\")\n        localStorage.setItem(\"tokenInfo\", \"\")\n      }\n    }\n  }\n\n  function logout() {\n    localStorage.setItem(\"token\", \"\")\n    localStorage.setItem(\"tokenInfo\", \"\")\n    setContext(initialContext)\n  }\n\n  React.useEffect(() => {\n    // tentative de login au mount du composant\n    login(localStorage.getItem(\"token\") || \"\")\n  }, [])\n\n  return <AuthContext.Provider value={{ ...context, logout, login }}>{children}</AuthContext.Provider>\n}\n\nexport function useUser(): typeof initialContext {\n  const context = React.useContext(AuthContext)\n\n  if (!context) throw new Error(\"useUser must be used in a <AuthContextProvider />\")\n\n  return context\n}\n","import React from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { Button } from \"@chakra-ui/react\"\nimport { ButtonProps } from \"./ButtonAction\"\n\ntype ButtonLinkProps = ButtonProps & {\n  to: string\n}\n\nfunction ButtonLink({\n  label,\n  to,\n  colorScheme = \"primary\",\n  variant = \"solid\",\n  leftIcon,\n  rightIcon,\n  size = \"md\",\n  fullWidth,\n}: ButtonLinkProps) {\n  return (\n    <Button\n      to={to}\n      as={Link}\n      colorScheme={colorScheme}\n      variant={variant}\n      leftIcon={leftIcon}\n      rightIcon={rightIcon}\n      size={size}\n      sx={{\n        width: fullWidth ? \"100%\" : \"auto\",\n      }}\n    >\n      {label}\n    </Button>\n  )\n}\n\nexport default ButtonLink\n","import React, { FunctionComponent } from \"react\"\nimport { useHistory, Link as RouterLink } from \"react-router-dom\"\nimport { Menu, MenuButton, MenuDivider, MenuItem, MenuList } from \"@chakra-ui/menu\"\nimport { Button, Link } from \"@chakra-ui/react\"\n\nimport { IconPeopleCircle } from \"./Icons\"\nimport { useUser } from \"../AuthContext\"\nimport ButtonLink from \"../ButtonLink\"\n\ntype MenuLinkProps = {\n  children: React.ReactNode\n  to: string\n}\n\nconst MenuLink: FunctionComponent<MenuLinkProps> = ({ children, to }) => {\n  return (\n    <Link as={RouterLink} to={to} color=\"gray.600\" _hover={{ textDecoration: \"none\" }}>\n      {children}\n    </Link>\n  )\n}\n\nconst MenuProfile: FunctionComponent = () => {\n  const history = useHistory()\n  const { email, logout } = useUser()\n\n  const disconnectUser = () => {\n    logout()\n    history.go(0)\n  }\n\n  if (email) {\n    return (\n      <Menu>\n        <MenuButton as={Button} variant=\"ghost\" colorScheme=\"primary\" leftIcon={<IconPeopleCircle boxSize={6} />}>\n          Mon compte\n        </MenuButton>\n        <MenuList>\n          <MenuItem>\n            <MenuLink to=\"/tableauDeBord/mon-profil\">Mon Profil</MenuLink>\n          </MenuItem>\n          <MenuItem>\n            <MenuLink to=\"/tableauDeBord/mes-entreprises\">Mes entreprises</MenuLink>\n          </MenuItem>\n          <MenuDivider />\n          <MenuItem onClick={disconnectUser} color=\"orange.500\">\n            Déconnexion\n          </MenuItem>\n        </MenuList>\n      </Menu>\n    )\n  } else {\n    return <ButtonLink to=\"/tableauDeBord/me-connecter\" label=\"Me connecter\" variant=\"ghost\" colorScheme=\"primary\" />\n  }\n}\n\nexport default MenuProfile\n","import React, { FunctionComponent } from \"react\"\nimport { Image } from \"@chakra-ui/react\"\n\nexport type LogoProps = Record<string, unknown>\n\nconst Logo: FunctionComponent<LogoProps> = () => {\n  return (\n    <Image\n      src={process.env.PUBLIC_URL + \"/marianne.svg\"}\n      alt=\"Aller à la page d'accueil du Ministère du travail, de l'emploi et de l'insertion\"\n      width={88}\n    />\n  )\n}\n\nexport default Logo\n","import React from \"react\"\nimport { Link as ReachLink } from \"react-router-dom\"\nimport { Box, Container, Link, Flex, Text, ListItem, List, HStack } from \"@chakra-ui/react\"\n\nimport MenuProfile from \"./ds/MenuProfile\"\nimport Logo from \"./ds/Logo\"\n\nfunction Header() {\n  return (\n    <Box\n      as=\"header\"\n      role=\"banner\"\n      bg=\"white\"\n      sx={{\n        flexShrink: 0,\n        borderBottom: \"1px solid #E3E4ED\",\n      }}\n    >\n      <Box\n        bg=\"white\"\n        fontSize=\"xs\"\n        sx={{\n          height: 0,\n          overflow: \"hidden\",\n          borderBottom: \"1px solid #f1f2fb\",\n          transform: \"translateY(-100%)\",\n          \":focus-within\": {\n            height: \"auto\",\n            transform: \"translateY(0%)\",\n          },\n        }}\n      >\n        <Container maxW=\"container.xl\">\n          <HStack as={List} spacing={4}>\n            <ListItem>\n              <Link href=\"#menu\">Aller au menu</Link>\n            </ListItem>\n            <ListItem>\n              <Link href=\"#main\">Aller au contenu</Link>\n            </ListItem>\n            <ListItem>\n              <Link href=\"#search\">Aller à l'aide</Link>\n            </ListItem>\n            <ListItem>\n              <Link href=\"#footer\">Aller au pied de page</Link>\n            </ListItem>\n          </HStack>\n        </Container>\n      </Box>\n      <Container maxW=\"container.xl\" id=\"menu\">\n        <Flex align=\"center\" py={4}>\n          <Box pr={6}>\n            <Link\n              href=\"https://travail-emploi.gouv.fr/\"\n              isExternal\n              sx={{\n                display: \"block\",\n              }}\n            >\n              <Logo />\n            </Link>\n          </Box>\n          <Box fontFamily=\"custom\">\n            <Link as={ReachLink} to=\"/\" fontSize=\"2xl\" color=\"gray.900\">\n              Index Egapro\n            </Link>\n            <Text fontSize=\"xs\">\n              L’outil de calcul et de déclaration de votre index égalité professionnelle Femmes-Hommes\n            </Text>\n          </Box>\n          <Box ml=\"auto\">\n            <MenuProfile />\n          </Box>\n        </Flex>\n      </Container>\n    </Box>\n  )\n}\n\nexport default Header\n","import React, { ReactNode } from \"react\"\nimport { Box, Heading, Text } from \"@chakra-ui/react\"\n\ninterface Props {\n  title: string\n  tagline?: string | Array<string>\n  children: ReactNode\n}\n\nfunction Page({ title, tagline, children }: Props) {\n  return (\n    <React.Fragment>\n      <Heading as=\"h1\" size=\"lg\">\n        {title}\n      </Heading>\n      {tagline && Array.isArray(tagline)\n        ? tagline.map((tl, index) => (\n            <Text mt={4} key={index}>\n              {tl}\n            </Text>\n          ))\n        : tagline && <Text mt={4}>{tagline}</Text>}\n      {children && <Box pt={6}>{children}</Box>}\n    </React.Fragment>\n  )\n}\n\nexport default Page\n","import React from \"react\"\nimport { useToast, UseToastOptions } from \"@chakra-ui/toast\"\nimport { useState, useEffect, useCallback, ChangeEvent, ChangeEventHandler } from \"react\"\nimport { AlertMessageType } from \"../globals\"\n\nexport function useDebounce(value: any, delay: number) {\n  const [debouncedValue, setDebouncedValue] = useState(value)\n\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value)\n    }, delay)\n\n    return () => {\n      clearTimeout(handler)\n    }\n  }, [value, delay])\n\n  return debouncedValue\n}\n\nexport function useDebounceEffect(value: any, delay: number, callback: (debouncedValue: any) => void, dep: any[]) {\n  const memoizedCallback = useCallback(callback, dep)\n\n  const debouncedValue = useDebounce(value, delay)\n\n  useEffect(() => memoizedCallback(debouncedValue), [debouncedValue, memoizedCallback])\n}\n\nexport function useInputValueChangeHandler(setter: (value: string) => void): ChangeEventHandler<HTMLInputElement> {\n  return useCallback(\n    (event: ChangeEvent<HTMLInputElement>) => {\n      const value = event.target.value\n      setter(value)\n    },\n    [setter],\n  )\n}\n\ninterface UseDataFetchingResult<SearchResult> {\n  result: SearchResult\n  loading: boolean\n}\n\nexport function useDataFetching<SearchResult, SearchParams, DebouncedParams>(\n  fetchFunction: (params: SearchParams, debouncedParams: DebouncedParams) => Promise<SearchResult>,\n  params: SearchParams,\n  debouncedParams: DebouncedParams,\n  delay: number,\n): UseDataFetchingResult<SearchResult | null> {\n  const [result, setResult] = useState<SearchResult | null>(null)\n  const [loading, setLoading] = useState<boolean>(false)\n  useEffect(() => {\n    setLoading(true)\n  }, [params, debouncedParams])\n  useDebounceEffect(\n    debouncedParams,\n    delay,\n    (debouncedParams) => {\n      fetchFunction(params, debouncedParams).then((fetchedResults) => {\n        setResult(fetchedResults)\n        setLoading(false)\n      })\n    },\n    [fetchFunction, params],\n  )\n\n  return {\n    result,\n    loading,\n  }\n}\n\n/**\n * Update the title of the page and restore it when the component is unmouted.\n *\n * @param title title of the page\n */\nexport function useTitle(title: string) {\n  useEffect(() => {\n    const prevTitle = document.title\n    document.title = title + \" - \" + prevTitle\n    return () => {\n      document.title = prevTitle\n    }\n  })\n}\n\n/**\n * Utility to retrive user's info.\n *\n * @returns the information for the authenticated user\n */\nexport function useUser(): { email: string; ownership: string[]; logout: () => void } {\n  const tokenInfoLS = localStorage.getItem(\"tokenInfo\")\n  const { email, ownership } = tokenInfoLS ? JSON.parse(tokenInfoLS) : { email: \"\", ownership: [] }\n\n  function logout() {\n    localStorage.setItem(\"token\", \"\")\n    localStorage.setItem(\"tokenInfo\", \"\")\n  }\n\n  return { email, ownership, logout }\n}\n\nfunction showToastMessage(toast: ReturnType<typeof useToast>, options?: UseToastOptions) {\n  return function (message: AlertMessageType) {\n    if (message?.text) {\n      toast({\n        title: message.kind === \"success\" ? \"Succès\" : \"Erreur\",\n        description: message.text,\n        status: message.kind,\n        isClosable: true,\n        ...(options || {}),\n      })\n    }\n  }\n}\n\n/**\n * Return utility to show toast messages.\n */\nexport function useToastMessage(options?: UseToastOptions) {\n  const toast = useToast()\n\n  const toastMessage = showToastMessage(toast, options)\n\n  const toastSuccess = (text: string) => toastMessage({ kind: \"success\", text })\n  const toastError = (text: string) => toastMessage({ kind: \"error\", text })\n\n  return { toastMessage, toastSuccess, toastError }\n}\n","import React from \"react\"\nimport { Text, Heading, Link } from \"@chakra-ui/react\"\nimport Page from \"../components/Page\"\nimport { useTitle } from \"../utils/hooks\"\n\nconst title = \"Conditions d’utilisation\"\n\nfunction CGU() {\n  useTitle(title)\n\n  return (\n    <Page title={title}>\n      <Text>\n        Les présentes conditions générales d’utilisation (dites « CGU ») fixent le cadre juridique de la Plateforme\n        Index Egapro et définissent les conditions d’accès et d’utilisation des services par l’Utilisateur.\n      </Text>\n      <Heading as=\"h2\" size=\"md\" mb={3} mt={6}>\n        Champ d’application\n      </Heading>\n      <Text>\n        La Plateforme est d’accès libre et gratuit à tout Utilisateur. La simple visite de la Plateforme suppose\n        l’acceptation par tout Utilisateur des présentes conditions générales d’utilisation.\n      </Text>\n      <Text mt={2}>\n        L’inscription sur la Plateforme peut entraîner l’application de conditions spécifiques, listées dans les\n        présentes Conditions d’Utilisation\n      </Text>\n      <Heading as=\"h2\" size=\"md\" mb={3} mt={6}>\n        Objet\n      </Heading>\n      <Text>\n        Index Egapro entend faire progresser au sein des entreprises l’égalité salariale entre les femmes et les hommes.\n        Il permet aux entreprises de mesurer, en toute transparence, les écarts de rémunération entre les sexes et de\n        mettre en évidence leurs points de progression.\n      </Text>\n      <Heading as=\"h2\" size=\"md\" mb={3} mt={6}>\n        Fonctionnalités\n      </Heading>\n      <Text>\n        Index Egapro a mis en place un simulateur en ligne grâce auquel tout utilisateur, sans se créer de compte, peut\n        remplir des informations concernant son entreprise afin de calculer son Index et connaître les écarts de salaire\n        entre hommes et femmes au sein de sa structure. Dans le cadre du remplissage de ce formulaire, l’utilisateur a\n        la possibilité de renseigner son adresse email afin d’enregistrer les données fournies et de continuer son\n        calcul et sa déclaration plus tard.\n      </Text>\n      <Text mt={2}>\n        Index Egapro propose également un formulaire de déclaration de cet Index afin qu’il soit transmis au Ministère\n        du Travail. La plateforme propose également une FAQ et un moteur de recherche. Le code du logiciel est libre, et\n        peut donc être vérifié et amélioré par tous&nbsp;:{\" \"}\n        <Link href=\"https://github.com/SocialGouv/egapro/\" isExternal color=\"primary.500\">\n          https://github.com/SocialGouv/egapro/\n        </Link>\n      </Text>\n      <Heading as=\"h2\" size=\"md\" mb={3} mt={6}>\n        Responsabilités\n      </Heading>\n      <Heading as=\"h3\" size=\"sm\" mb={3} mt={4}>\n        Index Egapro\n      </Heading>\n      <Text>\n        Les sources des informations diffusées sur la Plateforme sont réputées fiables mais le site ne garantit pas\n        qu’il soit exempt de défauts, d’erreurs ou d’omissions.\n      </Text>\n      <Text mt={2}>\n        Tout événement dû à un cas de force majeure ayant pour conséquence un dysfonctionnement de la Plateforme et sous\n        réserve de toute interruption ou modification en cas de maintenance, n'engage pas la responsabilité de Index\n        Egapro.\n      </Text>\n      <Text mt={2}>\n        L’éditeur s’engage à mettre en œuvre toutes mesures appropriées, afin de protéger les données traitées.\n      </Text>\n      <Text mt={2}>\n        L’éditeur s’engage à la sécurisation de la Plateforme, notamment en prenant toutes les mesures nécessaires\n        permettant de garantir la sécurité et la confidentialité des informations fournies.\n      </Text>\n      <Text mt={2}>\n        L’éditeur fournit les moyens nécessaires et raisonnables pour assurer un accès continu, sans contrepartie\n        financière, à la Plateforme. Il se réserve la liberté de faire évoluer, de modifier ou de suspendre, sans\n        préavis, la plateforme pour des raisons de maintenance ou pour tout autre motif jugé nécessaire.\n      </Text>\n      <Text mt={2}>\n        Ce site peut mettre à disposition des liens pouvant orienter l’utilisateur vers des sites réalisés par des tiers\n        extérieurs. Ces tiers sont les seuls responsables du contenu publié par leur soin. L’équipe n’a aucun contrôle\n        sur le contenu de ces sites, ces contenus ne sauraient engager la responsabilité de l’administration.\n      </Text>\n      <Heading as=\"h3\" size=\"sm\" mb={3} mt={4}>\n        L'Utilisateur\n      </Heading>\n      <Text>\n        Toute information transmise par l'Utilisateur est de sa seule responsabilité. Il est rappelé que toute personne\n        procédant à une fausse déclaration pour elle-même ou pour autrui s’expose, notamment, aux sanctions prévues à\n        l’article 441-1 du code pénal, prévoyant des peines pouvant aller jusqu’à trois ans d’emprisonnement et 45 000\n        euros d’amende.\n      </Text>\n      <Text mt={2}>\n        L'Utilisateur s'engage à ne pas mettre en ligne de contenus ou informations contraires aux dispositions légales\n        et réglementaires en vigueur.\n      </Text>\n      <Text mt={2}>\n        Le contenu de l'Utilisateur peut être à tout moment et pour n'importe quelle raison supprimé ou modifié par le\n        site, sans préavis.\n      </Text>\n      <Heading as=\"h2\" size=\"md\" mb={3} mt={6}>\n        Mise à jour des conditions d’utilisation\n      </Heading>\n      <Text>\n        Les termes des présentes conditions d’utilisation peuvent être amendés à tout moment, sans préavis, en fonction\n        des modifications apportées à la plateforme, de l’évolution de la législation ou pour tout autre motif jugé\n        nécessaire.\n      </Text>\n    </Page>\n  )\n}\n\nexport default CGU\n","import { fractionToPercentage, parseDate, percentageToFraction } from \"./helpers\"\n\nimport { PeriodeDeclaration, TrancheEffectifs } from \"../globals\"\n\n// INT PARSE\n\nexport const parseIntFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\" ? defaultValue : Number.isNaN(Number(value)) ? defaultValue : parseInt(value, 10)\n\nexport const parseIntStateValue = (value: number | undefined) => (value === undefined ? \"\" : String(value))\n\n// Float PARSE\n\nexport const parseFloatFormValue = (value: string, defaultValue: any = undefined) =>\n  value === \"\" ? defaultValue : Number.isNaN(Number(value)) ? defaultValue : percentageToFraction(parseFloat(value))\n\nexport const parseFloatStateValue = (value: number | undefined) =>\n  value === undefined ? \"\" : String(fractionToPercentage(value))\n\n// Boolean PARSE\n\nexport const parseBooleanFormValue = (value: string) => value === \"true\"\n\nexport const parseBooleanStateValue = (value: boolean) => String(value)\n\n// PeriodeDeclaration PARSE\n\nexport const parsePeriodeDeclarationFormValue = (value: string): PeriodeDeclaration => {\n  switch (value) {\n    case \"deuxPeriodesReference\":\n      return \"deuxPeriodesReference\" as PeriodeDeclaration\n    case \"troisPeriodesReference\":\n      return \"troisPeriodesReference\" as PeriodeDeclaration\n    default:\n      return \"unePeriodeReference\" as PeriodeDeclaration\n  }\n}\n\n// TrancheEffectif PARSE\n\nexport const parseTrancheEffectifsFormValue = (value: string): TrancheEffectifs => {\n  switch (value) {\n    case \"251 à 999\":\n      return \"251 à 999\" as TrancheEffectifs\n    case \"1000 et plus\":\n      return \"1000 et plus\" as TrancheEffectifs\n    default:\n      return \"50 à 250\" as TrancheEffectifs\n  }\n}\n\n// VALIDATION\n\nexport type ValidatorFunction = (value: string, allValues?: any) => undefined | string\nexport type AsyncValidatorFunction = (value: string, allValues?: string[]) => Promise<undefined | string>\nexport type FormValidatorFunction = (values: Record<string, unknown>) => undefined | string\n\nexport const required: ValidatorFunction = (value) => (value ? undefined : \"Ce champ ne peut être vide\")\n\nexport const mustBeNumber: ValidatorFunction = (value) =>\n  isNaN(Number(value)) ? \"Renseignez une valeur numérique\" : undefined\n\nexport const mustBeInteger: ValidatorFunction = (value) =>\n  Number.isInteger(Number(value)) ? undefined : \"Renseignez une valeur entière, sans virgule\"\n\nexport const minNumber: (min: number) => ValidatorFunction = (min) => (value) =>\n  isNaN(Number(value)) || Number(value) >= min ? undefined : `La valeur doit être supérieure à ${min}`\n\nexport const maxNumber: (max: number) => ValidatorFunction = (max) => (value) =>\n  isNaN(Number(value)) || Number(value) <= max ? undefined : `La valeur doit être inférieure à ${max}`\n\nexport const mustBeDate: ValidatorFunction = (value) => {\n  const parsed = parseDate(value)\n  return parsed === undefined || parsed.toString() === \"ce champ doit contenir une date au format jj/mm/aaaa\"\n    ? \"Ce champ doit contenir une date au format jj/mm/aaaa\"\n    : undefined\n}\n\nexport const validateDate = (value: string) => {\n  const requiredError = required(value)\n  const mustBeDateError = mustBeDate(value)\n  if (!requiredError && !mustBeDateError) {\n    return undefined\n  } else {\n    return {\n      required: requiredError,\n      mustBeDate: mustBeDateError,\n    }\n  }\n}\n\nconst regexpEmail =\n  /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\nexport const validateEmail = (email: string) => !regexpEmail.test(email)\n\nexport const composeValidators =\n  (...validators: Array<ValidatorFunction | AsyncValidatorFunction>) =>\n  (value: string, allValues?: any) =>\n    validators.reduce((error: undefined | string, validator: any) => error || validator(value, allValues), undefined)\n\nexport const composeFormValidators =\n  (...validators: Array<FormValidatorFunction>) =>\n  (value: Record<string, unknown>) =>\n    validators.reduce(\n      (error: undefined | string, validator: FormValidatorFunction) => error || validator(value),\n      undefined,\n    )\n\nexport const simpleMemoize = (fn: any) => {\n  let lastArg: any\n  let lastResult: any\n  return (arg: any) => {\n    if (arg !== lastArg) {\n      lastArg = arg\n      lastResult = fn(arg)\n    }\n    return lastResult\n  }\n}\n\nexport function isFormValid(formState: { formValidated: string }) {\n  return formState.formValidated === \"Valid\"\n}\n","/** @jsx jsx */\nimport { Fragment } from \"react\"\nimport { css, jsx } from \"@emotion/react\"\nimport { Field } from \"react-final-form\"\n\nimport globalStyles from \"../utils/globalStyles\"\n\nimport { required } from \"../utils/formHelpers\"\n\nfunction RegionsDepartements({\n  nameRegion,\n  nameDepartement,\n  readOnly,\n}: {\n  nameRegion: string\n  nameDepartement: string\n  readOnly: boolean\n}) {\n  return (\n    <Field name={nameRegion} validate={required} component=\"select\">\n      {({ input: regionInput, meta: regionMeta }) => (\n        <Fragment>\n          <div css={styles.formField}>\n            <label\n              css={[styles.label, regionMeta.error && regionMeta.touched && styles.labelError]}\n              htmlFor={regionInput.name}\n            >\n              Région\n            </label>\n            {readOnly ? (\n              <div css={styles.fieldRow}>\n                <div css={styles.fakeInput}>{regionInput.value}</div>\n              </div>\n            ) : (\n              <Fragment>\n                <div css={styles.fieldRow}>\n                  <select {...regionInput}>\n                    <option value=\"\" key=\"empty\"></option>\n                    {Object.keys(regionsDepartements).map((region: string) => (\n                      <option value={region} key={region}>\n                        {region}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                {regionMeta.error && regionMeta.touched && (\n                  <p css={styles.error}>veuillez sélectionner une région dans la liste</p>\n                )}\n              </Fragment>\n            )}\n          </div>\n\n          {/* \"sous-champ\" qui dépend du `regionInput.value` */}\n          <Field\n            name={nameDepartement}\n            validate={(departement: string, { region }: any) => {\n              return required(departement) ||\n                regionsDepartements[region] === undefined ||\n                !regionsDepartements[region].includes(departement)\n                ? true\n                : undefined\n            }}\n            component=\"select\"\n          >\n            {({ input: deptInput, meta: deptMeta }) => (\n              <div css={styles.formField}>\n                <label\n                  css={[styles.label, deptMeta.error && deptMeta.touched && styles.labelError]}\n                  htmlFor={deptInput.name}\n                >\n                  Département\n                </label>\n                {readOnly ? (\n                  <div css={styles.fieldRow}>\n                    <div css={styles.fakeInput}>{deptInput.value}</div>\n                  </div>\n                ) : (\n                  <Fragment>\n                    <div css={styles.fieldRow}>\n                      <select {...deptInput}>\n                        <option value=\"\" key=\"empty\"></option>\n                        {Array.isArray(regionsDepartements[regionInput.value])\n                          ? regionsDepartements[regionInput.value].map((region: string) => (\n                              <option value={region} key={region}>\n                                {region}\n                              </option>\n                            ))\n                          : null}\n                      </select>\n                    </div>\n                    {deptMeta.error && deptMeta.touched && (\n                      <p css={styles.error}>veuillez sélectionner un département dans la liste</p>\n                    )}\n                  </Fragment>\n                )}\n              </div>\n            )}\n          </Field>\n        </Fragment>\n      )}\n    </Field>\n  )\n}\n\nconst styles = {\n  formField: css({\n    marginBottom: 20,\n  }),\n  label: css({\n    fontSize: 14,\n    fontWeight: \"bold\",\n    lineHeight: \"17px\",\n  }),\n  labelError: css({\n    color: globalStyles.colors.error,\n  }),\n  fieldRow: css({\n    height: 38,\n    marginTop: 5,\n    marginBottom: 5,\n    display: \"flex\",\n    select: {\n      borderRadius: 4,\n      border: \"1px solid\",\n      width: \"100%\",\n    },\n  }),\n  error: css({\n    height: 18,\n    color: globalStyles.colors.error,\n    fontSize: 12,\n    textDecoration: \"underline\",\n    lineHeight: \"15px\",\n  }),\n  fakeInput: css({\n    flexGrow: 1,\n    flexShrink: 1,\n    flexBasis: \"auto\",\n    paddingLeft: 23,\n    paddingRight: 23,\n\n    backgroundColor: \"white\",\n    borderRadius: 5,\n\n    fontSize: 14,\n    lineHeight: \"38px\",\n    cursor: \"not-allowed\",\n  }),\n}\n\nexport default RegionsDepartements\n\nconst regionsDepartements: { [key: string]: Array<string> } = {\n  \"Auvergne-Rhône-Alpes\": [\n    \"Ain\",\n    \"Allier\",\n    \"Ardèche\",\n    \"Cantal\",\n    \"Drôme\",\n    \"Isère\",\n    \"Loire\",\n    \"Haute-Loire\",\n    \"Puy-de-Dôme\",\n    \"Rhône\",\n    \"Savoie\",\n    \"Haute-Savoie\",\n  ],\n  \"Bourgogne-Franche-Comté\": [\n    \"Côte-d'Or\",\n    \"Doubs\",\n    \"Jura\",\n    \"Nièvre\",\n    \"Haute-Saône\",\n    \"Saône-et-Loire\",\n    \"Yonne\",\n    \"Territoire de Belfort\",\n  ],\n  Bretagne: [\"Côtes-d'Armor\", \"Finistère\", \"Ille-et-Vilaine\", \"Morbihan\"],\n  \"Centre-Val de Loire\": [\"Cher\", \"Eure-et-Loir\", \"Indre\", \"Indre-et-Loire\", \"Loir-et-Cher\", \"Loiret\"],\n  Corse: [\"Corse-du-Sud\", \"Haute-Corse\"],\n  \"Grand Est\": [\n    \"Ardennes\",\n    \"Aube\",\n    \"Marne\",\n    \"Haute-Marne\",\n    \"Meurthe-et-Moselle\",\n    \"Meuse\",\n    \"Moselle\",\n    \"Bas-Rhin\",\n    \"Haut-Rhin\",\n    \"Vosges\",\n  ],\n  Guadeloupe: [\"Guadeloupe\"],\n  Guyane: [\"Guyane\"],\n  \"Hauts-de-France\": [\"Aisne\", \"Nord\", \"Oise\", \"Pas-de-Calais\", \"Somme\"],\n  \"Île-de-France\": [\n    \"Paris\",\n    \"Seine-et-Marne\",\n    \"Yvelines\",\n    \"Essonne\",\n    \"Hauts-de-Seine\",\n    \"Seine-Saint-Denis\",\n    \"Val-de-Marne\",\n    \"Val-d'Oise\",\n  ],\n  \"La Réunion\": [\"La Réunion\"],\n  Martinique: [\"Martinique\"],\n  Mayotte: [\"Mayotte\"],\n  Normandie: [\"Calvados\", \"Eure\", \"Manche\", \"Orne\", \"Seine-Maritime\"],\n  \"Nouvelle-Aquitaine\": [\n    \"Charente\",\n    \"Charente-Maritime\",\n    \"Corrèze\",\n    \"Creuse\",\n    \"Dordogne\",\n    \"Gironde\",\n    \"Landes\",\n    \"Lot-et-Garonne\",\n    \"Pyrénées-Atlantiques\",\n    \"Deux-Sèvres\",\n    \"Vienne\",\n    \"Haute-Vienne\",\n  ],\n  Occitanie: [\n    \"Ariège\",\n    \"Aude\",\n    \"Aveyron\",\n    \"Gard\",\n    \"Haute-Garonne\",\n    \"Gers\",\n    \"Hérault\",\n    \"Lot\",\n    \"Lozère\",\n    \"Hautes-Pyrénées\",\n    \"Pyrénées-Orientales\",\n    \"Tarn\",\n    \"Tarn-et-Garonne\",\n  ],\n  \"Pays de la Loire\": [\"Loire-Atlantique\", \"Maine-et-Loire\", \"Mayenne\", \"Sarthe\", \"Vendée\"],\n  \"Provence-Alpes-Côte d'Azur\": [\n    \"Alpes-de-Haute-Provence\",\n    \"Hautes-Alpes\",\n    \"Alpes-Maritimes\",\n    \"Bouches-du-Rhône\",\n    \"Var\",\n    \"Vaucluse\",\n  ],\n}\n\nexport const regionCode: { [key: string]: string } = {\n  \"Auvergne-Rhône-Alpes\": \"84\",\n  \"Bourgogne-Franche-Comté\": \"27\",\n  Bretagne: \"53\",\n  \"Centre-Val de Loire\": \"24\",\n  Corse: \"94\",\n  \"Grand Est\": \"44\",\n  Guadeloupe: \"01\",\n  Guyane: \"03\",\n  \"Hauts-de-France\": \"32\",\n  \"Île-de-France\": \"11\",\n  \"La Réunion\": \"04\",\n  Martinique: \"02\",\n  Mayotte: \"06\",\n  Normandie: \"28\",\n  \"Nouvelle-Aquitaine\": \"75\",\n  Occitanie: \"76\",\n  \"Pays de la Loire\": \"52\",\n  \"Provence-Alpes-Côte d'Azur\": \"93\",\n}\n\nexport const stringFromCode = (correspondance: { [key: string]: string }) => (code: string) =>\n  //TODO REFACTOR : utiliser Object.values\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  Object.entries(correspondance || {}).find(([_, c]) => c === code)?.[0] || \"\"\n\nexport const regionFromCode = stringFromCode(regionCode)\n\nexport const departementCode: { [key: string]: string } = {\n  Ain: \"01\",\n  Aisne: \"02\",\n  Allier: \"03\",\n  \"Alpes-de-Haute-Provence\": \"04\",\n  \"Hautes-Alpes\": \"05\",\n  \"Alpes-Maritimes\": \"06\",\n  Ardèche: \"07\",\n  Ardennes: \"08\",\n  Ariège: \"09\",\n  Aube: \"10\",\n  Aude: \"11\",\n  Aveyron: \"12\",\n  \"Bouches-du-Rhône\": \"13\",\n  Calvados: \"14\",\n  Cantal: \"15\",\n  Charente: \"16\",\n  \"Charente-Maritime\": \"17\",\n  Cher: \"18\",\n  Corrèze: \"19\",\n  \"Corse-du-Sud\": \"2A\",\n  \"Haute-Corse\": \"2B\",\n  \"Côte-d'Or\": \"21\",\n  \"Côtes-d'Armor\": \"22\",\n  Creuse: \"23\",\n  Dordogne: \"24\",\n  Doubs: \"25\",\n  Drôme: \"26\",\n  Eure: \"27\",\n  \"Eure-et-Loir\": \"28\",\n  Finistère: \"29\",\n  Gard: \"30\",\n  \"Haute-Garonne\": \"31\",\n  Gers: \"32\",\n  Gironde: \"33\",\n  Hérault: \"34\",\n  \"Ille-et-Vilaine\": \"35\",\n  Indre: \"36\",\n  \"Indre-et-Loire\": \"37\",\n  Isère: \"38\",\n  Jura: \"39\",\n  Landes: \"40\",\n  \"Loir-et-Cher\": \"41\",\n  Loire: \"42\",\n  \"Haute-Loire\": \"43\",\n  \"Loire-Atlantique\": \"44\",\n  Loiret: \"45\",\n  Lot: \"46\",\n  \"Lot-et-Garonne\": \"47\",\n  Lozère: \"48\",\n  \"Maine-et-Loire\": \"49\",\n  Manche: \"50\",\n  Marne: \"51\",\n  \"Haute-Marne\": \"52\",\n  Mayenne: \"53\",\n  \"Meurthe-et-Moselle\": \"54\",\n  Meuse: \"55\",\n  Morbihan: \"56\",\n  Moselle: \"57\",\n  Nièvre: \"58\",\n  Nord: \"59\",\n  Oise: \"60\",\n  Orne: \"61\",\n  \"Pas-de-Calais\": \"62\",\n  \"Puy-de-Dôme\": \"63\",\n  \"Pyrénées-Atlantiques\": \"64\",\n  \"Hautes-Pyrénées\": \"65\",\n  \"Pyrénées-Orientales\": \"66\",\n  \"Bas-Rhin\": \"67\",\n  \"Haut-Rhin\": \"68\",\n  Rhône: \"69\",\n  \"Haute-Saône\": \"70\",\n  \"Saône-et-Loire\": \"71\",\n  Sarthe: \"72\",\n  Savoie: \"73\",\n  \"Haute-Savoie\": \"74\",\n  Paris: \"75\",\n  \"Seine-Maritime\": \"76\",\n  \"Seine-et-Marne\": \"77\",\n  Yvelines: \"78\",\n  \"Deux-Sèvres\": \"79\",\n  Somme: \"80\",\n  Tarn: \"81\",\n  \"Tarn-et-Garonne\": \"82\",\n  Var: \"83\",\n  Vaucluse: \"84\",\n  Vendée: \"85\",\n  Vienne: \"86\",\n  \"Haute-Vienne\": \"87\",\n  Vosges: \"88\",\n  Yonne: \"89\",\n  \"Territoire de Belfort\": \"90\",\n  Essonne: \"91\",\n  \"Hauts-de-Seine\": \"92\",\n  \"Seine-Saint-Denis\": \"93\",\n  \"Val-de-Marne\": \"94\",\n  \"Val-d'Oise\": \"95\",\n  Guadeloupe: \"971\",\n  Martinique: \"972\",\n  Guyane: \"973\",\n  \"La Réunion\": \"974\",\n  \"Saint-Pierre-et-Miquelon\": \"975\",\n  Mayotte: \"976\",\n  \"Saint-Barthélemy\": \"977\",\n  \"Saint-Martin\": \"978\",\n  \"Terres australes et antarctiques françaises\": \"984\",\n  \"Wallis-et-Futuna\": \"986\",\n  \"Polynésie française\": \"987\",\n  \"Nouvelle-Calédonie\": \"988\",\n  \"Île de Clipperton\": \"989\",\n}\n\nexport const departementFromCode = stringFromCode(departementCode)\n","import * as Sentry from \"@sentry/react\"\nimport { addYears, addDays, format, parse as rootParse, parseISO } from \"date-fns\"\nimport { regionCode, departementCode } from \"../components/RegionsDepartements\"\n\nimport { TranchesAges, CategorieSocioPro, AppState } from \"../globals\"\n\nexport function displayNameTranchesAges(trancheAge: TranchesAges): string {\n  switch (trancheAge) {\n    case TranchesAges.MoinsDe30ans:\n      return \"moins de 30 ans\"\n    case TranchesAges.De30a39ans:\n      return \"30 à 39 ans\"\n    case TranchesAges.De40a49ans:\n      return \"40 à 49 ans\"\n    case TranchesAges.PlusDe50ans:\n      return \"50 ans et plus\"\n    default:\n      return \"ERROR\"\n  }\n}\n\nexport function displayNameCategorieSocioPro(categorieSocioPro: CategorieSocioPro): string {\n  switch (categorieSocioPro) {\n    case CategorieSocioPro.Ouvriers:\n      return \"ouvriers\"\n    case CategorieSocioPro.Employes:\n      return \"employés\"\n    case CategorieSocioPro.Techniciens:\n      return \"techniciens et agents de maîtrise\"\n    case CategorieSocioPro.Cadres:\n      return \"ingénieurs et cadres\"\n    default:\n      return \"ERROR\"\n  }\n}\n\nexport function displayFractionPercent(num: number, digits = 2): string {\n  return displayPercent(num * 100, digits)\n}\n\nexport function displayPercent(num: number, digits = 1): string {\n  return num.toLocaleString(\"fr-FR\", { maximumFractionDigits: digits }) + \"%\"\n}\n\nexport function displayInt(num: number): string {\n  return num.toLocaleString(\"fr-FR\")\n}\n\nexport function displaySexeSurRepresente(indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined): string {\n  return indicateurSexeSurRepresente !== undefined\n    ? `écart favorable aux ${indicateurSexeSurRepresente}`\n    : \"les femmes et les hommes sont à égalité\"\n}\n\n/* Utils */\n\nexport const roundDecimal = (num: number, decimal: number): number => {\n  const mult = Math.pow(10, decimal)\n  return Math.round(num * mult) / mult\n}\n\nexport const fractionToPercentage = (num: number) => roundDecimal(num * 100, 5)\n\nexport const percentageToFraction = (num: number) => roundDecimal(num / 100, 5)\n\n/* Dates */\n\nexport function parseDate(dateStr: string): Date | undefined {\n  const parsed = parseISO(dateStr)\n  if (parsed.toString() === \"Invalid Date\") {\n    const rootParsed = rootParse(dateStr, \"dd/MM/yyyy\", new Date())\n    if (rootParsed.toString() === \"Invalid Date\") {\n      return\n    }\n    return rootParsed\n  }\n  return parsed\n}\n\nexport function dateToString(date: Date | undefined): string {\n  return date !== undefined ? format(date, \"dd/MM/yyyy\") : \"\"\n}\n\nexport enum Year {\n  Add,\n  Subtract,\n}\n\n// Return a date that is exactly one year later or before:\n// Eg: one year in the future: 2019-01-01 -> 2019-12-31\nexport function calendarYear(dateStr: string, operation: Year, numYears: number): string {\n  // Adding a year: we subtract a day to the final result.\n  // Subtracting a year: we add a day to the final result.\n  const year = operation === Year.Add ? numYears : -numYears\n  const day = operation === Year.Add ? -1 : 1\n  const date = parseDate(dateStr)\n  if (date === undefined) {\n    return \"\"\n  }\n  const yearsAdded = addYears(date, year)\n  const dayAdded = addDays(yearsAdded, day)\n  return format(dayAdded, \"dd/MM/yyyy\")\n}\n\n/* Misc */\n\nexport const messageEcartNombreEquivalentSalaries = (\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined,\n  plusPetitNombreSalaries: \"hommes\" | \"femmes\" | undefined,\n): string => {\n  if (indicateurSexeSurRepresente === \"hommes\" && plusPetitNombreSalaries === \"femmes\") {\n    return \"* si ce nombre de femmes supplémentaires avait bénéficié d'une augmentation, les taux d'augmentation seraient égaux entre hommes et femmes.\"\n  } else if (indicateurSexeSurRepresente === \"hommes\" && plusPetitNombreSalaries === \"hommes\") {\n    return \"* si ce nombre d'hommes n'avait pas reçu d'augmentation parmi les bénéficiaires, les taux d'augmentation seraient égaux entre hommes et femmes.\"\n  } else if (indicateurSexeSurRepresente === \"hommes\" && plusPetitNombreSalaries === undefined) {\n    return \"* si ce nombre de femmes supplémentaires avait bénéficié d'une augmentation, les taux d'augmentation seraient égaux entre hommes et femmes.\"\n  } else if (indicateurSexeSurRepresente === \"femmes\" && plusPetitNombreSalaries === \"femmes\") {\n    return \"* si ce nombre de femmes n'avait pas reçu d'augmentation parmi les bénéficiaires, les taux d'augmentation seraient égaux entre hommes et femmes.\"\n  } else if (indicateurSexeSurRepresente === \"femmes\" && plusPetitNombreSalaries === \"hommes\") {\n    return \"* si ce nombre d'hommes supplémentaires avait bénéficié d'une augmentation, les taux d'augmentation seraient égaux entre hommes et femmes.\"\n  } else if (indicateurSexeSurRepresente === \"femmes\" && plusPetitNombreSalaries === undefined) {\n    return \"* si ce nombre d'hommes supplémentaires avait bénéficié d'une augmentation, les taux d'augmentation seraient égaux entre hommes et femmes.\"\n  } else {\n    return \"\"\n  }\n}\n\nexport const messageMesureCorrection = (\n  sexeSurRepresente: undefined | \"femmes\" | \"hommes\",\n  ecartDe: string,\n  noteMax: string,\n) => {\n  return sexeSurRepresente === \"femmes\"\n    ? `** L’écart de taux ${ecartDe} est en faveur des femmes tandis que l’écart de rémunération est en faveur des hommes, donc l’écart de taux ${ecartDe} est considéré comme une mesure de correction. La note obtenue est de ${noteMax}.`\n    : sexeSurRepresente === \"hommes\"\n    ? `** L’écart de taux ${ecartDe} est en faveur des hommes tandis que l’écart de rémunération est en faveur des femmes, donc l’écart de taux ${ecartDe} est considéré comme une mesure de correction. La note obtenue est de ${noteMax}.`\n    : \"\"\n}\n\n// Format the data from the AppReducer to be compatible with the API new format\n\nconst toISOString = (date: string) => {\n  const parsed = parseDate(date)\n  return parsed ? format(parsed, \"yyyy-MM-dd\") : undefined\n}\n\nexport const formatDataForAPI = (id: string, data: AppState) => {\n  // Indicateurs\n  const output = {\n    id,\n    source: \"simulateur\",\n    déclaration: getDeclaration(data),\n    déclarant: getDeclarant(data),\n    entreprise: getEntreprise(data),\n    indicateurs: getIndicateurs(data),\n  }\n\n  return output\n}\n\n// Déclaration\nconst getDeclaration = (data: AppState): any => {\n  const declaration: any = {\n    année_indicateurs: data.informations.anneeDeclaration,\n    fin_période_référence: toISOString(data.informations.finPeriodeReference),\n    points: data.declaration.totalPoint,\n    points_calculables: data.declaration.totalPointCalculable,\n  }\n  const index = data.declaration.noteIndex\n\n  if (index || (data.informations.anneeDeclaration && data.informations.anneeDeclaration >= 2020)) {\n    declaration.publication = {\n      date: toISOString(data.declaration.datePublication),\n    }\n    if (data.declaration.publicationSurSiteInternet) {\n      declaration.publication.url = data.declaration.lienPublication\n    } else {\n      declaration.publication.modalités = data.declaration.modalitesPublication\n    }\n  }\n\n  if (index) {\n    declaration.index = index\n    if (index < 75) {\n      declaration.mesures_correctives = data.declaration.mesuresCorrection\n    }\n  }\n  return declaration\n}\n\n// Déclarant\nconst getDeclarant = (data: AppState): any => {\n  const declarant: any = {\n    prénom: data.informationsDeclarant.prenom,\n    nom: data.informationsDeclarant.nom,\n    téléphone: data.informationsDeclarant.tel,\n    email: data.informationsDeclarant.email,\n  }\n  return declarant\n}\n\n// Entreprise\nconst getEntreprise = (data: AppState): any => {\n  const entreprise: any = {\n    raison_sociale: data.informationsEntreprise.nomEntreprise,\n    siren: data.informationsEntreprise.siren,\n    région: regionCode[data.informationsEntreprise.region],\n    département: departementCode[data.informationsEntreprise.departement],\n    adresse: data.informationsEntreprise.adresse,\n    commune: data.informationsEntreprise.commune,\n    code_postal: data.informationsEntreprise.codePostal,\n    code_naf: data.informationsEntreprise.codeNaf.split(\" \")[0], // Only get the code like \"01.22Z\"\n    effectif: {\n      // @ts-ignore\n      total: data.effectif.nombreSalariesTotal,\n      tranche:\n        data.informations.trancheEffectifs === \"50 à 250\"\n          ? \"50:250\"\n          : data.informations.trancheEffectifs === \"251 à 999\"\n          ? \"251:999\"\n          : \"1000:\",\n    },\n  }\n  if (data.informationsEntreprise.structure !== \"Entreprise\") {\n    entreprise.ues = {\n      nom: data.informationsEntreprise.nomUES,\n      entreprises: data.informationsEntreprise.entreprisesUES.map(({ nom, siren }) => ({ raison_sociale: nom, siren })),\n    }\n  }\n  return entreprise\n}\n\n// Indicateurs\nconst getIndicateurs = (data: AppState): any => {\n  const indicateurs: any = {\n    rémunérations: getIndicateur1(data),\n    congés_maternité: getIndicateur4(data),\n    hautes_rémunérations: getIndicateur5(data),\n  }\n  if (data.informations.trancheEffectifs === \"50 à 250\") {\n    indicateurs.augmentations_et_promotions = getIndicateur2et3(data)\n  } else {\n    indicateurs.augmentations = getIndicateur2(data)\n    indicateurs.promotions = getIndicateur3(data)\n  }\n  return indicateurs\n}\n\nconst asPercentage = (value: number | undefined) => {\n  // Return `33` for \"33%\" (which is passed in as a value of 0.33)\n  if (value !== undefined) {\n    return value * 100\n  }\n}\n\n// Indicateur 1 relatif à l'écart de rémunération entre les femmes et les hommes\nconst getIndicateur1 = (data: AppState): any => {\n  // @ts-ignore\n  const motif = data.indicateurUn.motifNonCalculable\n  if (motif) {\n    return { non_calculable: motif }\n  }\n  const indicateur1: any = {\n    mode: data.indicateurUn.csp ? \"csp\" : data.indicateurUn.coef ? \"niveau_branche\" : \"niveau_autre\",\n    // @ts-ignore\n    résultat: data.indicateurUn.resultatFinal,\n    // @ts-ignore\n    note: data.indicateurUn.noteFinale,\n  }\n  // @ts-ignore\n  const sexeSurRepresente = data.indicateurUn.sexeSurRepresente\n  if (sexeSurRepresente && sexeSurRepresente !== \"egalite\") {\n    indicateur1.population_favorable = sexeSurRepresente\n  }\n  if (indicateur1.mode !== \"csp\") {\n    indicateur1.date_consultation_cse = toISOString(data.declaration.dateConsultationCSE)\n    indicateur1.catégories = data.indicateurUn.coefficient.map((coef) => ({\n      nom: coef.name,\n      tranches: {\n        \":29\": asPercentage(coef.tranchesAges[0].ecartTauxRemuneration),\n        \"30:39\": asPercentage(coef.tranchesAges[1].ecartTauxRemuneration),\n        \"40:49\": asPercentage(coef.tranchesAges[2].ecartTauxRemuneration),\n        \"50:\": asPercentage(coef.tranchesAges[3].ecartTauxRemuneration),\n      },\n    }))\n  } else {\n    const csp = [\"ouv\", \"emp\", \"tam\", \"ic\"]\n    indicateur1.catégories = data.indicateurUn.remunerationAnnuelle.map((coef, index) => ({\n      nom: csp[index],\n      tranches: {\n        \":29\": asPercentage(coef.tranchesAges[0].ecartTauxRemuneration),\n        \"30:39\": asPercentage(coef.tranchesAges[1].ecartTauxRemuneration),\n        \"40:49\": asPercentage(coef.tranchesAges[2].ecartTauxRemuneration),\n        \"50:\": asPercentage(coef.tranchesAges[3].ecartTauxRemuneration),\n      },\n    }))\n  }\n  return indicateur1\n}\n\n// Indicateur 2 relatif à l'écart de taux d'augmentations individuelles(hors promotion) entre les femmes et les homme\nconst getIndicateur2 = (data: AppState): any => {\n  // @ts-ignore\n  const motif = data.indicateurDeux.motifNonCalculable\n  if (motif) {\n    return { non_calculable: motif }\n  }\n  // @ts-ignore\n  const indicateur2: any = {\n    // @ts-ignore\n    résultat: data.indicateurDeux.resultatFinal,\n    // @ts-ignore\n    note: data.indicateurDeux.noteFinale,\n    catégories: data.indicateurDeux.tauxAugmentation.map((cat) => asPercentage(cat.ecartTauxAugmentation)),\n  }\n  // @ts-ignore\n  const sexeSurRepresente = data.indicateurDeux.sexeSurRepresente\n  if (sexeSurRepresente && sexeSurRepresente !== \"egalite\") {\n    indicateur2.population_favorable = sexeSurRepresente\n  }\n  return indicateur2\n}\n\n// Indicateur 3 relatif à l'écart de taux de promotions entre les femmes et les hommes\nconst getIndicateur3 = (data: AppState): any => {\n  // @ts-ignore\n  const motif = data.indicateurTrois.motifNonCalculable\n  if (motif) {\n    return { non_calculable: motif }\n  }\n  // @ts-ignore\n  const indicateur3: any = {\n    // @ts-ignore\n    résultat: data.indicateurTrois.resultatFinal,\n    // @ts-ignore\n    note: data.indicateurTrois.noteFinale,\n    catégories: data.indicateurTrois.tauxPromotion.map((cat) => asPercentage(cat.ecartTauxPromotion)),\n  }\n  // @ts-ignore\n  const sexeSurRepresente = data.indicateurTrois.sexeSurRepresente\n  if (sexeSurRepresente && sexeSurRepresente !== \"egalite\") {\n    indicateur3.population_favorable = sexeSurRepresente\n  }\n  return indicateur3\n}\n\n// Indicateur 2et3 relatif à l'écart de taux d'augmentations individuelles entre les femmes et les homme pour les entreprises de 250 salariés ou moins\nconst getIndicateur2et3 = (data: AppState): any => {\n  // @ts-ignore\n  const motif = data.indicateurDeuxTrois.motifNonCalculable\n  if (motif) {\n    return { non_calculable: motif }\n  }\n  const indicateur2et3: any = {\n    // @ts-ignore\n    résultat: data.indicateurDeuxTrois.resultatFinalEcart,\n    // @ts-ignore\n    note_en_pourcentage: data.indicateurDeuxTrois.noteEcart,\n    résultat_nombre_salariés:\n      // @ts-ignore\n      data.indicateurDeuxTrois.resultatFinalNombreSalaries,\n    // @ts-ignore\n    note_nombre_salariés: data.indicateurDeuxTrois.noteNombreSalaries,\n    // @ts-ignore\n    note: data.indicateurDeuxTrois.noteFinale,\n  }\n  // @ts-ignore\n  const sexeSurRepresente = data.indicateurDeuxTrois.sexeSurRepresente\n  if (sexeSurRepresente && sexeSurRepresente !== \"egalite\") {\n    indicateur2et3.population_favorable = sexeSurRepresente\n  }\n  return indicateur2et3\n}\n\n// Indicateur 4 relatif au pourcentage de salariées ayant bénéficié d'une augmentation dans l'année suivant leur retour de congé de maternité\nconst getIndicateur4 = (data: AppState): any => {\n  // @ts-ignore\n  const motif = data.indicateurQuatre.motifNonCalculable\n  if (motif) {\n    return { non_calculable: motif.replace(\"absretcm\", \"absrcm\") }\n  }\n  const indicateur4: any = {\n    // @ts-ignore\n    résultat: data.indicateurQuatre.resultatFinal,\n    // @ts-ignore\n    note: data.indicateurQuatre.noteFinale,\n  }\n  return indicateur4\n}\n\n// Indicateur 5 relatif au nombre de salariés du sexe sous- représenté parmi les 10 salariés ayant perçu les plus hautes rémunérations\nconst getIndicateur5 = (data: AppState): any => {\n  // @ts-ignore\n  const motif = data.indicateurCinq.motifNonCalculable\n  if (motif) {\n    return { non_calculable: motif }\n  }\n  const indicateur5: any = {\n    // @ts-ignore\n    résultat: data.indicateurCinq.resultatFinal,\n    // @ts-ignore\n    note: data.indicateurCinq.noteFinale,\n  }\n  // @ts-ignore\n  const sexeSurRepresente = data.indicateurCinq.sexeSurRepresente\n  if (sexeSurRepresente && sexeSurRepresente !== \"egalite\") {\n    indicateur5.population_favorable = sexeSurRepresente\n  }\n  return indicateur5\n}\n\n/* SENTRY */\nexport function logToSentry(error: any, data: any) {\n  if (process.env.REACT_APP_SENTRY_DSN) {\n    Sentry.captureException(error, {\n      extra: data,\n    })\n  }\n}\n","import React from \"react\"\nimport { Button } from \"@chakra-ui/react\"\n\nexport interface ButtonProps {\n  label: string\n  colorScheme?: \"primary\" | \"gray\" | \"orange\"\n  variant?: \"solid\" | \"outline\" | \"ghost\" | \"link\"\n  leftIcon?: React.ReactElement\n  rightIcon?: React.ReactElement\n  size?: \"xs\" | \"sm\" | \"md\" | \"lg\"\n  fullWidth?: boolean\n}\n\nexport type ButtonActionProps = ButtonProps & {\n  onClick?: () => void\n  disabled?: boolean\n  loading?: boolean\n  type?: \"button\" | \"submit\" | \"reset\" | undefined\n}\n\nfunction ButtonAction({\n  label,\n  colorScheme = \"primary\",\n  variant = \"solid\",\n  onClick,\n  leftIcon,\n  rightIcon,\n  type,\n  size = \"md\",\n  disabled = false,\n  loading = false,\n  fullWidth,\n}: ButtonActionProps) {\n  return (\n    <Button\n      size={size}\n      type={type}\n      onClick={onClick}\n      isDisabled={disabled}\n      isLoading={loading}\n      colorScheme={colorScheme}\n      variant={variant}\n      leftIcon={leftIcon}\n      rightIcon={rightIcon}\n      sx={{\n        width: fullWidth ? \"100%\" : \"auto\",\n      }}\n    >\n      {label}\n    </Button>\n  )\n}\nexport default ButtonAction\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\n\nfunction ErrorMessage(errorMessage: string | undefined) {\n  return (\n    <div css={styles.errorMessage}>\n      <p>{errorMessage || \"Erreur\"}</p>\n    </div>\n  )\n}\n\nconst styles = {\n  errorMessage: css({\n    margin: \"auto\",\n    alignSelf: \"center\",\n  }),\n}\n\nexport default ErrorMessage\n","import React from \"react\"\nimport { Button } from \"@chakra-ui/react\"\nimport { ButtonProps } from \"./ButtonAction\"\n\ntype ButtonLinkNoRouterProps = ButtonProps & {\n  to: string\n}\n\nfunction ButtonLinkNoRouter({\n  label,\n  to,\n  colorScheme = \"primary\",\n  variant = \"solid\",\n  leftIcon,\n  rightIcon,\n  size = \"md\",\n  fullWidth,\n}: ButtonLinkNoRouterProps) {\n  return (\n    <Button\n      href={to}\n      as=\"a\"\n      colorScheme={colorScheme}\n      variant={variant}\n      leftIcon={leftIcon}\n      rightIcon={rightIcon}\n      size={size}\n      sx={{\n        width: fullWidth ? \"100%\" : \"auto\",\n      }}\n    >\n      {label}\n    </Button>\n  )\n}\n\nexport default ButtonLinkNoRouter\n","import React, { FunctionComponent } from \"react\"\nimport { Box, Heading, Image, Text, Flex } from \"@chakra-ui/react\"\n\nexport type CardProps = {\n  img: {\n    url: string\n    alt?: string\n  }\n  legend: string\n  title: {\n    text: string\n    node: \"h2\" | \"h3\" | \"h4\" | \"h5\" | \"h6\" | \"p\"\n  }\n  content: string\n  action: React.ReactElement\n}\n\nconst Card: FunctionComponent<CardProps> = ({ img, legend, title, content, action }) => {\n  return (\n    <Flex p={{ base: 4, lg: 6 }} direction=\"column\" bg=\"white\" borderRadius=\"lg\" borderWidth={1}>\n      <Image src={`${process.env.PUBLIC_URL}/${img.url}`} aria-hidden=\"true\" alt={img.alt || \"\"} />\n      <Box mt={{ base: 3, lg: 4 }} flexGrow={1}>\n        <Text fontSize=\"sm\" color=\"primary.500\" fontWeight=\"normal\" mb={1}>\n          {legend}\n        </Text>\n        <Heading fontSize=\"xl\" as={title.node} fontFamily=\"font.body\">\n          {title.text}\n        </Heading>\n        <Text mt={2} fontSize=\"sm\">\n          {content}\n        </Text>\n      </Box>\n      <Box mt={4}>{action}</Box>\n    </Flex>\n  )\n}\n\nexport default Card\n","import React, { useState } from \"react\"\nimport { RouteComponentProps } from \"react-router-dom\"\n\nimport { ActionType } from \"../globals\"\nimport { postIndicatorsDatas } from \"../utils/api\"\nimport { logToSentry } from \"../utils/helpers\"\n\nimport Page from \"../components/Page\"\nimport ButtonAction from \"../components/ButtonAction\"\nimport ErrorMessage from \"../components/ErrorMessage\"\nimport ButtonLinkNoRouter from \"../components/ButtonLinkNoRouter\"\nimport { Heading, SimpleGrid } from \"@chakra-ui/react\"\nimport Card from \"../components/ds/Card\"\n\ninterface Props extends RouteComponentProps {\n  dispatch: (action: ActionType) => void\n}\n\nfunction Home({ history, location, dispatch }: Props) {\n  const [loading, setLoading] = useState(false)\n  const [errorMessage, setErrorMessage] = useState(undefined)\n\n  const onClick = () => {\n    setLoading(true)\n    dispatch({ type: \"resetState\" })\n\n    postIndicatorsDatas({})\n      .then(({ jsonBody: { id } }) => {\n        setLoading(false)\n        history.push(`/simulateur/${id}`, {\n          ...(location.state && location.state),\n        })\n      })\n      .catch((error) => {\n        setLoading(false)\n        const errorMessage = (error.jsonBody && error.jsonBody.message) || \"Erreur lors de la récupération du code\"\n        setErrorMessage(errorMessage)\n        logToSentry(error, undefined)\n      })\n  }\n\n  if (!loading && errorMessage) {\n    return ErrorMessage(errorMessage)\n  }\n\n  return (\n    <Page\n      title=\"Bienvenue sur Index Egapro\"\n      tagline={[\n        \"L’Index de l'égalité professionnelle a été conçu pour faire progresser au sein des entreprises l’égalité salariale entre les femmes et les hommes.\",\n        \"Il permet aux entreprises de mesurer, en toute transparence, les écarts de rémunération entre les sexes et de mettre en évidence leurs points de progression. Lorsque des disparités salariales sont constatées, des mesures de correction doivent être prises.\",\n      ]}\n    >\n      <div>\n        <Heading as=\"h2\" size=\"md\" mb={6}>\n          Comment calculer et déclarer l’index égalité femmes-hommes&nbsp;?\n        </Heading>\n        <SimpleGrid columns={{ base: 1, lg: 2 }} spacing={6}>\n          <Card\n            img={{\n              url: \"illustration-simulator.svg\",\n            }}\n            legend=\"Choix 1\"\n            title={{\n              node: \"h3\",\n              text: \"Calcul et déclaration de l'index\",\n            }}\n            content=\"Vous pouvez calculer votre index égalité professionnelle F/H sur Index Egapro et le déclarer, si vous le souhaitez, suite au calcul.\"\n            action={\n              <ButtonAction\n                onClick={onClick}\n                label=\"Commencer le calcul\"\n                disabled={loading}\n                loading={loading}\n                fullWidth\n              />\n            }\n          />\n          <Card\n            img={{\n              url: \"illustration-publish.svg\",\n            }}\n            legend=\"Choix 2\"\n            title={{\n              node: \"h3\",\n              text: \"Déclaration directe de l'index\",\n            }}\n            content=\"Vous pouvez déclarer votre index égalité professionnelle F/H calculé par ailleurs directement via le\n                formulaire suivant.\"\n            action={<ButtonLinkNoRouter to=\"/declaration/\" label=\"Déclarer directement\" fullWidth />}\n          />\n        </SimpleGrid>\n      </div>\n    </Page>\n  )\n}\n\nexport default Home\n","import React from \"react\"\nimport { Text, Heading, Link, UnorderedList, ListItem } from \"@chakra-ui/react\"\nimport Page from \"../components/Page\"\nimport { useTitle } from \"../utils/hooks\"\n\nconst title = \"Mentions légales\"\n\nfunction MentionsLegales() {\n  useTitle(title)\n\n  return (\n    <Page title={title}>\n      <Heading as=\"h2\" size=\"md\" mb={3}>\n        Éditeur de la plateforme\n      </Heading>\n      <Text>Index Egapro est édité par la Fabrique Numérique des Ministères sociaux.</Text>\n      <UnorderedList mt={2} spacing={1}>\n        <ListItem>Adresse&nbsp;: Tour Mirabeau, 39-43 Quai André Citroën 75015 PARIS</ListItem>\n        <ListItem>Tél&nbsp;: 01 40 56 60 00</ListItem>\n      </UnorderedList>\n      <Heading as=\"h2\" size=\"md\" mb={3} mt={6}>\n        Directeur de la publication\n      </Heading>\n      <Text>Directeur Général du Travail.</Text>\n      <Heading as=\"h2\" size=\"md\" mb={3} mt={6}>\n        Hébergement de la plateforme\n      </Heading>\n      <Text>\n        Ce site est hébergé au&nbsp;:\n        <br />\n        Ministère des Affaires sociales et de la Santé\n        <br />\n        14 avenue Duquesne 75530 PARIS\n      </Text>\n      <Heading as=\"h2\" size=\"md\" mb={3} mt={6}>\n        Accessibilité\n      </Heading>\n      <Text>\n        La conformité aux normes d’accessibilité numérique est un objectif ultérieur mais nous tâchons de rendre ce site\n        accessible à toutes et à tous.\n      </Text>\n      <Heading as=\"h3\" size=\"sm\" mb={2} mt={3}>\n        Signaler un dysfonctionnement\n      </Heading>\n      <Text>\n        Si vous rencontrez un défaut d’accessibilité vous empêchant d’accéder à un contenu ou une fonctionnalité du\n        site, merci de nous en faire part.\n        <br />\n        Si vous n’obtenez pas de réponse rapide de notre part, vous êtes en droit de faire parvenir vos doléances ou une\n        demande de saisine au Défenseur des droits.\n      </Text>\n      <Heading as=\"h3\" size=\"sm\" mb={2} mt={3}>\n        En savoir plus\n      </Heading>\n      <Text>\n        Pour en savoir plus sur la politique d’accessibilité numérique de l’État :<br />\n        <Link href=\"http://references.modernisation.gouv.fr/accessibilite-numerique\" isExternal color=\"primary.500\">\n          http://references.modernisation.gouv.fr/accessibilite-numerique\n        </Link>\n      </Text>\n      <Heading as=\"h2\" size=\"md\" mb={3} mt={6}>\n        Sécurité\n      </Heading>\n      <Text>\n        Le site est protégé par un certificat électronique, matérialisé pour la grande majorité des navigateurs par un\n        cadenas. Cette protection participe à la confidentialité des échanges. En aucun cas les services associés à la\n        plateforme ne seront à l’origine d’envoi de courriels pour demander la saisie d’informations personnelles.\n      </Text>\n    </Page>\n  )\n}\n\nexport default MentionsLegales\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\n\nimport Page from \"../components/Page\"\nimport { useTitle } from \"../utils/hooks\"\n\nfunction CGU() {\n  useTitle(\"Politique de confidentialité\")\n\n  return (\n    <Page title=\"Protection des données à caractère personnel\">\n      <div css={styles.content}>\n        <h2 css={styles.title}>Responsable de traitement</h2>\n        <p>Le responsable de traitements est la Direction Générale du Travail.</p>\n        <h2 css={styles.title}>Données personnelles traitées</h2>\n        <p>La présente Plateforme traite les données personnelles suivantes :</p>\n        <ul>\n          <li>\n            Pour les simples visiteurs : identifiants de connexion, nature des opérations, date et heure de l'opération.\n          </li>\n          <li>Pour les utilisateurs du simulateur : adresse email, nom, prénom, numéro de téléphone.</li>\n          <li>Pour les utilisateurs du formulaire de déclaration : adresse email, nom, prénom, numéro de téléphone.</li>\n        </ul>\n        <h2 css={styles.title}>Finalités</h2>\n        <p>\n          Ces données sont nécessaires et proportionnées pour la réalisation de la mission de la Plateforme. Elles\n          permettent de calculer les écarts de rémunération femmes-hommes au sein des entreprises, et de réaliser les\n          déclarations qui en sont issues.\n        </p>\n        <h2 css={styles.title}>Bases juridiques</h2>\n        <p>\n          Conformément aux dispositions de l’article 6-e du Règlement relatif à la protection des données (appelé RGPD),\n          le traitement est nécessaire à l’exécution d’une mission d’intérêt public ou relève de l’exercice de\n          l’autorité publique dont est investi le Responsable de traitement.\n          <br />\n          <br />\n          Conformément aux dispositions de l’article 6-c du Règlement relatif à la protection des données (appelé RGPD),\n          le traitement de données relatif aux données de connexion est fondé sur l’obligation légale reposant sur le\n          responsable de traitement au titre de l’article 6 de la LCEN et de l’article 1 du décret n°2021-1363 du 20\n          octobre 2021.\n        </p>\n        <h2 css={styles.title}>Durée de conservation</h2>\n        <ul>\n          <li>Pour les cookies : 13 mois maximum, ou jusqu'au retrait du consentement de la personne concernée.</li>\n          <li>\n            Pour les données de connexion ou d’hébergeur : 12 mois (LCEN et décret n°2021-1363 du 20 octobre 2021).\n          </li>\n          <li>\n            Pour les données des utilisateurs du simulateur et du formulaire de déclaration : temps nécessaire au\n            traitement de la demande, sans excéder 3 mois.\n          </li>\n        </ul>\n        <p>\n          Passés ces délais de conservation, les responsables de traitement s’engagent à supprimer définitivement les\n          données des personnes concernées.\n        </p>\n        <h2 css={styles.title}>Sécurité et confidentialité</h2>\n        <p>\n          Les données personnelles sont traitées dans des conditions sécurisées, selon les moyens actuels de la\n          technique, dans le respect des dispositions relatives à la protection de la vie privée et notamment au\n          référentiel général de sécurité, prévu à l’article 9 de l’ordonnance 2005-1516 du 8 décembre 2005 relative aux\n          échanges électroniques entre les usagers et les autorités administratives et entre les autorités\n          administratives.\n          <br />\n          <br />\n          Les moyens de sécurisation suivants ont notamment été mis en oeuvre :\n        </p>\n        <ul>\n          <li>Pare feu système ;</li>\n          <li>Pare feu applicatif (WAF) ;</li>\n          <li>Chiffrement des flux réseaux via certificat SSL ;</li>\n          <li>Disque dur chiffré ;</li>\n          <li>Services isolés dans des containers ;</li>\n          <li>Gestion des journaux ;</li>\n          <li>Monitoring Azure ;</li>\n          <li>Administration et monitoring centralisés des accès ;</li>\n          <li>Accès aux ressources via clés SSH (pas de mot de passe post installation) ;</li>\n          <li>Sauvegarde des bases de données via solution de stockage Azure ;</li>\n          <li>\n            Accès aux données réservé aux membres de l'entité (hors restitution applicative publique des données) ;\n          </li>\n          <li>\n            Accès aux données uniquement via un outil d'édition sécurisé (SSL + mot de passe) avec utilisation de\n            comptes nominatifs.\n          </li>\n        </ul>\n        <h2 css={styles.title}>Droits des personnes concernées</h2>\n        <p>Vous disposez des droits suivants concernant vos données à caractère personnel en tant qu’utilisateurs :</p>\n        <ul>\n          <li>Droit d’information, d’accès et de communication des données ;</li>\n          <li>Droit de rectification et le cas échéant de suppression des données ;</li>\n          <li>Droit d’opposition au traitement de données, le cas échéant.</li>\n        </ul>\n        <p>Vous disposez des droits suivants concernant vos données de connexion :</p>\n        <ul>\n          <li>Droit d’information et droit d’accès ;</li>\n          <li>Droit de rectification.</li>\n        </ul>\n        <p>\n          Vous pouvez exercer ces droits en écrivant à <a href=\"mailto:index@travail.gouv.fr\">index@travail.gouv.fr</a>\n          <br />\n          <br />\n          En raison de l’obligation de sécurité et de confidentialité dans le traitement des données à caractère\n          personnel qui incombe à Index Egapro, votre demande sera uniquement traitée si vous rapportez la preuve de\n          votre identité. Pour vous aider dans votre démarche, vous trouverez{\" \"}\n          <a href=\"https://www.cnil.fr/fr/modele/courrier/exercer-son-droit-dacces\">ici</a>\n          un modèle de courrier élaboré par la Cnil.\n          <br />\n          <br />\n          Vous avez la possibilité de vous opposer à un traitement de vos données personnelles. Pour vous aider dans\n          votre démarche, vous trouverez{\" \"}\n          <a href=\"https://www.cnil.fr/fr/modele/courrier/rectifier-des-donnees-inexactes-obsoletes-ou-perimees\">ici</a>\n          un modèle de courrier élaboré par la Cnil.\n          <br />\n          <br />\n          <strong>Délais de réponse</strong>\n          <br />\n          Le responsable de traitement s’engage à répondre à votre demande d’accès, de rectification ou d’opposition ou\n          toute autre demande complémentaire d’informations dans un délai raisonnable qui ne saurait dépasser 1 mois à\n          compter de la réception de votre demande.\n        </p>\n        <h2 css={styles.title}>Destinataires :</h2>\n        <p>\n          Les données collectées et les demandes, ou dossiers réalisés depuis la Plateforme sont traitées par les seules\n          personnes juridiquement habilitées à connaître des informations traitées.\n          <br />\n          <br />\n          Le responsable de traitement veillent à ne fournir des accès qu’aux seules personnes juridiquement habilitées\n          à connaître des informations traitées.\n        </p>\n        <h2 css={styles.title}>Sous-traitants :</h2>\n        <p>\n          Certaines des données sont envoyées à des sous-traitants pour réaliser certaines missions. Les responsables de\n          traitement se sont assurés de la mise en œuvre par ses sous-traitants de garanties adéquates et du respect de\n          conditions strictes de confidentialité, d’usage et de protection des données.\n        </p>\n        <br />\n        <table css={styles.table}>\n          <thead>\n            <tr>\n              <th>Partenaire</th>\n              <th>Pays destinataire</th>\n              <th>Traitement réalisé</th>\n              <th>Garanties</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>Microsoft Azure</td>\n              <td>France</td>\n              <td>Hébergement</td>\n              <td>\n                <a href=\"https://privacy.microsoft.com/fr-fr/privacystatement\">\n                  https://privacy.microsoft.com/fr-fr/privacystatement\n                </a>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <h2 css={styles.title}>Cookies</h2>\n        <p>\n          Index Egapro, en tant qu’éditeurs de la présente Plateforme, pourra faire usage de cookies. Certains cookies\n          sont dispensés du recueil préalable de votre consentement dans la mesure où ils sont strictement nécessaires à\n          la fourniture du service. Les traceurs ont vocation à être conservés sur le poste informatique de l'Internaute\n          pour une durée allant jusqu'à 13 mois.\n          <br />\n          <br />\n          Mesure d’audience :\n          <br />\n          <br />\n          Certains cookies permettent d’établir des mesures statistiques de fréquentation et d’utilisation du site\n          pouvant être utilisées à des fins de suivi et d’amélioration du service :\n        </p>\n        <ul>\n          <li>Les données collectées ne sont pas recoupées avec d’autres traitements.</li>\n          <li>Le cookie déposé sert uniquement à la production de statistiques anonymes.</li>\n          <li>Le cookie ne permet pas de suivre la navigation de l’internaute sur d’autres sites.</li>\n        </ul>\n        <p>\n          La mesure d’audience (nombre de visites, pages consultées) est réalisée par un outil libre intitulé Matomo\n          spécifiquement paramétré, respectant les conditions d’exemption du consentement de l’internaute définies par\n          la recommandation « Cookies » de la Commission nationale informatique et libertés (CNIL).\n        </p>\n      </div>\n    </Page>\n  )\n}\n\nconst styles = {\n  content: css({}),\n  title: css({\n    fontSize: 18,\n    lineHeight: \"22px\",\n    fontWeight: \"bold\",\n    marginTop: 30,\n    marginLeft: 0,\n    marginRight: 0,\n    marginBottom: 20,\n  }),\n  table: css({\n    thead: {\n      backgroundColor: \"#ccc\",\n    },\n  }),\n  iframe: css({\n    width: 600,\n  }),\n}\n\nexport default CGU\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { ReactNode } from \"react\"\n\ninterface Props {\n  children: ReactNode\n}\n\nfunction ActionBar({ children }: Props) {\n  return <div css={styles.actionBar}>{children}</div>\n}\n\nconst styles = {\n  actionBar: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginTop: 46,\n    marginBottom: 36,\n    \"@media print\": {\n      display: \"none\",\n    },\n  }),\n}\n\nexport default ActionBar\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/react\"\nimport { RouteComponentProps } from \"react-router-dom\"\n\nimport Page from \"../components/Page\"\n\nimport ActionBar from \"../components/ActionBar\"\nimport ButtonAction from \"../components/ButtonAction\"\nimport { useTitle } from \"../utils/hooks\"\n\nfunction PageNotFound({ history }: RouteComponentProps) {\n  useTitle(\"Page inexistante\")\n\n  return (\n    <Page title=\"Malheureusement la page que vous cherchez n’existe pas !\">\n      <ActionBar>\n        <ButtonAction label=\"retour\" onClick={() => history.goBack()} />\n      </ActionBar>\n    </Page>\n  )\n}\n\nexport default PageNotFound\n","type TokenInfo = {\n  email: string\n  déclarations: string[]\n  ownership: string[]\n  staff: boolean\n}\n\nfunction getTokenInfo(): TokenInfo | null {\n  const tokenInfoString = localStorage.getItem(\"tokenInfo\")\n\n  if (!tokenInfoString) {\n    return null\n  }\n\n  return JSON.parse(tokenInfoString)\n}\n\nexport function isUserGrantedForSiren(siren: string) {\n  const tokenInfo = getTokenInfo()\n\n  if (tokenInfo?.staff) {\n    return true\n  }\n\n  const ownership = tokenInfo?.ownership\n\n  if (!ownership?.length) {\n    return false\n  }\n\n  return ownership.indexOf(siren) !== -1\n}\n","/** @jsx jsx */\nimport { css, jsx, keyframes } from \"@emotion/react\"\n\ninterface Props {\n  size?: number\n  color?: string\n}\n\nfunction ActivityIndicator({ size = 25, color = \"#FFF\" }: Props) {\n  return (\n    <div css={[stylesActivity.container, { width: size, height: size }]}>\n      <div css={[stylesActivity.round, { backgroundColor: color }]} />\n      <div css={[stylesActivity.round, stylesActivity.round2, { backgroundColor: color }]} />\n    </div>\n  )\n}\n\nconst bounce = keyframes({\n  \"0%\": {\n    transform: \"scale(0)\",\n  },\n  \"50%\": {\n    transform: \"scale(1)\",\n  },\n  \"100%\": {\n    transform: \"scale(0)\",\n  },\n})\n\nconst stylesActivity = {\n  container: css({\n    position: \"relative\",\n  }),\n  round: css({\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n\n    borderRadius: \"50%\",\n    opacity: 0.6,\n    animation: `${bounce} 2.0s infinite ease-in-out`,\n  }),\n  round2: css({\n    animationDelay: \"-1.0s\",\n  }),\n}\n\nexport default ActivityIndicator\n","import { GroupTranchesAgesEffectif } from \"../globals\"\n\nimport { roundDecimal } from \"./helpers\"\n\n/* EFFECTIF CONST */\n\nexport const tauxEffectifValide = 40 / 100\n\n//////////////////\n// COMMON ////////\n//////////////////\n\n// EV\nexport const calculEffectifsValides = (\n  validiteGroupe: boolean,\n  nombreSalariesFemmes: number,\n  nombreSalariesHommes: number,\n): number => (validiteGroupe ? nombreSalariesFemmes + nombreSalariesHommes : 0)\n\n// EP\nexport const calculEcartPondere = (\n  validiteGroupe: boolean,\n  ecartPourcentage: number | undefined,\n  effectifsValides: number,\n  totalEffectifsValides: number,\n): number | undefined =>\n  validiteGroupe && totalEffectifsValides > 0 && ecartPourcentage !== undefined\n    ? roundDecimal((ecartPourcentage * effectifsValides) / totalEffectifsValides, 6)\n    : undefined\n\nexport const calculEcartsPonderesParGroupe =\n  (\n    findEcartPourcentage: (groupEffectifEtEcartAugment: {\n      validiteGroupe: boolean\n      effectifsValides: number\n      ecartApresApplicationSeuilPertinence?: number | undefined\n      ecartTauxAugmentation?: number | undefined\n      ecartTauxPromotion?: number | undefined\n      ecartTauxAugmentationPromotion?: number | undefined\n    }) => number | undefined,\n  ) =>\n  (\n    groupEffectifEtEcart: Array<{\n      validiteGroupe: boolean\n      effectifsValides: number\n      ecartApresApplicationSeuilPertinence?: number | undefined\n      ecartTauxAugmentation?: number | undefined\n      ecartTauxPromotion?: number | undefined\n      ecartTauxAugmentationPromotion?: number | undefined\n    }>,\n    totalEffectifsValides: number,\n  ) =>\n    groupEffectifEtEcart\n      .filter(({ validiteGroupe }) => validiteGroupe)\n      .map((effectifEtEcart) => {\n        const { validiteGroupe, effectifsValides } = effectifEtEcart\n        const ecartPourcentage = findEcartPourcentage(effectifEtEcart)\n        // EP\n        const ecartPondere = calculEcartPondere(\n          validiteGroupe,\n          ecartPourcentage,\n          effectifsValides,\n          totalEffectifsValides,\n        )\n\n        return ecartPondere\n      })\n\n// TEP\nexport const calculTotalEcartPondere = (tableauEcartsPonderes: Array<number | undefined>): number | undefined =>\n  tableauEcartsPonderes.length === 0 || tableauEcartsPonderes.includes(undefined)\n    ? undefined\n    : roundDecimal(\n        tableauEcartsPonderes\n          .filter((ecartPondere) => ecartPondere !== undefined)\n          .reduce((acc, val) => (acc || 0) + (val !== undefined ? val : 0), undefined) || 0,\n        6,\n      )\n\n//////////////////\n// EFFECTIFS /////\n//////////////////\n\nexport interface effectifGroup {\n  nombreSalariesFemmes: number\n  nombreSalariesHommes: number\n  validiteGroupe: boolean\n  effectifsValides: number\n}\n\nexport const rowEffectifsParTrancheAge = (\n  { nombreSalariesFemmes, nombreSalariesHommes }: GroupTranchesAgesEffectif,\n  calculValiditeGroupe: (nombreSalariesFemmes: number, nombreSalariesHommes: number) => boolean,\n): effectifGroup => {\n  nombreSalariesFemmes = nombreSalariesFemmes || 0\n  nombreSalariesHommes = nombreSalariesHommes || 0\n\n  // VG\n  const validiteGroupe = calculValiditeGroupe(nombreSalariesFemmes, nombreSalariesHommes)\n  // EV\n  const effectifsValides = calculEffectifsValides(validiteGroupe, nombreSalariesFemmes, nombreSalariesHommes)\n\n  return {\n    nombreSalariesFemmes,\n    nombreSalariesHommes,\n    validiteGroupe,\n    effectifsValides,\n  }\n}\n\nexport const rowEffectifsParCategorieSocioPro = (\n  tranchesAges: Array<GroupTranchesAgesEffectif>,\n  calculValiditeGroupe: (nombreSalariesFemmes: number, nombreSalariesHommes: number) => boolean,\n): effectifGroup => {\n  const { nombreSalariesFemmesGroupe, nombreSalariesHommesGroupe } = tranchesAges.reduce(\n    ({ nombreSalariesFemmesGroupe, nombreSalariesHommesGroupe }, { nombreSalariesFemmes, nombreSalariesHommes }) => ({\n      nombreSalariesFemmesGroupe: nombreSalariesFemmesGroupe + (nombreSalariesFemmes || 0),\n      nombreSalariesHommesGroupe: nombreSalariesHommesGroupe + (nombreSalariesHommes || 0),\n    }),\n    { nombreSalariesFemmesGroupe: 0, nombreSalariesHommesGroupe: 0 },\n  )\n\n  // VG\n  const validiteGroupe = calculValiditeGroupe(nombreSalariesFemmesGroupe, nombreSalariesHommesGroupe)\n  // EV\n  const effectifsValides = calculEffectifsValides(\n    validiteGroupe,\n    nombreSalariesFemmesGroupe,\n    nombreSalariesHommesGroupe,\n  )\n\n  return {\n    nombreSalariesFemmes: nombreSalariesFemmesGroupe,\n    nombreSalariesHommes: nombreSalariesHommesGroupe,\n    validiteGroupe,\n    effectifsValides,\n  }\n}\n\nexport const calculTotalEffectifs = (groupEffectif: Array<effectifGroup>) => {\n  const { totalNombreSalariesFemmes, totalNombreSalariesHommes } = groupEffectif.reduce(\n    ({ totalNombreSalariesFemmes, totalNombreSalariesHommes }, { nombreSalariesFemmes, nombreSalariesHommes }) => {\n      return {\n        totalNombreSalariesFemmes: totalNombreSalariesFemmes + nombreSalariesFemmes,\n        totalNombreSalariesHommes: totalNombreSalariesHommes + nombreSalariesHommes,\n      }\n    },\n    {\n      totalNombreSalariesFemmes: 0, //TNBF\n      totalNombreSalariesHommes: 0, //TNBH\n    },\n  )\n\n  // TNB\n  const totalNombreSalaries = totalNombreSalariesFemmes + totalNombreSalariesHommes\n\n  // TEV\n  const totalEffectifsValides = groupEffectif.reduce((acc, { effectifsValides }) => acc + effectifsValides, 0)\n\n  return {\n    totalNombreSalariesFemmes,\n    totalNombreSalariesHommes,\n    totalNombreSalaries,\n    totalEffectifsValides,\n  }\n}\n\n// IC\nexport const calculEffectifsIndicateurCalculable = (\n  totalNombreSalaries: number,\n  totalEffectifsValides: number,\n): boolean => totalNombreSalaries > 0 && totalEffectifsValides >= totalNombreSalaries * tauxEffectifValide\n","import {\n  AppState,\n  TranchesAges,\n  CategorieSocioPro,\n  GroupeEffectif,\n  GroupeIndicateurUn,\n  GroupeCoefficient,\n  GroupTranchesAgesIndicateurUn,\n} from \"../globals\"\n\nimport { roundDecimal } from \"./helpers\"\n\nimport {\n  calculEcartsPonderesParGroupe,\n  calculTotalEcartPondere,\n  calculTotalEffectifs,\n  rowEffectifsParTrancheAge,\n  effectifGroup,\n  calculEffectifsIndicateurCalculable,\n} from \"./calculsEgaPro\"\n\n/* INDICATEUR 1 CONST */\n\nconst seuilPertinenceCsp = 5 / 100\nconst seuilPertinenceCoef = 2 / 100\n\nconst baremeEcartRemuneration = [40, 39, 38, 37, 36, 35, 34, 33, 31, 29, 27, 25, 23, 21, 19, 17, 14, 11, 8, 5, 2, 0]\n\n//////////////////\n// COMMON ////////\n//////////////////\n\nexport {\n  calculTotalEffectifs,\n  calculTotalEcartPondere, // TEV\n  calculEffectifsIndicateurCalculable, // IC\n}\n\n//////////////////\n// INDICATEUR 1 //\n//////////////////\n\n// VG\nexport const calculValiditeGroupe = (nombreSalariesFemmes: number, nombreSalariesHommes: number): boolean =>\n  nombreSalariesFemmes >= 3 && nombreSalariesHommes >= 3\n\n// ERM\nexport const calculEcartRemunerationMoyenne = (\n  remunerationAnnuelleBrutFemmes: number,\n  remunerationAnnuelleBrutHommes: number,\n): number | undefined =>\n  remunerationAnnuelleBrutFemmes > 0 && remunerationAnnuelleBrutHommes > 0\n    ? roundDecimal(\n        (remunerationAnnuelleBrutHommes - remunerationAnnuelleBrutFemmes) / remunerationAnnuelleBrutHommes,\n        6,\n      )\n    : undefined\n\n// ESP\nconst calculEcartApresApplicationSeuilPertinence = (\n  ecartRemunerationMoyenne: number | undefined,\n  seuilPertinence: number,\n): number | undefined =>\n  ecartRemunerationMoyenne !== undefined\n    ? roundDecimal(\n        Math.sign(ecartRemunerationMoyenne) * Math.max(0, Math.abs(ecartRemunerationMoyenne) - seuilPertinence),\n        6,\n      )\n    : undefined\n\nexport const calculEcartApresApplicationSeuilPertinenceCsp = (\n  ecartRemunerationMoyenne: number | undefined,\n): number | undefined => calculEcartApresApplicationSeuilPertinence(ecartRemunerationMoyenne, seuilPertinenceCsp)\n\nexport const calculEcartApresApplicationSeuilPertinenceCoef = (\n  ecartRemunerationMoyenne: number | undefined,\n): number | undefined => calculEcartApresApplicationSeuilPertinence(ecartRemunerationMoyenne, seuilPertinenceCoef)\n\nexport interface effectifEtEcartRemuGroupCsp extends effectifGroup {\n  categorieSocioPro: CategorieSocioPro\n  trancheAge: TranchesAges\n  remunerationAnnuelleBrutFemmes: number | undefined\n  remunerationAnnuelleBrutHommes: number | undefined\n  ecartRemunerationMoyenne: number | undefined\n  ecartApresApplicationSeuilPertinence: number | undefined\n}\n\nexport interface tmpGroupTranchesAgesCsp {\n  categorieSocioPro: CategorieSocioPro\n  trancheAge: TranchesAges\n  nombreSalariesFemmes: number | undefined\n  nombreSalariesHommes: number | undefined\n}\n\nexport interface effectifEtEcartRemuGroupCoef extends effectifGroup {\n  id: any\n  name: string\n  trancheAge: TranchesAges\n  remunerationAnnuelleBrutFemmes: number | undefined\n  remunerationAnnuelleBrutHommes: number | undefined\n  ecartRemunerationMoyenne: number | undefined\n  ecartApresApplicationSeuilPertinence: number | undefined\n}\n\nexport interface tmpGroupTranchesAgesCoef {\n  id: any\n  name: string\n  trancheAge: TranchesAges\n  nombreSalariesFemmes: number | undefined\n  nombreSalariesHommes: number | undefined\n  remunerationAnnuelleBrutFemmes: number | undefined\n  remunerationAnnuelleBrutHommes: number | undefined\n}\n\n// Ajout de l'écart de rémunération moyenne dans les données \"par niveau\" (CSP ou coefficient) de l'indicateur\nexport const calculEcartTauxRemunerationParTrancheAgeCSP = (remunerationAnnuelle: Array<GroupeIndicateurUn>) =>\n  remunerationAnnuelle.map((categorie) => {\n    return {\n      ...categorie,\n      tranchesAges: categorie.tranchesAges.map((trancheAge) => {\n        return {\n          ...trancheAge,\n          ecartTauxRemuneration: calculEcartRemunerationMoyenne(\n            trancheAge.remunerationAnnuelleBrutFemmes || 0,\n            trancheAge.remunerationAnnuelleBrutHommes || 0,\n          ),\n        }\n      }),\n    }\n  })\n\nexport const calculEcartTauxRemunerationParTrancheAgeCoef = (coefficient: Array<GroupeCoefficient>) =>\n  coefficient.map((niveau) => {\n    return {\n      ...niveau,\n      tranchesAges: niveau.tranchesAges.map((trancheAge) => {\n        return {\n          ...trancheAge,\n          ecartTauxRemuneration: calculEcartRemunerationMoyenne(\n            trancheAge.remunerationAnnuelleBrutFemmes || 0,\n            trancheAge.remunerationAnnuelleBrutHommes || 0,\n          ),\n        }\n      }),\n    }\n  })\n\nexport const calculEffectifsEtEcartRemuParTrancheAgeCsp = (\n  dataEffectif: Array<GroupeEffectif>,\n  dataIndicateurUn: Array<GroupeIndicateurUn>,\n): Array<effectifEtEcartRemuGroupCsp> => {\n  const dataEffectifByRow = dataEffectif.reduce(\n    (acc: Array<tmpGroupTranchesAgesCsp>, { categorieSocioPro, tranchesAges }) =>\n      acc.concat(tranchesAges.map((trancheAge) => ({ ...trancheAge, categorieSocioPro }))),\n    [],\n  )\n  const dataIndicateurUnByRow = dataIndicateurUn.reduce(\n    (acc: Array<GroupTranchesAgesIndicateurUn>, group) => acc.concat(group.tranchesAges),\n    [],\n  )\n\n  const computedDataByRow = dataEffectifByRow.map((groupTrancheAgeEffectif: tmpGroupTranchesAgesCsp, index: number) => {\n    const groupTrancheAgeIndicateurUn = dataIndicateurUnByRow[index]\n\n    const remunerationAnnuelleBrutFemmes =\n      groupTrancheAgeIndicateurUn && groupTrancheAgeIndicateurUn.remunerationAnnuelleBrutFemmes\n    const remunerationAnnuelleBrutHommes =\n      groupTrancheAgeIndicateurUn && groupTrancheAgeIndicateurUn.remunerationAnnuelleBrutHommes\n\n    const effectifs = rowEffectifsParTrancheAge(groupTrancheAgeEffectif, calculValiditeGroupe)\n\n    // ERM\n    const ecartRemunerationMoyenne = calculEcartRemunerationMoyenne(\n      remunerationAnnuelleBrutFemmes || 0,\n      remunerationAnnuelleBrutHommes || 0,\n    )\n    // ESP\n    const ecartApresApplicationSeuilPertinence = calculEcartApresApplicationSeuilPertinenceCsp(ecartRemunerationMoyenne)\n\n    return {\n      ...effectifs,\n      trancheAge: groupTrancheAgeEffectif.trancheAge,\n      categorieSocioPro: groupTrancheAgeEffectif.categorieSocioPro,\n      remunerationAnnuelleBrutFemmes,\n      remunerationAnnuelleBrutHommes,\n      ecartRemunerationMoyenne,\n      ecartApresApplicationSeuilPertinence,\n    }\n  })\n\n  return computedDataByRow\n}\n\nexport const calculEffectifsEtEcartRemuParTrancheAgeCoef = (\n  coefficient: Array<GroupeCoefficient>,\n): Array<effectifEtEcartRemuGroupCoef> => {\n  const dataCoefficientByRow = coefficient.reduce(\n    (acc: Array<tmpGroupTranchesAgesCoef>, { name, tranchesAges }, index) =>\n      acc.concat(tranchesAges.map((trancheAge) => ({ ...trancheAge, name, id: index }))),\n    [],\n  )\n\n  const computedDataByRow = dataCoefficientByRow.map((groupTrancheAgeCoef: tmpGroupTranchesAgesCoef) => {\n    const remunerationAnnuelleBrutFemmes = groupTrancheAgeCoef && groupTrancheAgeCoef.remunerationAnnuelleBrutFemmes\n    const remunerationAnnuelleBrutHommes = groupTrancheAgeCoef && groupTrancheAgeCoef.remunerationAnnuelleBrutHommes\n\n    const effectifs = rowEffectifsParTrancheAge(groupTrancheAgeCoef, calculValiditeGroupe)\n\n    // ERM\n    const ecartRemunerationMoyenne = calculEcartRemunerationMoyenne(\n      remunerationAnnuelleBrutFemmes || 0,\n      remunerationAnnuelleBrutHommes || 0,\n    )\n    // ESP\n    const ecartApresApplicationSeuilPertinence =\n      calculEcartApresApplicationSeuilPertinenceCoef(ecartRemunerationMoyenne)\n\n    return {\n      ...effectifs,\n      id: groupTrancheAgeCoef.id,\n      name: groupTrancheAgeCoef.name,\n      trancheAge: groupTrancheAgeCoef.trancheAge,\n\n      remunerationAnnuelleBrutFemmes,\n      remunerationAnnuelleBrutHommes,\n      ecartRemunerationMoyenne,\n      ecartApresApplicationSeuilPertinence,\n    }\n  })\n\n  return computedDataByRow\n}\n\nexport const calculEcartsPonderesParTrancheAge = calculEcartsPonderesParGroupe(\n  ({ ecartApresApplicationSeuilPertinence }) => ecartApresApplicationSeuilPertinence,\n)\n\n// IER\nexport const calculIndicateurEcartRemuneration = (\n  indicateurCalculable: boolean,\n  totalEcartPondere: number | undefined,\n): number | undefined =>\n  indicateurCalculable && totalEcartPondere !== undefined ? roundDecimal(100 * totalEcartPondere, 6) : undefined\n\nexport const calculIndicateurSexeSousRepresente = (\n  indicateurEcartRemuneration: number | undefined,\n): \"hommes\" | \"femmes\" | undefined => {\n  if (indicateurEcartRemuneration === undefined || indicateurEcartRemuneration === 0) {\n    return undefined\n  }\n  return Math.sign(indicateurEcartRemuneration) < 0 ? \"femmes\" : \"hommes\"\n}\n\nexport const calculIndicateurEcartRemunerationAbsolute = (\n  indicateurEcartRemuneration: number | undefined,\n): number | undefined => (indicateurEcartRemuneration !== undefined ? Math.abs(indicateurEcartRemuneration) : undefined)\n\n// NOTE\nexport const calculNote = (indicateurEcartRemuneration: number | undefined): number | undefined =>\n  indicateurEcartRemuneration !== undefined\n    ? baremeEcartRemuneration[\n        Math.min(\n          baremeEcartRemuneration.length - 1,\n          Math.ceil(Math.max(0, roundDecimal(indicateurEcartRemuneration, 1))),\n        )\n      ]\n    : undefined\n\n/////////\n// ALL //\n/////////\n\nexport default function calculIndicateurUn(state: AppState) {\n  const effectifEtEcartRemuParTrancheCsp = calculEffectifsEtEcartRemuParTrancheAgeCsp(\n    state.effectif.nombreSalaries,\n    state.indicateurUn.remunerationAnnuelle,\n  )\n\n  const effectifEtEcartRemuParTrancheCoef = calculEffectifsEtEcartRemuParTrancheAgeCoef(state.indicateurUn.coefficient)\n\n  const effectifEtEcartRemuParTranche = state.indicateurUn.csp\n    ? effectifEtEcartRemuParTrancheCsp\n    : effectifEtEcartRemuParTrancheCoef\n\n  const { totalNombreSalaries, totalEffectifsValides } = calculTotalEffectifs(effectifEtEcartRemuParTranche)\n\n  const ecartsPonderesByRow = calculEcartsPonderesParTrancheAge(effectifEtEcartRemuParTranche, totalEffectifsValides)\n\n  // TEP\n  const totalEcartPondere = calculTotalEcartPondere(ecartsPonderesByRow)\n\n  // IC\n  const effectifsIndicateurCalculable = calculEffectifsIndicateurCalculable(totalNombreSalaries, totalEffectifsValides)\n\n  // IER\n  const indicateurEcartRemuneration = calculIndicateurEcartRemuneration(\n    effectifsIndicateurCalculable,\n    totalEcartPondere,\n  )\n\n  const indicateurEcartRemunerationAbsolute = calculIndicateurEcartRemunerationAbsolute(indicateurEcartRemuneration)\n\n  const indicateurSexeSurRepresente = calculIndicateurSexeSousRepresente(indicateurEcartRemuneration)\n\n  // NOTE\n  const noteIndicateurUn = calculNote(indicateurEcartRemunerationAbsolute)\n\n  return {\n    effectifEtEcartRemuParTrancheCsp,\n    effectifEtEcartRemuParTrancheCoef,\n    effectifEtEcartRemuParTranche,\n    effectifsIndicateurCalculable,\n    indicateurEcartRemuneration: indicateurEcartRemunerationAbsolute,\n    indicateurSexeSurRepresente,\n    noteIndicateurUn,\n  }\n}\n","import { AppState, CategorieSocioPro, GroupeEffectif, GroupeIndicateurDeux } from \"../globals\"\n\nimport { roundDecimal } from \"./helpers\"\n\nimport {\n  calculEcartsPonderesParGroupe,\n  calculTotalEcartPondere,\n  calculTotalEffectifs,\n  rowEffectifsParCategorieSocioPro,\n  effectifGroup,\n  calculEffectifsIndicateurCalculable,\n} from \"./calculsEgaPro\"\nimport calculIndicateurUn from \"./calculsEgaProIndicateurUn\"\n\nconst baremEcartAugmentation = [20, 20, 20, 10, 10, 10, 5, 5, 5, 5, 5, 0]\n\n//////////////////\n// COMMON ////////\n//////////////////\n\nexport {\n  calculTotalEcartPondere, // TEV\n  calculEffectifsIndicateurCalculable, // IC\n}\n\n//////////////////\n// INDICATEUR 2 //\n//////////////////\n\n// VG\nexport const calculValiditeGroupe = (nombreSalariesFemmes: number, nombreSalariesHommes: number): boolean =>\n  nombreSalariesFemmes >= 10 && nombreSalariesHommes >= 10\n\n// ETA\nexport const calculEcartTauxAugmentation = (\n  tauxAugmentationFemmes: number | undefined,\n  tauxAugmentationHommes: number | undefined,\n): number | undefined =>\n  tauxAugmentationFemmes !== undefined &&\n  tauxAugmentationHommes !== undefined &&\n  tauxAugmentationFemmes >= 0 &&\n  tauxAugmentationHommes >= 0\n    ? roundDecimal(tauxAugmentationHommes - tauxAugmentationFemmes, 6)\n    : undefined\n\nexport interface effectifEtEcartAugmentGroup extends effectifGroup {\n  categorieSocioPro: CategorieSocioPro\n  tauxAugmentationFemmes: number | undefined\n  tauxAugmentationHommes: number | undefined\n  ecartTauxAugmentation: number | undefined\n}\n\n// Ajout de l'écart d'augmentation dans les données par CSP\nexport const calculEcartTauxAugmentationParCSP = (tauxAugmentation: Array<GroupeIndicateurDeux>) =>\n  tauxAugmentation.map((categorie) => {\n    return {\n      ...categorie,\n      ecartTauxAugmentation: calculEcartTauxAugmentation(\n        categorie.tauxAugmentationFemmes,\n        categorie.tauxAugmentationHommes,\n      ),\n    }\n  })\n\nexport const calculEffectifsEtEcartAugmentParCategorieSocioPro = (\n  dataEffectif: Array<GroupeEffectif>,\n  dataIndicateurDeux: Array<GroupeIndicateurDeux>,\n): Array<effectifEtEcartAugmentGroup> => {\n  return dataEffectif.map(({ categorieSocioPro, tranchesAges }: GroupeEffectif) => {\n    const effectifs = rowEffectifsParCategorieSocioPro(tranchesAges, calculValiditeGroupe)\n\n    const dataAugment = dataIndicateurDeux.find(({ categorieSocioPro: csp }) => csp === categorieSocioPro)\n\n    const tauxAugmentationFemmes = dataAugment && dataAugment.tauxAugmentationFemmes\n    const tauxAugmentationHommes = dataAugment && dataAugment.tauxAugmentationHommes\n\n    // ETA\n    const ecartTauxAugmentation = calculEcartTauxAugmentation(tauxAugmentationFemmes, tauxAugmentationHommes)\n\n    return {\n      ...effectifs,\n      categorieSocioPro,\n      tauxAugmentationFemmes,\n      tauxAugmentationHommes,\n      ecartTauxAugmentation,\n    }\n  })\n}\n\nexport const calculTotalEffectifsEtTauxAugmentation = (\n  groupEffectifEtEcartAugment: Array<effectifEtEcartAugmentGroup>,\n) => {\n  const { totalNombreSalariesFemmes, totalNombreSalariesHommes, totalNombreSalaries, totalEffectifsValides } =\n    calculTotalEffectifs(groupEffectifEtEcartAugment)\n\n  const { sommeProduitTauxAugmentationFemmes, sommeProduitTauxAugmentationHommes } = groupEffectifEtEcartAugment.reduce(\n    (\n      { sommeProduitTauxAugmentationFemmes, sommeProduitTauxAugmentationHommes },\n      { nombreSalariesFemmes, nombreSalariesHommes, tauxAugmentationFemmes, tauxAugmentationHommes },\n    ) => {\n      return {\n        sommeProduitTauxAugmentationFemmes:\n          sommeProduitTauxAugmentationFemmes + (tauxAugmentationFemmes || 0) * nombreSalariesFemmes,\n        sommeProduitTauxAugmentationHommes:\n          sommeProduitTauxAugmentationHommes + (tauxAugmentationHommes || 0) * nombreSalariesHommes,\n      }\n    },\n    {\n      sommeProduitTauxAugmentationFemmes: 0,\n      sommeProduitTauxAugmentationHommes: 0,\n    },\n  )\n\n  // TTAF\n  const totalTauxAugmentationFemmes = sommeProduitTauxAugmentationFemmes / totalNombreSalariesFemmes\n\n  // TTAH\n  const totalTauxAugmentationHommes = sommeProduitTauxAugmentationHommes / totalNombreSalariesHommes\n\n  return {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes,\n  }\n}\n\nexport const calculEcartsPonderesParCategorieSocioPro = calculEcartsPonderesParGroupe(\n  ({ ecartTauxAugmentation }) => ecartTauxAugmentation,\n)\n\n// IC\nexport const calculIndicateurCalculable = (\n  presenceAugmentation: boolean,\n  totalNombreSalaries: number,\n  totalEffectifsValides: number,\n  totalTauxAugmentationFemmes: number,\n  totalTauxAugmentationHommes: number,\n): boolean =>\n  presenceAugmentation &&\n  calculEffectifsIndicateurCalculable(totalNombreSalaries, totalEffectifsValides) &&\n  (totalTauxAugmentationFemmes > 0 || totalTauxAugmentationHommes > 0)\n\n// IEA\nexport const calculIndicateurEcartAugmentation = (\n  indicateurCalculable: boolean,\n  totalEcartPondere: number | undefined,\n): number | undefined =>\n  indicateurCalculable && totalEcartPondere !== undefined ? roundDecimal(100 * totalEcartPondere, 6) : undefined\n\nexport const calculIndicateurSexeSurRepresente = (\n  indicateurEcartAugmentation: number | undefined,\n): \"hommes\" | \"femmes\" | undefined => {\n  if (indicateurEcartAugmentation === undefined || indicateurEcartAugmentation === 0) {\n    return undefined\n  }\n  return Math.sign(indicateurEcartAugmentation) < 0 ? \"femmes\" : \"hommes\"\n}\n\nexport const calculIndicateurEcartAugmentationAbsolute = (\n  indicateurEcartAugmentation: number | undefined,\n): number | undefined => (indicateurEcartAugmentation !== undefined ? Math.abs(indicateurEcartAugmentation) : undefined)\n\n// NOTE\nexport const calculNote = (\n  indicateurEcartAugmentation: number | undefined,\n  noteIndicateurUn: number | undefined,\n  indicateurUnSexeSurRepresente: \"hommes\" | \"femmes\" | undefined,\n  indicateurDeuxSexeSurRepresente: \"hommes\" | \"femmes\" | undefined,\n): { note: number | undefined; correctionMeasure: boolean } => {\n  if (\n    noteIndicateurUn !== undefined &&\n    noteIndicateurUn < 40 &&\n    indicateurUnSexeSurRepresente &&\n    indicateurDeuxSexeSurRepresente &&\n    indicateurUnSexeSurRepresente !== indicateurDeuxSexeSurRepresente\n  ) {\n    return { note: baremEcartAugmentation[0], correctionMeasure: true }\n  }\n  const note =\n    indicateurEcartAugmentation !== undefined\n      ? baremEcartAugmentation[\n          Math.min(\n            baremEcartAugmentation.length - 1,\n            Math.ceil(Math.max(0, roundDecimal(indicateurEcartAugmentation, 1))),\n          )\n        ]\n      : undefined\n  return { note, correctionMeasure: false }\n}\n\n/////////\n// ALL //\n/////////\n\nexport default function calculIndicateurDeux(state: AppState) {\n  const effectifEtEcartAugmentParGroupe = calculEffectifsEtEcartAugmentParCategorieSocioPro(\n    state.effectif.nombreSalaries,\n    state.indicateurDeux.tauxAugmentation,\n  )\n\n  const { totalNombreSalaries, totalEffectifsValides, totalTauxAugmentationFemmes, totalTauxAugmentationHommes } =\n    calculTotalEffectifsEtTauxAugmentation(effectifEtEcartAugmentParGroupe)\n\n  const ecartsPonderesByRow = calculEcartsPonderesParCategorieSocioPro(\n    effectifEtEcartAugmentParGroupe,\n    totalEffectifsValides,\n  )\n\n  // TEP\n  const totalEcartPondere = calculTotalEcartPondere(ecartsPonderesByRow)\n\n  // IC\n  const effectifsIndicateurCalculable = calculEffectifsIndicateurCalculable(totalNombreSalaries, totalEffectifsValides)\n\n  // IC\n  const indicateurCalculable = calculIndicateurCalculable(\n    state.indicateurDeux.presenceAugmentation,\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxAugmentationFemmes,\n    totalTauxAugmentationHommes,\n  )\n\n  // IEA\n  const indicateurEcartAugmentation = calculIndicateurEcartAugmentation(indicateurCalculable, totalEcartPondere)\n\n  const indicateurEcartAugmentationAbsolute = calculIndicateurEcartAugmentationAbsolute(indicateurEcartAugmentation)\n\n  const indicateurDeuxSexeSurRepresente = calculIndicateurSexeSurRepresente(indicateurEcartAugmentation)\n\n  // Mesures correction indicateur 1\n  const { indicateurSexeSurRepresente: indicateurUnSexeSurRepresente, noteIndicateurUn } = calculIndicateurUn(state)\n\n  // NOTE\n  const { note: noteIndicateurDeux, correctionMeasure } = calculNote(\n    indicateurEcartAugmentationAbsolute,\n    noteIndicateurUn,\n    indicateurUnSexeSurRepresente,\n    indicateurDeuxSexeSurRepresente,\n  )\n\n  return {\n    effectifsIndicateurCalculable,\n    effectifEtEcartAugmentParGroupe,\n    indicateurCalculable,\n    indicateurEcartAugmentation: indicateurEcartAugmentationAbsolute,\n    indicateurSexeSurRepresente: indicateurDeuxSexeSurRepresente,\n    noteIndicateurDeux,\n    correctionMeasure,\n  }\n}\n","import { AppState, CategorieSocioPro, GroupeEffectif, GroupeIndicateurTrois } from \"../globals\"\n\nimport { roundDecimal } from \"./helpers\"\n\nimport {\n  calculEcartsPonderesParGroupe,\n  calculTotalEcartPondere,\n  calculTotalEffectifs,\n  calculEffectifsIndicateurCalculable,\n  rowEffectifsParCategorieSocioPro,\n  effectifGroup,\n} from \"./calculsEgaPro\"\n\nimport {\n  calculValiditeGroupe,\n  calculEcartTauxAugmentation,\n  calculIndicateurCalculable,\n  calculIndicateurEcartAugmentation,\n  calculIndicateurSexeSurRepresente,\n  calculIndicateurEcartAugmentationAbsolute,\n} from \"../utils/calculsEgaProIndicateurDeux\"\nimport calculIndicateurUn from \"./calculsEgaProIndicateurUn\"\n\nconst baremEcartPromotion = [15, 15, 15, 10, 10, 10, 5, 5, 5, 5, 5, 0]\n\n//////////////////\n// COMMON ////////\n//////////////////\n\nexport {\n  calculValiditeGroupe, // VG\n  calculTotalEcartPondere, // TEV\n  calculEffectifsIndicateurCalculable, // IC\n  calculIndicateurCalculable, // IC\n}\n\n//////////////////\n// INDICATEUR 3 //\n//////////////////\n\n// ETP\nexport const calculEcartTauxPromotion = calculEcartTauxAugmentation\n\nexport interface effectifEtEcartPromoGroup extends effectifGroup {\n  categorieSocioPro: CategorieSocioPro\n  tauxPromotionFemmes: number | undefined\n  tauxPromotionHommes: number | undefined\n  ecartTauxPromotion: number | undefined\n}\n\n// Ajout de l'écart de promotion dans les données par CSP\nexport const calculEcartTauxPromotionParCSP = (tauxPromotion: Array<GroupeIndicateurTrois>) =>\n  tauxPromotion.map((categorie) => {\n    return {\n      ...categorie,\n      ecartTauxPromotion: calculEcartTauxPromotion(categorie.tauxPromotionFemmes, categorie.tauxPromotionHommes),\n    }\n  })\n\nexport const calculEffectifsEtEcartPromoParCategorieSocioPro = (\n  dataEffectif: Array<GroupeEffectif>,\n  dataIndicateurTrois: Array<GroupeIndicateurTrois>,\n): Array<effectifEtEcartPromoGroup> => {\n  return dataEffectif.map(({ categorieSocioPro, tranchesAges }: GroupeEffectif) => {\n    const effectifs = rowEffectifsParCategorieSocioPro(tranchesAges, calculValiditeGroupe)\n\n    const dataPromo = dataIndicateurTrois.find(({ categorieSocioPro: csp }) => csp === categorieSocioPro)\n\n    const tauxPromotionFemmes = dataPromo && dataPromo.tauxPromotionFemmes\n    const tauxPromotionHommes = dataPromo && dataPromo.tauxPromotionHommes\n\n    // ETA\n    const ecartTauxPromotion = calculEcartTauxPromotion(tauxPromotionFemmes, tauxPromotionHommes)\n\n    return {\n      ...effectifs,\n      categorieSocioPro,\n      tauxPromotionFemmes,\n      tauxPromotionHommes,\n      ecartTauxPromotion,\n    }\n  })\n}\n\nexport const calculTotalEffectifsEtTauxPromotion = (groupEffectifEtEcartAugment: Array<effectifEtEcartPromoGroup>) => {\n  const { totalNombreSalariesFemmes, totalNombreSalariesHommes, totalNombreSalaries, totalEffectifsValides } =\n    calculTotalEffectifs(groupEffectifEtEcartAugment)\n\n  const { sommeProduitTauxPromotionFemmes, sommeProduitTauxPromotionHommes } = groupEffectifEtEcartAugment.reduce(\n    (\n      { sommeProduitTauxPromotionFemmes, sommeProduitTauxPromotionHommes },\n      { nombreSalariesFemmes, nombreSalariesHommes, tauxPromotionFemmes, tauxPromotionHommes },\n    ) => {\n      return {\n        sommeProduitTauxPromotionFemmes:\n          sommeProduitTauxPromotionFemmes + (tauxPromotionFemmes || 0) * nombreSalariesFemmes,\n        sommeProduitTauxPromotionHommes:\n          sommeProduitTauxPromotionHommes + (tauxPromotionHommes || 0) * nombreSalariesHommes,\n      }\n    },\n    {\n      sommeProduitTauxPromotionFemmes: 0,\n      sommeProduitTauxPromotionHommes: 0,\n    },\n  )\n\n  // TTPF\n  const totalTauxPromotionFemmes = sommeProduitTauxPromotionFemmes / totalNombreSalariesFemmes\n\n  // TTPH\n  const totalTauxPromotionHommes = sommeProduitTauxPromotionHommes / totalNombreSalariesHommes\n\n  return {\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxPromotionFemmes,\n    totalTauxPromotionHommes,\n  }\n}\n\nexport const calculEcartsPonderesParCategorieSocioPro = calculEcartsPonderesParGroupe(\n  ({ ecartTauxPromotion }) => ecartTauxPromotion,\n)\n\n// IEP\nexport const calculIndicateurEcartPromotion = calculIndicateurEcartAugmentation\n\nexport const calculIndicateurEcartPromotionAbsolute = calculIndicateurEcartAugmentationAbsolute\n\n// NOTE\nexport const calculNote = (\n  indicateurEcartPromotion: number | undefined,\n  noteIndicateurUn: number | undefined,\n  indicateurUnSexeSurRepresente: \"hommes\" | \"femmes\" | undefined,\n  indicateurDeuxSexeSurRepresente: \"hommes\" | \"femmes\" | undefined,\n): { note: number | undefined; correctionMeasure: boolean } => {\n  if (\n    noteIndicateurUn !== undefined &&\n    noteIndicateurUn < 40 &&\n    indicateurUnSexeSurRepresente &&\n    indicateurDeuxSexeSurRepresente &&\n    indicateurUnSexeSurRepresente !== indicateurDeuxSexeSurRepresente\n  ) {\n    return { note: baremEcartPromotion[0], correctionMeasure: true }\n  }\n  const note =\n    indicateurEcartPromotion !== undefined\n      ? baremEcartPromotion[\n          Math.min(baremEcartPromotion.length - 1, Math.ceil(Math.max(0, roundDecimal(indicateurEcartPromotion, 1))))\n        ]\n      : undefined\n  return { note, correctionMeasure: false }\n}\n\n/////////\n// ALL //\n/////////\n\nexport default function calculIndicateurTrois(state: AppState) {\n  const effectifEtEcartPromoParGroupe = calculEffectifsEtEcartPromoParCategorieSocioPro(\n    state.effectif.nombreSalaries,\n    state.indicateurTrois.tauxPromotion,\n  )\n\n  const { totalNombreSalaries, totalEffectifsValides, totalTauxPromotionFemmes, totalTauxPromotionHommes } =\n    calculTotalEffectifsEtTauxPromotion(effectifEtEcartPromoParGroupe)\n\n  const ecartsPonderesByRow = calculEcartsPonderesParCategorieSocioPro(\n    effectifEtEcartPromoParGroupe,\n    totalEffectifsValides,\n  )\n\n  // TEP\n  const totalEcartPondere = calculTotalEcartPondere(ecartsPonderesByRow)\n\n  // IC\n  const effectifsIndicateurCalculable = calculEffectifsIndicateurCalculable(totalNombreSalaries, totalEffectifsValides)\n\n  // IC\n  const indicateurCalculable = calculIndicateurCalculable(\n    state.indicateurTrois.presencePromotion,\n    totalNombreSalaries,\n    totalEffectifsValides,\n    totalTauxPromotionFemmes,\n    totalTauxPromotionHommes,\n  )\n\n  // IEA\n  const indicateurEcartPromotion = calculIndicateurEcartPromotion(indicateurCalculable, totalEcartPondere)\n\n  const indicateurEcartPromotionAbsolute = calculIndicateurEcartPromotionAbsolute(indicateurEcartPromotion)\n\n  const indicateurTroisSexeSurRepresente = calculIndicateurSexeSurRepresente(indicateurEcartPromotion)\n\n  // Mesures correction indicateur 1\n  const { indicateurSexeSurRepresente: indicateurUnSexeSurRepresente, noteIndicateurUn } = calculIndicateurUn(state)\n\n  // NOTE\n  const { note: noteIndicateurTrois, correctionMeasure } = calculNote(\n    indicateurEcartPromotionAbsolute,\n    noteIndicateurUn,\n    indicateurUnSexeSurRepresente,\n    indicateurTroisSexeSurRepresente,\n  )\n\n  return {\n    effectifsIndicateurCalculable,\n    effectifEtEcartPromoParGroupe,\n    indicateurCalculable,\n    indicateurEcartPromotion: indicateurEcartPromotionAbsolute,\n    indicateurSexeSurRepresente: indicateurTroisSexeSurRepresente,\n    noteIndicateurTrois,\n    correctionMeasure,\n  }\n}\n","export default function (\n  nombreSalaries: Array<{\n    tranchesAges: Array<{\n      nombreSalariesHommes: number | undefined\n      nombreSalariesFemmes: number | undefined\n    }>\n  }>,\n) {\n  return nombreSalaries.reduce(\n    (acc, { tranchesAges }) => {\n      const { totalGroupNombreSalariesHomme, totalGroupNombreSalariesFemme } = tranchesAges.reduce(\n        (accGroup, { nombreSalariesHommes, nombreSalariesFemmes }) => {\n          return {\n            totalGroupNombreSalariesHomme: accGroup.totalGroupNombreSalariesHomme + (nombreSalariesHommes || 0),\n            totalGroupNombreSalariesFemme: accGroup.totalGroupNombreSalariesFemme + (nombreSalariesFemmes || 0),\n          }\n        },\n        { totalGroupNombreSalariesHomme: 0, totalGroupNombreSalariesFemme: 0 },\n      )\n\n      return {\n        totalNombreSalariesHomme: acc.totalNombreSalariesHomme + totalGroupNombreSalariesHomme,\n        totalNombreSalariesFemme: acc.totalNombreSalariesFemme + totalGroupNombreSalariesFemme,\n      }\n    },\n    { totalNombreSalariesHomme: 0, totalNombreSalariesFemme: 0 },\n  )\n}\n","import { AppState } from \"../globals\"\n\nimport calculIndicateurUn from \"./calculsEgaProIndicateurUn\"\nimport { roundDecimal } from \"./helpers\"\nimport totalNombreSalaries from \"./totalNombreSalaries\"\n\nimport {\n  calculEcartTauxAugmentation,\n  calculIndicateurEcartAugmentation,\n  calculIndicateurSexeSurRepresente,\n  calculIndicateurEcartAugmentationAbsolute,\n} from \"../utils/calculsEgaProIndicateurDeux\"\n\nconst barem = [35, 35, 35, 25, 25, 25, 15, 15, 15, 15, 15, 0]\n\n///////////////////////\n// INDICATEUR 2 ET 3 //\n///////////////////////\n\n// // ETP\nexport const calculEcartTauxAugmentationPromotion = calculEcartTauxAugmentation\n\n// // IEP\nexport const calculIndicateurEcartAugmentationPromotion = calculIndicateurEcartAugmentation\n\nexport const calculIndicateurEcartAugmentationPromotionAbsolute = calculIndicateurEcartAugmentationAbsolute\n\n// // IC\nexport const calculEffectifsIndicateurCalculable = (\n  totalNombreSalariesHommes: number | undefined,\n  totalNombreSalariesFemmes: number | undefined,\n): boolean => {\n  return (\n    totalNombreSalariesHommes !== undefined &&\n    totalNombreSalariesFemmes !== undefined &&\n    totalNombreSalariesHommes >= 5 &&\n    totalNombreSalariesFemmes >= 5\n  )\n}\n\nexport const calculIndicateurCalculable = (\n  presenceAugmentationPromotion: boolean,\n  effectifsIndicateurCalculable: boolean,\n): boolean => {\n  return presenceAugmentationPromotion && effectifsIndicateurCalculable\n}\n\nexport const calculTaux = (\n  nombreSalaries: number | undefined,\n  totalNombreSalaries: number | undefined,\n): number | undefined =>\n  nombreSalaries !== undefined && totalNombreSalaries !== undefined && totalNombreSalaries > 0\n    ? nombreSalaries / totalNombreSalaries\n    : undefined\n\nexport const calculPlusPetitNombreSalaries = (\n  totalNombreSalariesHommes: number | undefined,\n  totalNombreSalariesFemmes: number | undefined,\n): \"hommes\" | \"femmes\" | undefined => {\n  if (\n    totalNombreSalariesFemmes === totalNombreSalariesHommes ||\n    totalNombreSalariesFemmes === undefined ||\n    totalNombreSalariesHommes === undefined\n  ) {\n    return undefined\n  }\n  return totalNombreSalariesHommes > totalNombreSalariesFemmes ? \"femmes\" : \"hommes\"\n}\n\nexport const calculIndicateurEcartNombreEquivalentSalaries = (\n  indicateurEcartAugmentationPromotionAbsolute: number | undefined,\n  totalNombreSalariesHommes: number | undefined,\n  totalNombreSalariesFemmes: number | undefined,\n): number | undefined => {\n  return indicateurEcartAugmentationPromotionAbsolute !== undefined &&\n    totalNombreSalariesHommes !== undefined &&\n    totalNombreSalariesFemmes !== undefined\n    ? roundDecimal(\n        (indicateurEcartAugmentationPromotionAbsolute *\n          Math.min(totalNombreSalariesHommes, totalNombreSalariesFemmes)) /\n          100,\n        1,\n      )\n    : undefined\n}\n\n// // NOTE\n\nexport const calculBarem = (indicateur: number): number => {\n  return barem[Math.min(barem.length - 1, Math.ceil(Math.max(0, roundDecimal(indicateur, 1))))]\n}\n\nexport const calculNote = (\n  ecartTaux: number | undefined,\n  ecartNombreSalaries: number | undefined,\n  noteIndicateurUn: number | undefined,\n  indicateurUnSexeSurRepresente: \"hommes\" | \"femmes\" | undefined,\n  indicateurDeuxTroisSexeSurRepresente: \"hommes\" | \"femmes\" | undefined,\n): {\n  note: number | undefined\n  correctionMeasure: boolean\n  noteEcartTaux: number | undefined\n  noteEcartNombreSalaries: number | undefined\n} => {\n  const noteEcartTaux = ecartTaux !== undefined ? calculBarem(ecartTaux) : undefined\n  const noteEcartNombreSalaries = ecartNombreSalaries !== undefined ? calculBarem(ecartNombreSalaries) : undefined\n  if (\n    noteIndicateurUn !== undefined &&\n    noteIndicateurUn < 40 &&\n    indicateurUnSexeSurRepresente &&\n    indicateurDeuxTroisSexeSurRepresente &&\n    indicateurUnSexeSurRepresente !== indicateurDeuxTroisSexeSurRepresente\n  ) {\n    return {\n      note: barem[0],\n      correctionMeasure: true,\n      noteEcartTaux,\n      noteEcartNombreSalaries,\n    }\n  }\n  if (noteEcartTaux === undefined || noteEcartNombreSalaries === undefined) {\n    return {\n      note: undefined,\n      correctionMeasure: false,\n      noteEcartTaux,\n      noteEcartNombreSalaries,\n    }\n  }\n\n  const note = Math.max(noteEcartTaux, noteEcartNombreSalaries)\n  return {\n    note,\n    correctionMeasure: false,\n    noteEcartTaux,\n    noteEcartNombreSalaries,\n  }\n}\n\n/////////\n// ALL //\n/////////\n\nexport default function calculIndicateurDeuxTrois(state: AppState) {\n  const { totalNombreSalariesHomme: totalNombreSalariesHommes, totalNombreSalariesFemme: totalNombreSalariesFemmes } =\n    totalNombreSalaries(state.effectif.nombreSalaries)\n\n  const plusPetitNombreSalaries = calculPlusPetitNombreSalaries(totalNombreSalariesHommes, totalNombreSalariesFemmes)\n\n  const effectifsIndicateurCalculable = calculEffectifsIndicateurCalculable(\n    totalNombreSalariesHommes,\n    totalNombreSalariesFemmes,\n  )\n\n  const indicateurCalculable = calculIndicateurCalculable(\n    state.indicateurDeuxTrois.presenceAugmentationPromotion,\n    effectifsIndicateurCalculable,\n  )\n\n  const tauxAugmentationPromotionHommes = calculTaux(\n    state.indicateurDeuxTrois.nombreAugmentationPromotionHommes,\n    totalNombreSalariesHommes,\n  )\n  const tauxAugmentationPromotionFemmes = calculTaux(\n    state.indicateurDeuxTrois.nombreAugmentationPromotionFemmes,\n    totalNombreSalariesFemmes,\n  )\n\n  // // IEA\n  const ecartTauxAugmentationPromotion = calculEcartTauxAugmentationPromotion(\n    tauxAugmentationPromotionFemmes,\n    tauxAugmentationPromotionHommes,\n  )\n\n  const indicateurEcartAugmentationPromotion = calculIndicateurEcartAugmentationPromotion(\n    indicateurCalculable,\n    ecartTauxAugmentationPromotion,\n  )\n\n  const indicateurEcartAugmentationPromotionAbsolute = calculIndicateurEcartAugmentationPromotionAbsolute(\n    indicateurEcartAugmentationPromotion,\n  )\n\n  const indicateurSexeSurRepresente = calculIndicateurSexeSurRepresente(indicateurEcartAugmentationPromotion)\n\n  // // Ecart en nombre équivalent de salariés\n  const indicateurEcartNombreEquivalentSalaries = calculIndicateurEcartNombreEquivalentSalaries(\n    indicateurEcartAugmentationPromotionAbsolute,\n    totalNombreSalariesHommes,\n    totalNombreSalariesFemmes,\n  )\n\n  // Mesures correction indicateur 1\n  const { indicateurSexeSurRepresente: indicateurUnSexeSurRepresente, noteIndicateurUn } = calculIndicateurUn(state)\n\n  // // NOTE\n  const {\n    note: noteIndicateurDeuxTrois,\n    correctionMeasure,\n    noteEcartTaux,\n    noteEcartNombreSalaries,\n  } = calculNote(\n    indicateurEcartAugmentationPromotionAbsolute,\n    indicateurEcartNombreEquivalentSalaries,\n    noteIndicateurUn,\n    indicateurUnSexeSurRepresente,\n    indicateurSexeSurRepresente,\n  )\n\n  return {\n    effectifsIndicateurCalculable,\n    indicateurCalculable,\n    indicateurEcartAugmentationPromotion: indicateurEcartAugmentationPromotionAbsolute,\n    indicateurEcartNombreEquivalentSalaries,\n    indicateurSexeSurRepresente,\n    noteEcartTaux,\n    noteEcartNombreSalaries,\n    noteIndicateurDeuxTrois,\n    correctionMeasure,\n    tauxAugmentationPromotionHommes,\n    tauxAugmentationPromotionFemmes,\n    plusPetitNombreSalaries,\n  }\n}\n","import { AppState } from \"../globals\"\n\nimport { roundDecimal } from \"./helpers\"\n\n//////////////////\n// INDICATEUR 4 //\n//////////////////\n\nexport const calculIndicateurCalculable = (\n  presenceCongeMat: boolean,\n  nombreSalarieesPeriodeAugmentation: number | undefined,\n) => {\n  return presenceCongeMat && nombreSalarieesPeriodeAugmentation !== undefined && nombreSalarieesPeriodeAugmentation > 0\n}\n\nexport const calculIndicateurEcartNombreSalarieesAugmentees = (\n  indicateurCalculable: boolean,\n  nombreSalarieesPeriodeAugmentation: number | undefined,\n  nombreSalarieesAugmentees: number | undefined,\n): number | undefined =>\n  indicateurCalculable &&\n  nombreSalarieesPeriodeAugmentation !== undefined &&\n  nombreSalarieesAugmentees !== undefined &&\n  nombreSalarieesPeriodeAugmentation >= nombreSalarieesAugmentees\n    ? Math.abs(roundDecimal(100 * (nombreSalarieesAugmentees / nombreSalarieesPeriodeAugmentation), 3))\n    : undefined\n\n// NOTE\nexport const calculNote = (indicateurEcartNombreSalarieesAugmentees: number | undefined): number | undefined =>\n  indicateurEcartNombreSalarieesAugmentees !== undefined\n    ? indicateurEcartNombreSalarieesAugmentees < 100\n      ? 0\n      : 15\n    : undefined\n\n/////////\n// ALL //\n/////////\n\nexport default function calculIndicateurQuatre(state: AppState) {\n  const indicateurCalculable = calculIndicateurCalculable(\n    state.indicateurQuatre.presenceCongeMat,\n    state.indicateurQuatre.nombreSalarieesPeriodeAugmentation,\n  )\n\n  const indicateurEcartNombreSalarieesAugmentees = calculIndicateurEcartNombreSalarieesAugmentees(\n    indicateurCalculable,\n    state.indicateurQuatre.nombreSalarieesPeriodeAugmentation,\n    state.indicateurQuatre.nombreSalarieesAugmentees,\n  )\n\n  const noteIndicateurQuatre = calculNote(indicateurEcartNombreSalarieesAugmentees)\n\n  return {\n    indicateurCalculable,\n    indicateurEcartNombreSalarieesAugmentees,\n    noteIndicateurQuatre,\n  }\n}\n","import { AppState } from \"../globals\"\n\nfunction clamp(num: number, min: number, max: number) {\n  return Math.min(max, Math.max(min, num))\n}\n\n//////////////////\n// INDICATEUR 5 //\n//////////////////\n\nconst baremeEcartRemuneration = [0, 0, 5, 5, 10, 10]\n\nexport const calculIndicateurSexeSousRepresente = (\n  nombreSalariesHommes: number | undefined,\n  nombreSalariesFemmes: number | undefined,\n): \"hommes\" | \"femmes\" | \"egalite\" | undefined =>\n  nombreSalariesHommes !== undefined && nombreSalariesFemmes !== undefined\n    ? nombreSalariesHommes > nombreSalariesFemmes\n      ? \"femmes\"\n      : nombreSalariesHommes < nombreSalariesFemmes\n      ? \"hommes\"\n      : \"egalite\"\n    : undefined\n\nexport const calculIndicateurNombreSalariesSexeSousRepresente = (\n  nombreSalariesHommes: number | undefined,\n  nombreSalariesFemmes: number | undefined,\n): number | undefined =>\n  nombreSalariesHommes !== undefined && nombreSalariesFemmes !== undefined\n    ? Math.min(nombreSalariesHommes, nombreSalariesFemmes)\n    : undefined\n\n// NOTE\nexport const calculNote = (indicateurNombreSalariesSexeSousRepresente: number | undefined): number | undefined =>\n  indicateurNombreSalariesSexeSousRepresente !== undefined\n    ? baremeEcartRemuneration[clamp(indicateurNombreSalariesSexeSousRepresente, 0, baremeEcartRemuneration.length - 1)]\n    : undefined\n\n/////////\n// ALL //\n/////////\n\nexport default function calculIndicateurCinq(state: AppState) {\n  const indicateurSexeSousRepresente = calculIndicateurSexeSousRepresente(\n    state.indicateurCinq.nombreSalariesHommes,\n    state.indicateurCinq.nombreSalariesFemmes,\n  )\n\n  const indicateurNombreSalariesSexeSousRepresente = calculIndicateurNombreSalariesSexeSousRepresente(\n    state.indicateurCinq.nombreSalariesHommes,\n    state.indicateurCinq.nombreSalariesFemmes,\n  )\n\n  const noteIndicateurCinq = calculNote(indicateurNombreSalariesSexeSousRepresente)\n\n  return {\n    indicateurSexeSousRepresente,\n    indicateurNombreSalariesSexeSousRepresente,\n    noteIndicateurCinq,\n  }\n}\n","import { TrancheEffectifs } from \"../globals\"\n\n///////////\n// Index //\n///////////\n\nexport const calculNoteIndex = (\n  trancheEffectifs: TrancheEffectifs,\n  noteIndicateurUn: number | undefined,\n  noteIndicateurDeux: number | undefined,\n  noteIndicateurTrois: number | undefined,\n  noteIndicateurDeuxTrois: number | undefined,\n  noteIndicateurQuatre: number | undefined,\n  noteIndicateurCinq: number | undefined,\n): {\n  noteIndex: number | undefined\n  totalPoint: number\n  totalPointCalculable: number\n} => {\n  const noteIndicateurUnPointCalculable = noteIndicateurUn !== undefined ? 40 : 0\n  const noteIndicateurDeuxPointCalculable = noteIndicateurDeux !== undefined ? 20 : 0\n  const noteIndicateurTroisPointCalculable = noteIndicateurTrois !== undefined ? 15 : 0\n  const noteIndicateurDeuxTroisPointCalculable = noteIndicateurDeuxTrois !== undefined ? 35 : 0\n  const noteIndicateurQuatrePointCalculable = noteIndicateurQuatre !== undefined ? 15 : 0\n  const noteIndicateurCinqPointCalculable = noteIndicateurCinq !== undefined ? 10 : 0\n\n  const totalPoint =\n    (noteIndicateurUn || 0) +\n    (trancheEffectifs !== \"50 à 250\"\n      ? (noteIndicateurDeux || 0) + (noteIndicateurTrois || 0)\n      : noteIndicateurDeuxTrois || 0) +\n    (noteIndicateurQuatre || 0) +\n    (noteIndicateurCinq || 0)\n\n  const totalPointCalculable =\n    noteIndicateurUnPointCalculable +\n    (trancheEffectifs !== \"50 à 250\"\n      ? noteIndicateurDeuxPointCalculable + noteIndicateurTroisPointCalculable\n      : noteIndicateurDeuxTroisPointCalculable) +\n    noteIndicateurQuatrePointCalculable +\n    noteIndicateurCinqPointCalculable\n\n  if (totalPointCalculable < 75) {\n    return {\n      noteIndex: undefined,\n      totalPoint,\n      totalPointCalculable,\n    }\n  }\n\n  const noteIndex = Math.round((totalPoint * 100) / totalPointCalculable)\n\n  return {\n    noteIndex,\n    totalPoint,\n    totalPointCalculable,\n  }\n}\n","import React, { ReactNode, FunctionComponent } from \"react\"\nimport { Alert, AlertIcon, AlertTitle, Box, AlertDescription, CloseButton, useBoolean } from \"@chakra-ui/react\"\n\ninterface InfoBlocProps {\n  type?: \"error\" | \"success\" | \"warning\" | \"info\"\n  title: string\n  text?: ReactNode\n  closeButton?: boolean\n}\n\nconst InfoBlock: FunctionComponent<InfoBlocProps> = ({ type = \"info\", title, text, closeButton = false }) => {\n  const [isBlockVisible, setIsBlockVisible] = useBoolean(true)\n\n  if (isBlockVisible) {\n    return (\n      <Alert status={type} borderRadius=\"md\" p={4} sx={{ boxShadow: \"inset 0 0 0 1px rgba(0,0,0,0.05)\" }}>\n        <AlertIcon />\n        <Box>\n          <AlertTitle lineHeight={1.25}>{title}</AlertTitle>\n          {text && (\n            <AlertDescription fontSize=\"sm\" lineHeight={1.25} display=\"block\" mt={1}>\n              {text}\n            </AlertDescription>\n          )}\n        </Box>\n        {closeButton && <CloseButton onClick={setIsBlockVisible.toggle} position=\"absolute\" right=\"8px\" top=\"8px\" />}\n      </Alert>\n    )\n  }\n  return null\n}\n\nexport default InfoBlock\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { ReactNode } from \"react\"\n\nimport globalStyles from \"../utils/globalStyles\"\n\nimport { useColumnsWidth, useLayoutType } from \"../components/GridContext\"\n\ninterface Props {\n  childrenForm: ReactNode\n  childrenResult: ReactNode\n}\n\nfunction LayoutFormAndResult({ childrenForm, childrenResult }: Props) {\n  const layoutType = useLayoutType()\n  const width = useColumnsWidth(layoutType === \"desktop\" ? 4 : 5)\n  return (\n    <div css={styles.body}>\n      <div css={css({ width })}>{childrenForm}</div>\n      <div css={styles.result}>{childrenResult}</div>\n    </div>\n  )\n}\n\nconst styles = {\n  body: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-start\",\n  }),\n  result: css({\n    flexGrow: 1,\n    flexShrink: 1,\n    flexBasis: \"0%\",\n    marginLeft: globalStyles.grid.gutterWidth,\n    position: \"sticky\",\n    top: 0,\n    display: \"flex\",\n    flexDirection: \"column\",\n  }),\n}\n\nexport default LayoutFormAndResult\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { ReactNode } from \"react\"\n\ninterface Props {\n  children: ReactNode\n  onClick: () => void\n  style?: any\n}\n\nfunction ActionLink({ children, onClick, style }: Props) {\n  return (\n    <button type=\"button\" css={[styles.button, style]} onClick={onClick}>\n      {children}\n    </button>\n  )\n}\n\nconst styles = {\n  button: css({\n    padding: 0,\n    border: \"none\",\n    background: \"none\",\n\n    cursor: \"pointer\",\n    fontSize: 14,\n    textAlign: \"center\",\n    textDecoration: \"underline\",\n  }),\n}\n\nexport default ActionLink\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { FieldRenderProps, FieldMetaState } from \"react-final-form\"\n\nimport globalStyles from \"../utils/globalStyles\"\n\nexport const hasFieldError = (meta: FieldMetaState<string>) =>\n  (meta.error && meta.submitFailed) ||\n  (meta.error && meta.touched && Object.values({ ...meta.error, required: false }).includes(true))\n\ninterface Props {\n  field: FieldRenderProps<string, HTMLInputElement>\n  placeholder?: string\n  style?: any\n  readOnly?: boolean\n  autocomplete?: string\n}\n\nfunction Input({ field: { input, meta }, placeholder, style, readOnly = false, autocomplete }: Props) {\n  const error = hasFieldError(meta)\n\n  return (\n    <input\n      css={[styles.input, style, error && styles.inputError]}\n      placeholder={placeholder}\n      id={input.name}\n      readOnly={readOnly}\n      autoComplete={autocomplete ? autocomplete : \"off\"}\n      {...input}\n    />\n  )\n}\n\nconst styles = {\n  input: css({\n    appearance: \"none\",\n    border: `solid ${globalStyles.colors.default} 1px`,\n    width: \"100%\",\n    fontSize: 14,\n    lineHeight: \"17px\",\n    paddingLeft: 22,\n    paddingRight: 22,\n  }),\n  inputError: css({\n    color: globalStyles.colors.error,\n    borderColor: globalStyles.colors.error,\n  }),\n}\n\nexport default Input\n","/** @jsx jsx */\nimport { Fragment } from \"react\"\nimport { css, jsx } from \"@emotion/react\"\nimport { useField, Field } from \"react-final-form\"\nimport { hasFieldError } from \"./Input\"\n\nimport globalStyles from \"../utils/globalStyles\"\n\nimport { validateDate } from \"../utils/formHelpers\"\nimport { dateToString, parseDate } from \"../utils/helpers\"\n\nimport DatePicker, { registerLocale } from \"react-datepicker\"\nimport \"react-datepicker/dist/react-datepicker.css\"\nimport fr from \"date-fns/locale/fr\"\nregisterLocale(\"fr\", fr)\n\nconst displayMetaErrors = (error: { [key: string]: string }) => (\n  <Fragment>\n    {Object.keys(error)\n      .map((key) => error[key])\n      .join(\", \")}\n  </Fragment>\n)\n\nfunction FieldDate({ name, label, readOnly }: { name: string; label: string; readOnly: boolean }) {\n  const field = useField(name, { validate: validateDate })\n  const error = hasFieldError(field.meta)\n\n  return (\n    <div css={styles.dateField}>\n      <label css={[styles.label, error && styles.labelError]} htmlFor={field.input.name}>\n        {label}\n      </label>\n      <div css={styles.fieldRow}>\n        <Field name={name} validate={validateDate}>\n          {(props) => (\n            <DatePicker\n              locale=\"fr\"\n              dateFormat=\"dd/MM/yyyy\"\n              selected={parseDate(props.input.value)}\n              onChange={(date) => (date ? props.input.onChange(dateToString(date)) : \"\")}\n              readOnly={readOnly}\n              name={name}\n            />\n          )}\n        </Field>\n      </div>\n      <p css={styles.error}>{error && displayMetaErrors(field.meta.error)}</p>\n    </div>\n  )\n}\n\nconst styles = {\n  dateField: css({\n    marginTop: 5,\n    input: {\n      display: \"flex\",\n      fontSize: 14,\n      paddingLeft: 22,\n      paddingRight: 22,\n      height: 38,\n      marginTop: 5,\n    },\n  }),\n  label: css({\n    fontSize: 14,\n    fontWeight: \"bold\",\n    lineHeight: \"17px\",\n  }),\n  labelError: css({\n    color: globalStyles.colors.error,\n  }),\n  fieldRow: css({\n    height: 38,\n    marginTop: 5,\n    marginBottom: 5,\n    display: \"flex\",\n    input: {\n      borderRadius: 4,\n      border: \"1px solid\",\n    },\n    \"input[readonly]\": { border: 0 },\n  }),\n  error: css({\n    height: 18,\n    color: globalStyles.colors.error,\n    fontSize: 12,\n    textDecoration: \"underline\",\n    lineHeight: \"15px\",\n  }),\n}\n\nexport default FieldDate\n","import React from \"react\"\nimport { FormSpy } from \"react-final-form\"\n\nfunction FormAutoSave({\n  saveForm,\n  onlyWhenDirty = true, // Only auto save when the form is dirty (some value changed from the initialization).\n}: {\n  saveForm: (values: any) => void\n  onlyWhenDirty?: boolean\n}) {\n  const onChangeForm = ({ values, dirty }: { values: any; dirty: boolean }) => {\n    if (dirty || (onlyWhenDirty !== undefined && !onlyWhenDirty)) {\n      saveForm(values)\n    }\n  }\n\n  return <FormSpy subscription={{ values: true, dirty: true }} onChange={onChangeForm} />\n}\n\nexport default FormAutoSave\n","import React from \"react\"\nimport ButtonAction, { ButtonActionProps } from \"./ButtonAction\"\n\nfunction ButtonSubmit({ label, loading = false }: ButtonActionProps) {\n  return <ButtonAction label={label} type=\"submit\" disabled={loading} loading={loading} size=\"lg\" />\n}\n\nexport default ButtonSubmit\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\n\nimport globalStyles from \"../utils/globalStyles\"\n\nimport ButtonSubmit from \"./ButtonSubmit\"\nimport { IconWarning } from \"./ds/Icons\"\n\ninterface Props {\n  submitFailed: boolean\n  hasValidationErrors: boolean\n  errorMessage?: string\n  loading?: boolean\n  label?: string\n}\n\nfunction FormSubmit({\n  submitFailed,\n  hasValidationErrors,\n  errorMessage,\n  loading = false,\n  label = \"Valider les\" + \" informations\",\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <ButtonSubmit label={label} loading={loading} />\n      {errorMessage && submitFailed && hasValidationErrors && (\n        <div css={styles.error}>\n          <div css={styles.icon}>\n            <IconWarning boxSize=\"8\" />\n          </div>\n          <p>{errorMessage}</p>\n        </div>\n      )}\n    </div>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"flex-start\",\n  }),\n  error: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    marginTop: 4,\n    padding: \"8px 12px\",\n    backgroundColor: \"white\",\n    border: `solid ${globalStyles.colors.error} 1px`,\n    borderRadius: 5,\n    color: globalStyles.colors.error,\n    fontSize: 12,\n  }),\n  icon: css({\n    height: 20,\n    marginRight: 10,\n  }),\n}\n\nexport default FormSubmit\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { Field } from \"react-final-form\"\nimport { required } from \"../utils/formHelpers\"\n\nimport globalStyles from \"../utils/globalStyles\"\n\nfunction TextField({\n  errorText,\n  fieldName,\n  label,\n  readOnly,\n}: {\n  errorText: string\n  fieldName: string\n  label: string\n  readOnly: boolean\n}) {\n  return (\n    <Field name={fieldName} validate={required} component=\"textarea\">\n      {({ input, meta }) => (\n        <div css={styles.formField}>\n          <label css={[styles.label, meta.error && meta.touched && styles.labelError]} htmlFor={input.name}>\n            {label}\n          </label>\n          <div css={styles.fieldRow}>\n            <textarea {...input} readOnly={readOnly} />\n          </div>\n          {meta.error && meta.touched && <p css={styles.error}>{errorText}</p>}\n        </div>\n      )}\n    </Field>\n  )\n}\n\nconst styles = {\n  formField: css({\n    marginBottom: 20,\n  }),\n  label: css({\n    fontSize: 14,\n    fontWeight: \"bold\",\n    lineHeight: \"17px\",\n  }),\n  labelError: css({\n    color: globalStyles.colors.error,\n  }),\n  fieldRow: css({\n    height: 38,\n    marginTop: 5,\n    marginBottom: 5,\n    display: \"flex\",\n    textarea: {\n      borderRadius: 4,\n      border: \"1px solid\",\n      width: \"100%\",\n    },\n    \"textarea[readonly]\": {\n      border: 0,\n      borderRadius: 4,\n    },\n  }),\n  error: css({\n    height: 18,\n    color: globalStyles.colors.error,\n    fontSize: 12,\n    textDecoration: \"underline\",\n    lineHeight: \"15px\",\n  }),\n}\n\nexport default TextField\n","/** @jsx jsx */\nimport { Fragment } from \"react\"\nimport { css, jsx } from \"@emotion/react\"\nimport { Field } from \"react-final-form\"\n\nimport globalStyles from \"../utils/globalStyles\"\n\nimport { required } from \"../utils/formHelpers\"\n\nconst choices: { [key: string]: string } = {\n  mmo: \"Mesures mises en œuvre\",\n  me: \"Mesures envisagées\",\n  mne: \"Mesures non envisagées\",\n}\n\nfunction MesuresCorrection({ name, label, readOnly }: { name: string; label: string; readOnly: boolean }) {\n  return (\n    <Field name={name} validate={required} component=\"select\">\n      {({ input, meta }) => (\n        <div css={styles.formField}>\n          <label css={[styles.label, meta.error && meta.touched && styles.labelError]} htmlFor={input.name}>\n            {label}\n          </label>\n          {readOnly ? (\n            <div css={styles.fieldRow}>\n              <div css={styles.fakeInput}>{choices[input.value]}</div>\n            </div>\n          ) : (\n            <Fragment>\n              <div css={styles.fieldRow}>\n                <select {...input}>\n                  <option />\n                  {Object.keys(choices).map((value) => (\n                    <option value={value} key={value}>\n                      {choices[value]}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              {meta.error && meta.touched && <p css={styles.error}>veuillez sélectionner un choix dans la liste</p>}\n            </Fragment>\n          )}\n        </div>\n      )}\n    </Field>\n  )\n}\n\nconst styles = {\n  formField: css({\n    marginBottom: 20,\n  }),\n  label: css({\n    fontSize: 14,\n    fontWeight: \"bold\",\n    lineHeight: \"17px\",\n  }),\n  labelError: css({\n    color: globalStyles.colors.error,\n  }),\n  fieldRow: css({\n    height: 38,\n    marginTop: 5,\n    marginBottom: 5,\n    display: \"flex\",\n    select: {\n      borderRadius: 4,\n      border: \"1px solid\",\n      width: \"100%\",\n    },\n  }),\n  error: css({\n    height: 18,\n    color: globalStyles.colors.error,\n    fontSize: 12,\n    textDecoration: \"underline\",\n    lineHeight: \"15px\",\n  }),\n  fakeInput: css({\n    flexGrow: 1,\n    flexShrink: 1,\n    flexBasis: \"auto\",\n    paddingLeft: 23,\n    paddingRight: 23,\n\n    backgroundColor: \"white\",\n    borderRadius: 5,\n\n    fontSize: 14,\n    lineHeight: \"38px\",\n    cursor: \"not-allowed\",\n  }),\n}\n\nexport default MesuresCorrection\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { ReactNode } from \"react\"\nimport { useField } from \"react-final-form\"\n\nimport globalStyles from \"../utils/globalStyles\"\n\nfunction RadioField({\n  fieldName,\n  label,\n  value,\n  disabled,\n}: {\n  fieldName: string\n  label: ReactNode\n  value: string | undefined\n  disabled: boolean\n}) {\n  const { input } = useField(fieldName, { type: \"radio\", value })\n  return (\n    <label css={styles.label}>\n      <input css={styles.radio} {...input} disabled={disabled} />\n      <div css={[styles.fakeRadio, input.checked && styles.fakeRadioChecked]} />\n      <span css={styles.labelText}>{label}</span>\n    </label>\n  )\n}\n\ninterface Props {\n  readOnly: boolean\n  fieldName: string\n  value: string | undefined\n  labelTrue: ReactNode\n  labelFalse: ReactNode\n}\n\nfunction RadiosBoolean({ readOnly, fieldName, value, labelTrue, labelFalse }: Props) {\n  return (\n    <div css={styles.container}>\n      <div css={[readOnly && value === \"false\" && styles.radioFieldDisabled]}>\n        <RadioField fieldName={fieldName} label={labelTrue} value=\"true\" disabled={readOnly} />\n      </div>\n      <div css={[styles.radioFieldFalse, readOnly && value === \"true\" && styles.radioFieldDisabled]}>\n        <RadioField fieldName={fieldName} label={labelFalse} value=\"false\" disabled={readOnly} />\n      </div>\n    </div>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: \"0.5em\",\n  }),\n  label: css({\n    display: \"flex\",\n    fontSize: 14,\n    cursor: \"pointer\",\n  }),\n  labelText: css({\n    lineHeight: \"16px\",\n  }),\n  radio: css({\n    display: \"none\",\n  }),\n  fakeRadio: css({\n    width: 16,\n    height: 16,\n    flexShrink: 0,\n    marginRight: 6,\n    borderRadius: 8,\n    backgroundColor: \"white\",\n    border: `solid ${globalStyles.colors.default} 1px`,\n  }),\n  fakeRadioChecked: css({\n    backgroundImage: `radial-gradient(${globalStyles.colors.default} 0%, ${globalStyles.colors.default} 3px, #FFF 3px)`,\n  }),\n  radioFieldFalse: css({\n    marginTop: 9,\n  }),\n  radioFieldDisabled: css({\n    visibility: \"hidden\",\n  }),\n}\n\nexport default RadiosBoolean\n","/** @jsx jsx */\nimport { Fragment, useState } from \"react\"\nimport { css, jsx } from \"@emotion/react\"\nimport { Form, useField } from \"react-final-form\"\n\nimport { AppState, FormState, ActionDeclarationData } from \"../../globals\"\n\nimport ActionBar from \"../../components/ActionBar\"\nimport ActionLink from \"../../components/ActionLink\"\nimport FieldDate from \"../../components/FieldDate\"\nimport FormAutoSave from \"../../components/FormAutoSave\"\nimport FormSubmit from \"../../components/FormSubmit\"\nimport Textarea from \"../../components/Textarea\"\nimport MesuresCorrection from \"../../components/MesuresCorrection\"\nimport { logToSentry, parseDate } from \"../../utils/helpers\"\nimport RadiosBoolean from \"../../components/RadiosBoolean\"\nimport { parseBooleanFormValue, parseBooleanStateValue, required } from \"../../utils/formHelpers\"\nimport Input, { hasFieldError } from \"../../components/Input\"\nimport globalStyles from \"../../utils/globalStyles\"\nimport ButtonAction from \"../../components/ButtonAction\"\nimport ErrorMessage from \"../../components/ErrorMessage\"\nimport { resendReceipt } from \"../../utils/api\"\n\nconst validate = (value: string) => {\n  const requiredError = required(value)\n  if (!requiredError) {\n    return undefined\n  } else {\n    return {\n      required: requiredError,\n    }\n  }\n}\n\nconst validateForm = (finPeriodeReference: string) => {\n  return ({\n    datePublication,\n    publicationSurSiteInternet,\n  }: {\n    datePublication: string\n    publicationSurSiteInternet: string | undefined\n  }) => {\n    // Make sure we don't invalidate the form if the field `datePublication`\n    // isn't present on the form (because the index can't be calculated).\n    if (!datePublication) return\n    const parsedDatePublication = parseDate(datePublication)\n    const parsedFinPeriodeReference = parseDate(finPeriodeReference)\n    return {\n      datePublication:\n        parsedDatePublication !== undefined &&\n        parsedFinPeriodeReference !== undefined &&\n        parsedDatePublication > parsedFinPeriodeReference\n          ? undefined\n          : {\n              correspondanceFinPeriodeReference: `La date ne peut précéder la fin de la période de référence (${finPeriodeReference})`,\n            },\n      publicationSurSiteInternet:\n        publicationSurSiteInternet !== undefined ? undefined : \"Il vous faut sélectionner un mode de publication\",\n    }\n  }\n}\n\n///////////////////\ninterface Props {\n  state: AppState\n  noteIndex: number | undefined\n  indicateurUnParCSP: boolean\n  finPeriodeReference: string\n  readOnly: boolean\n  updateDeclaration: (data: ActionDeclarationData) => void\n  validateDeclaration: (valid: FormState) => void\n  apiError: string | undefined\n  declaring: boolean\n}\n\nfunction DeclarationForm({\n  state,\n  noteIndex,\n  indicateurUnParCSP,\n  finPeriodeReference,\n  readOnly,\n  updateDeclaration,\n  validateDeclaration,\n  apiError,\n  declaring,\n}: Props) {\n  const declaration = state.declaration\n  const initialValues = {\n    mesuresCorrection: declaration.mesuresCorrection,\n    cseMisEnPlace:\n      declaration.cseMisEnPlace !== undefined ? parseBooleanStateValue(declaration.cseMisEnPlace) : undefined,\n    dateConsultationCSE: declaration.dateConsultationCSE,\n    datePublication: declaration.datePublication,\n    publicationSurSiteInternet:\n      declaration.publicationSurSiteInternet !== undefined\n        ? parseBooleanStateValue(declaration.publicationSurSiteInternet)\n        : undefined,\n    lienPublication: declaration.lienPublication,\n    modalitesPublication: declaration.modalitesPublication,\n  }\n\n  const saveForm = (formData: any) => {\n    const {\n      mesuresCorrection,\n      cseMisEnPlace,\n      dateConsultationCSE,\n      datePublication,\n      publicationSurSiteInternet,\n      lienPublication,\n      modalitesPublication,\n    } = formData\n\n    updateDeclaration({\n      mesuresCorrection,\n      cseMisEnPlace: cseMisEnPlace !== undefined ? parseBooleanFormValue(cseMisEnPlace) : undefined,\n      dateConsultationCSE,\n      datePublication,\n      publicationSurSiteInternet:\n        publicationSurSiteInternet !== undefined ? parseBooleanFormValue(publicationSurSiteInternet) : undefined,\n      lienPublication,\n      modalitesPublication,\n    })\n  }\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData)\n    validateDeclaration(\"Valid\")\n  }\n\n  const after2020 = Boolean(state.informations.anneeDeclaration && state.informations.anneeDeclaration >= 2020)\n  const displayNC = noteIndex === undefined && after2020 ? \" aux indicateurs calculables\" : \"\"\n\n  const [loading, setLoading] = useState(false)\n  const [errorMessage, setErrorMessage] = useState(undefined)\n\n  const onClick = () => {\n    setLoading(true)\n\n    resendReceipt(state.informationsEntreprise.siren, state.informations.anneeDeclaration)\n      .then(() => {\n        setLoading(false)\n      })\n      .catch((error) => {\n        setLoading(false)\n        const errorMessage =\n          (error.jsonBody && error.jsonBody.message) || \"Erreur lors du renvoi de l'accusé de réception\"\n        setErrorMessage(errorMessage)\n        logToSentry(error, undefined)\n      })\n  }\n\n  if (!loading && errorMessage) {\n    return ErrorMessage(errorMessage)\n  }\n\n  return (\n    <Form\n      onSubmit={onSubmit}\n      validate={validateForm(finPeriodeReference)}\n      initialValues={initialValues}\n      // mandatory to not change user inputs\n      // because we want to keep wrong string inside the input\n      // we don't want to block string value\n      initialValuesEqual={() => true}\n    >\n      {({ handleSubmit, values, hasValidationErrors, errors, submitFailed }) => (\n        <form onSubmit={handleSubmit} css={styles.container} style={{ marginTop: 20 }}>\n          <FormAutoSave saveForm={saveForm} />\n\n          {noteIndex !== undefined && noteIndex < 75 && (\n            <MesuresCorrection\n              label=\"Mesures de correction prévues à l'article D. 1142-6\"\n              name=\"mesuresCorrection\"\n              readOnly={readOnly}\n            />\n          )}\n\n          {!indicateurUnParCSP && (\n            <Fragment>\n              {state.informationsEntreprise.structure === \"Entreprise\" && (\n                <div css={styles.formField}>\n                  Un CSE a-t-il été mis en place ?\n                  <RadiosBoolean\n                    fieldName=\"cseMisEnPlace\"\n                    value={values.cseMisEnPlace}\n                    readOnly={readOnly}\n                    labelTrue=\"oui\"\n                    labelFalse=\"non\"\n                  />\n                </div>\n              )}\n              {(state.informationsEntreprise.structure !== \"Entreprise\" || values.cseMisEnPlace === \"true\") && (\n                <div>\n                  <FieldDate\n                    name=\"dateConsultationCSE\"\n                    label=\"Date de consultation du CSE pour l’indicateur relatif à l’écart de rémunération\"\n                    readOnly={readOnly}\n                  />\n                </div>\n              )}\n            </Fragment>\n          )}\n\n          {(noteIndex !== undefined || after2020) && (\n            <Fragment>\n              <FieldDate\n                name=\"datePublication\"\n                label={\n                  after2020\n                    ? `Date de publication des résultats obtenus${displayNC}`\n                    : \"Date de publication du niveau de résultat obtenu\"\n                }\n                readOnly={readOnly}\n              />\n              <p>\n                {after2020\n                  ? `Avez-vous un site Internet pour publier les résultats obtenus${displayNC} ?`\n                  : \"Avez-vous un site Internet pour publier le niveau de résultat obtenu ?\"}\n              </p>\n              <RadiosBoolean\n                fieldName=\"publicationSurSiteInternet\"\n                value={values.publicationSurSiteInternet}\n                readOnly={readOnly}\n                labelTrue=\"oui\"\n                labelFalse=\"non\"\n              />\n              {submitFailed && hasValidationErrors && errors && errors.publicationSurSiteInternet && (\n                <p css={styles.error}>{errors.publicationSurSiteInternet}</p>\n              )}\n              <div css={styles.siteOrModalites}>\n                {values.publicationSurSiteInternet !== undefined &&\n                  (values.publicationSurSiteInternet === \"true\" ? (\n                    <FieldSiteInternet readOnly={readOnly} after2020={after2020} displayNC={displayNC} />\n                  ) : (\n                    <Textarea\n                      label={\n                        after2020\n                          ? `Préciser les modalités de communication des résultats obtenus${displayNC} auprès de vos salariés`\n                          : \"Préciser les modalités de communication du niveau de résultat obtenu auprès de vos salariés\"\n                      }\n                      fieldName=\"modalitesPublication\"\n                      errorText=\"Veuillez préciser les modalités de communication\"\n                      readOnly={readOnly}\n                    />\n                  ))}\n              </div>\n            </Fragment>\n          )}\n\n          {readOnly ? (\n            <Fragment>\n              <ActionBar>\n                Votre déclaration est maintenant finalisée, en date du {declaration.dateDeclaration}. &emsp;\n                {declaration.formValidated === \"Valid\" && (\n                  <p css={styles.edit}>\n                    <ActionLink onClick={() => validateDeclaration(\"None\")}>modifier les données saisies</ActionLink>\n                  </p>\n                )}\n              </ActionBar>\n              <ButtonAction\n                onClick={onClick}\n                label=\"Renvoyer l'accusé de réception\"\n                disabled={loading}\n                loading={loading}\n              />\n            </Fragment>\n          ) : (\n            <ActionBar>\n              <FormSubmit\n                hasValidationErrors={hasValidationErrors || Boolean(apiError)}\n                submitFailed={submitFailed || Boolean(apiError)}\n                errorMessage={\n                  apiError || \"Le formulaire ne peut pas être validé si tous les champs ne sont pas remplis.\"\n                }\n                label=\"déclarer\"\n                loading={declaring}\n              />\n            </ActionBar>\n          )}\n        </form>\n      )}\n    </Form>\n  )\n}\n\nfunction FieldSiteInternet({\n  readOnly,\n  after2020,\n  displayNC,\n}: {\n  readOnly: boolean\n  after2020: boolean\n  displayNC: string\n}) {\n  const field = useField(\"lienPublication\", { validate })\n  const error = hasFieldError(field.meta)\n\n  return (\n    <div css={styles.formField}>\n      <label css={[styles.label, error && styles.labelError]} htmlFor={field.input.name}>\n        {after2020\n          ? `Indiquer l'adresse exacte de la page Internet (URL) sur laquelle seront publiés les résultats obtenus${displayNC}`\n          : \"Indiquer l'adresse exacte de la page Internet (URL) sur laquelle sera publié le niveau de résultat obtenu\"}\n      </label>\n      <div css={styles.fieldRow}>\n        <Input field={field} readOnly={readOnly} />\n      </div>\n      <p css={styles.error}>{error && \"veuillez entrer une adresse internet\"}</p>\n    </div>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n  }),\n  formField: css({\n    marginBottom: 20,\n  }),\n  label: css({\n    fontSize: 14,\n    fontWeight: \"bold\",\n    lineHeight: \"17px\",\n  }),\n  labelError: css({\n    color: globalStyles.colors.error,\n  }),\n  siteOrModalites: css({\n    marginTop: 20,\n  }),\n  fieldRow: css({\n    height: 38,\n    marginTop: 5,\n    marginBottom: 5,\n    display: \"flex\",\n    input: {\n      borderRadius: 4,\n      border: \"1px solid\",\n    },\n    \"input[readonly]\": { border: 0 },\n  }),\n  edit: css({\n    marginTop: 14,\n    marginBottom: 14,\n    textAlign: \"center\",\n  }),\n  error: css({\n    color: globalStyles.colors.error,\n    fontSize: 12,\n    textDecoration: \"underline\",\n    lineHeight: \"15px\",\n  }),\n}\n\nexport default DeclarationForm\n","import React, { FunctionComponent } from \"react\"\nimport { Text } from \"@chakra-ui/react\"\n\nimport InfoBlock from \"../../components/ds/InfoBlock\"\n\ninterface RecapitulatifIndexProps {\n  allIndicateurValid: boolean\n  noteIndex: number | undefined\n  totalPoint: number\n  totalPointCalculable: number\n}\n\nconst RecapitulatifIndex: FunctionComponent<RecapitulatifIndexProps> = ({\n  allIndicateurValid,\n  noteIndex,\n  totalPoint,\n  totalPointCalculable,\n}) => (\n  <React.Fragment>\n    {allIndicateurValid ? (\n      noteIndex !== undefined ? (\n        <InfoBlock\n          type=\"success\"\n          title=\"Index égalité femmes-hommes\"\n          text={\n            <React.Fragment>\n              <Text>\n                Votre résultat total est <strong>{noteIndex}/100</strong>.\n              </Text>\n              <Text\n                mt={1}\n                fontStyle=\"italic\"\n                fontSize=\"xs\"\n              >{`${totalPoint} points sur un maximum de ${totalPointCalculable} pouvant être obtenus.`}</Text>\n            </React.Fragment>\n          }\n        />\n      ) : (\n        <InfoBlock\n          type=\"warning\"\n          title=\"Index égalité femmes-hommes\"\n          text={\n            <React.Fragment>\n              <Text>\n                Vos indicateurs calculables représentent moins de 75 points, votre Index ne peut être calculé.\n              </Text>\n              <Text\n                mt={1}\n                fontStyle=\"italic\"\n                fontSize=\"xs\"\n              >{`${totalPoint} points sur un maximum de ${totalPointCalculable} pouvant être obtenus.`}</Text>\n            </React.Fragment>\n          }\n        />\n      )\n    ) : (\n      <InfoBlock\n        type=\"warning\"\n        title=\"Index égalité femmes-hommes\"\n        text=\"Vous n’avez pas encore validé tous vos indicateurs, votre index ne peut être calculé.\"\n      />\n    )}\n  </React.Fragment>\n)\n\nexport default RecapitulatifIndex\n","import React, { FunctionComponent } from \"react\"\nimport { chakra, Link, LinkProps } from \"@chakra-ui/react\"\nimport { Link as LinkRouter } from \"react-router-dom\"\n\ntype TextLinkProps = {\n  to: string\n} & LinkProps\n\nconst LinkChakraRouter = chakra(LinkRouter, {\n  baseStyle: {\n    textDecoration: \"underline\",\n    color: \"inherit\",\n  },\n})\n\nconst TextLink: FunctionComponent<TextLinkProps> = ({ isExternal, children, to, ...rest }) => {\n  if (isExternal) {\n    return (\n      <Link href={to} textDecoration=\"underline\" color=\"inherit\" isExternal {...rest}>\n        {children}\n      </Link>\n    )\n  } else {\n    return (\n      <LinkChakraRouter to={to} {...rest}>\n        {children}\n      </LinkChakraRouter>\n    )\n  }\n}\n\nexport default TextLink\n","import React, { ReactElement } from \"react\"\nimport { RouteComponentProps, withRouter } from \"react-router-dom\"\n\nimport ButtonLink from \"./ButtonLink\"\nimport TextLink from \"./ds/TextLink\"\n\ninterface MatchParams {\n  code: string\n}\n\ninterface SimulatorLinkProps extends RouteComponentProps<MatchParams> {\n  children: (to: string) => ReactElement\n}\n\nfunction SimulatorLink({\n  children,\n  match: {\n    params: { code },\n  },\n}: SimulatorLinkProps) {\n  return children(`/simulateur/${code}`)\n}\n\nconst SimulatorLinkWithRouter = withRouter(SimulatorLink)\n\nexport default SimulatorLinkWithRouter\n\ninterface LinkProps {\n  label: string\n  to: string\n}\n\nexport function ButtonSimulatorLink({ to, label }: LinkProps) {\n  return (\n    <SimulatorLinkWithRouter>\n      {(toSimulator) => <ButtonLink to={`${toSimulator}${to}`} label={label} size=\"lg\" />}\n    </SimulatorLinkWithRouter>\n  )\n}\n\nexport function TextSimulatorLink({ to, label }: LinkProps) {\n  return (\n    <SimulatorLinkWithRouter>\n      {(toSimulator) => <TextLink to={`${toSimulator}${to}`}>{label}</TextLink>}\n    </SimulatorLinkWithRouter>\n  )\n}\n","import React, { useCallback, Fragment, ReactNode, useState, useEffect, FunctionComponent } from \"react\"\nimport { RouteComponentProps } from \"react-router-dom\"\nimport { Heading, ListItem, UnorderedList } from \"@chakra-ui/react\"\n\nimport {\n  AppState,\n  FormState,\n  ActionType,\n  ActionDeclarationData,\n  DeclarationIndicateurUnData,\n  DeclarationIndicateurDeuxData,\n  DeclarationIndicateurTroisData,\n  DeclarationIndicateurDeuxTroisData,\n  DeclarationIndicateurQuatreData,\n  DeclarationIndicateurCinqData,\n  DeclarationEffectifData,\n} from \"../../globals\"\n\nimport calculIndicateurUn, {\n  calculEcartTauxRemunerationParTrancheAgeCoef,\n  calculEcartTauxRemunerationParTrancheAgeCSP,\n} from \"../../utils/calculsEgaProIndicateurUn\"\nimport calculIndicateurDeux, { calculEcartTauxAugmentationParCSP } from \"../../utils/calculsEgaProIndicateurDeux\"\nimport calculIndicateurTrois, { calculEcartTauxPromotionParCSP } from \"../../utils/calculsEgaProIndicateurTrois\"\nimport calculIndicateurDeuxTrois from \"../../utils/calculsEgaProIndicateurDeuxTrois\"\nimport calculIndicateurQuatre from \"../../utils/calculsEgaProIndicateurQuatre\"\nimport calculIndicateurCinq from \"../../utils/calculsEgaProIndicateurCinq\"\nimport { calculNoteIndex } from \"../../utils/calculsEgaProIndex\"\n\nimport InfoBlock from \"../../components/ds/InfoBlock\"\nimport Page from \"../../components/Page\"\nimport LayoutFormAndResult from \"../../components/LayoutFormAndResult\"\n\nimport DeclarationForm from \"./DeclarationForm\"\nimport RecapitulatifIndex from \"../Recapitulatif/RecapitulatifIndex\"\nimport { TextSimulatorLink } from \"../../components/SimulatorLink\"\nimport totalNombreSalaries from \"../../utils/totalNombreSalaries\"\nimport { putDeclaration, putIndicatorsDatas } from \"../../utils/api\"\nimport { formatDataForAPI, logToSentry } from \"../../utils/helpers\"\nimport { useTitle } from \"../../utils/hooks\"\nimport { isFormValid } from \"../../utils/formHelpers\"\n\ninterface DeclarationProps extends RouteComponentProps {\n  code: string\n  state: AppState\n  dispatch: (action: ActionType) => void\n}\n\nconst title = \"Déclaration\"\n\nconst Declaration: FunctionComponent<DeclarationProps> = ({ code, state, dispatch }) => {\n  useTitle(title)\n\n  const [declaring, setDeclaring] = useState(false)\n  const [apiError, setApiError] = useState<string | undefined>(undefined)\n\n  const updateDeclaration = useCallback(\n    (data: ActionDeclarationData) => dispatch({ type: \"updateDeclaration\", data }),\n    [dispatch],\n  )\n\n  const { totalNombreSalariesHomme, totalNombreSalariesFemme } = totalNombreSalaries(state.effectif.nombreSalaries)\n\n  const nombreSalariesTotal = totalNombreSalariesFemme + totalNombreSalariesHomme\n\n  const {\n    effectifsIndicateurCalculable: effectifsIndicateurUnCalculable,\n    indicateurEcartRemuneration,\n    indicateurSexeSurRepresente: indicateurUnSexeSurRepresente,\n    noteIndicateurUn,\n  } = calculIndicateurUn(state)\n\n  const {\n    effectifsIndicateurCalculable: effectifsIndicateurDeuxCalculable,\n    indicateurEcartAugmentation,\n    indicateurSexeSurRepresente: indicateurDeuxSexeSurRepresente,\n    correctionMeasure: indicateurDeuxCorrectionMeasure,\n    noteIndicateurDeux,\n  } = calculIndicateurDeux(state)\n\n  const {\n    effectifsIndicateurCalculable: effectifsIndicateurTroisCalculable,\n    indicateurEcartPromotion,\n    indicateurSexeSurRepresente: indicateurTroisSexeSurRepresente,\n    correctionMeasure: indicateurTroisCorrectionMeasure,\n    noteIndicateurTrois,\n  } = calculIndicateurTrois(state)\n\n  const {\n    effectifsIndicateurCalculable: effectifsIndicateurDeuxTroisCalculable,\n    indicateurEcartAugmentationPromotion,\n    indicateurEcartNombreEquivalentSalaries,\n    indicateurSexeSurRepresente: indicateurDeuxTroisSexeSurRepresente,\n    noteEcartTaux: noteEcart,\n    noteEcartNombreSalaries: noteNombreSalaries,\n    correctionMeasure: indicateurDeuxTroisCorrectionMeasure,\n    noteIndicateurDeuxTrois,\n  } = calculIndicateurDeuxTrois(state)\n\n  const {\n    indicateurCalculable: indicateurQuatreCalculable,\n    indicateurEcartNombreSalarieesAugmentees,\n    noteIndicateurQuatre,\n  } = calculIndicateurQuatre(state)\n\n  const {\n    indicateurSexeSousRepresente: indicateurCinqSexeSousRepresente,\n    indicateurNombreSalariesSexeSousRepresente,\n    noteIndicateurCinq,\n  } = calculIndicateurCinq(state)\n\n  const trancheEffectifs = state.informations.trancheEffectifs\n\n  const allIndicateurValid =\n    (isFormValid(state.indicateurUn) ||\n      // Si l'indicateurUn n'est pas calculable par coefficient, forcer le calcul par CSP\n      (!effectifsIndicateurUnCalculable && state.indicateurUn.csp)) &&\n    (trancheEffectifs !== \"50 à 250\"\n      ? (isFormValid(state.indicateurDeux) || !effectifsIndicateurDeuxCalculable) &&\n        (isFormValid(state.indicateurTrois) || !effectifsIndicateurTroisCalculable)\n      : isFormValid(state.indicateurDeuxTrois) || !effectifsIndicateurDeuxTroisCalculable) &&\n    isFormValid(state.indicateurQuatre) &&\n    isFormValid(state.indicateurCinq)\n\n  const effectifData: DeclarationEffectifData = {\n    nombreSalariesTotal,\n  }\n\n  const indicateurUnData: DeclarationIndicateurUnData = {\n    nombreCoefficients: state.indicateurUn.csp ? undefined : state.indicateurUn.coefficient.length,\n    nonCalculable: !effectifsIndicateurUnCalculable,\n    motifNonCalculable: !effectifsIndicateurUnCalculable ? \"egvi40pcet\" : \"\",\n    // TODO: demander le motif de non calculabilité si \"autre\" ?\n    motifNonCalculablePrecision: \"\",\n    remunerationAnnuelle: calculEcartTauxRemunerationParTrancheAgeCSP(state.indicateurUn.remunerationAnnuelle),\n    coefficient: calculEcartTauxRemunerationParTrancheAgeCoef(state.indicateurUn.coefficient),\n    resultatFinal: indicateurEcartRemuneration,\n    sexeSurRepresente: indicateurUnSexeSurRepresente,\n    noteFinale: noteIndicateurUn,\n  }\n\n  const indicateurDeuxData: DeclarationIndicateurDeuxData = {\n    nonCalculable: !effectifsIndicateurDeuxCalculable,\n    motifNonCalculable: !effectifsIndicateurDeuxCalculable\n      ? \"egvi40pcet\"\n      : state.indicateurDeux.presenceAugmentation\n      ? \"\"\n      : \"absaugi\",\n    // TODO: demander le motif de non calculabilité si \"autre\" ?\n    motifNonCalculablePrecision: \"\",\n    tauxAugmentation: calculEcartTauxAugmentationParCSP(state.indicateurDeux.tauxAugmentation),\n    resultatFinal: indicateurEcartAugmentation,\n    sexeSurRepresente: indicateurDeuxSexeSurRepresente,\n    noteFinale: noteIndicateurDeux,\n    mesuresCorrection: indicateurDeuxCorrectionMeasure,\n  }\n\n  const indicateurTroisData: DeclarationIndicateurTroisData = {\n    nonCalculable: !effectifsIndicateurTroisCalculable,\n    motifNonCalculable: !effectifsIndicateurTroisCalculable\n      ? \"egvi40pcet\"\n      : state.indicateurTrois.presencePromotion\n      ? \"\"\n      : \"absprom\",\n    // TODO: demander le motif de non calculabilité si \"autre\" ?\n    motifNonCalculablePrecision: \"\",\n    tauxPromotion: calculEcartTauxPromotionParCSP(state.indicateurTrois.tauxPromotion),\n    resultatFinal: indicateurEcartPromotion,\n    sexeSurRepresente: indicateurTroisSexeSurRepresente,\n    noteFinale: noteIndicateurTrois,\n    mesuresCorrection: indicateurTroisCorrectionMeasure,\n  }\n\n  const indicateurDeuxTroisData: DeclarationIndicateurDeuxTroisData = {\n    nonCalculable: !effectifsIndicateurDeuxTroisCalculable,\n    motifNonCalculable: !effectifsIndicateurDeuxTroisCalculable\n      ? \"etsno5f5h\"\n      : state.indicateurDeuxTrois.presenceAugmentationPromotion\n      ? \"\"\n      : \"absaugi\",\n    // TODO: demander le motif de non calculabilité si \"autre\" ?\n    motifNonCalculablePrecision: \"\",\n    resultatFinalEcart: indicateurEcartAugmentationPromotion,\n    resultatFinalNombreSalaries: indicateurEcartNombreEquivalentSalaries,\n    sexeSurRepresente: indicateurDeuxTroisSexeSurRepresente,\n    noteEcart,\n    noteNombreSalaries,\n    noteFinale: noteIndicateurDeuxTrois,\n    mesuresCorrection: indicateurDeuxTroisCorrectionMeasure,\n  }\n\n  const indicateurQuatreData: DeclarationIndicateurQuatreData = {\n    nonCalculable: !indicateurQuatreCalculable,\n    motifNonCalculable: state.indicateurQuatre.presenceCongeMat\n      ? state.indicateurQuatre.nombreSalarieesPeriodeAugmentation === 0\n        ? \"absaugpdtcm\"\n        : \"\"\n      : \"absretcm\",\n    // TODO: demander le motif de non calculabilité si \"autre\" ?\n    motifNonCalculablePrecision: \"\",\n    resultatFinal: indicateurEcartNombreSalarieesAugmentees,\n    noteFinale: noteIndicateurQuatre,\n  }\n\n  const indicateurCinqData: DeclarationIndicateurCinqData = {\n    resultatFinal: indicateurNombreSalariesSexeSousRepresente,\n    sexeSurRepresente:\n      indicateurCinqSexeSousRepresente === \"femmes\"\n        ? \"hommes\"\n        : indicateurCinqSexeSousRepresente === \"hommes\"\n        ? \"femmes\"\n        : indicateurCinqSexeSousRepresente,\n    noteFinale: noteIndicateurCinq,\n  }\n\n  const { noteIndex, totalPoint, totalPointCalculable } = calculNoteIndex(\n    trancheEffectifs,\n    noteIndicateurUn,\n    noteIndicateurDeux,\n    noteIndicateurTrois,\n    noteIndicateurDeuxTrois,\n    noteIndicateurQuatre,\n    noteIndicateurCinq,\n  )\n\n  const validateDeclaration = useCallback(\n    (valid: FormState) => {\n      if (valid === \"Valid\") {\n        setDeclaring(true)\n      } else {\n        setDeclaring(false)\n      }\n      if (!apiError) {\n        return dispatch({\n          type: \"validateDeclaration\",\n          valid,\n          effectifData,\n          indicateurUnData,\n          indicateurDeuxData,\n          indicateurTroisData,\n          indicateurDeuxTroisData,\n          indicateurQuatreData,\n          indicateurCinqData,\n          noteIndex,\n          totalPoint,\n          totalPointCalculable,\n        })\n      }\n    },\n    [\n      dispatch,\n      effectifData,\n      indicateurUnData,\n      indicateurDeuxData,\n      indicateurTroisData,\n      indicateurDeuxTroisData,\n      indicateurQuatreData,\n      indicateurCinqData,\n      noteIndex,\n      totalPoint,\n      totalPointCalculable,\n      apiError,\n    ],\n  )\n\n  useEffect(() => {\n    if (declaring) {\n      const data = formatDataForAPI(code, state)\n      putIndicatorsDatas(code, state)\n        .then(() => {\n          putDeclaration(data)\n            .then(() => {\n              setApiError(undefined)\n              setDeclaring(false)\n            })\n            .catch((error) => {\n              setDeclaring(false)\n              const message =\n                error.jsonBody && error.jsonBody.error\n                  ? `Votre déclaration ne peut être validée : ${error.jsonBody.error}`\n                  : \"Erreur lors de la sauvegarde des données\"\n              setApiError(message)\n              validateDeclaration(\"None\")\n              if (error.response.status !== 403) {\n                // Don't log on 403 because it's n expected error:\n                // \"Votre déclaration ne peut être validée : Cette déclaration a déjà\n                // été créée par un autre utilisateur\".\n                logToSentry(error, data)\n              }\n            })\n        })\n        .catch((error) => {\n          setDeclaring(false)\n          const message =\n            error.jsonBody && error.jsonBody.error\n              ? `Votre déclaration ne peut être validée : ${error.jsonBody.error}`\n              : \"Erreur lors de la sauvegarde des données\"\n          setApiError(message)\n          validateDeclaration(\"None\")\n          logToSentry(error, data)\n        })\n    }\n  }, [code, declaring, state, validateDeclaration])\n\n  // tous les formulaires ne sont pas encore validés\n  if (\n    !allIndicateurValid ||\n    !isFormValid(state.informations) ||\n    !isFormValid(state.effectif) ||\n    !isFormValid(state.informationsEntreprise) ||\n    !isFormValid(state.informationsDeclarant)\n  ) {\n    return (\n      <PageDeclaration>\n        <InfoBlock\n          type=\"warning\"\n          title=\"Vous devez renseigner tous les indicateurs ainsi que les informations relatives à la déclaration avant de pouvoir valider\"\n          text=\"Certains des indicateurs et/ou certaines informations relatives à la déclaration sont manquantes.\"\n        />\n        <Heading as=\"h2\" size=\"md\" mt={6}>\n          Les formulaires suivants ne sont pas validés\n        </Heading>\n        <UnorderedList mt={2}>\n          {!isFormValid(state.informations) && (\n            <ListItem>\n              <TextSimulatorLink to=\"/informations\" label=\"Informations calcul et période de référence\" />\n            </ListItem>\n          )}\n          {!isFormValid(state.effectif) && (\n            <ListItem>\n              <TextSimulatorLink to=\"/effectifs\" label=\"Effectifs pris en compte\" />\n            </ListItem>\n          )}\n          {!isFormValid(state.indicateurUn) &&\n            ((!effectifsIndicateurUnCalculable && !state.indicateurUn.csp) || effectifsIndicateurUnCalculable) && (\n              <ListItem>\n                <TextSimulatorLink to=\"/indicateur1\" label=\"Indicateur écart de rémunération\" />\n              </ListItem>\n            )}\n          {trancheEffectifs !== \"50 à 250\" && !isFormValid(state.indicateurDeux) && effectifsIndicateurDeuxCalculable && (\n            <ListItem>\n              <TextSimulatorLink to=\"/indicateur2\" label=\"Indicateur écart de taux d'augmentations\" />\n            </ListItem>\n          )}\n          {trancheEffectifs !== \"50 à 250\" &&\n            !isFormValid(state.indicateurTrois) &&\n            effectifsIndicateurTroisCalculable && (\n              <ListItem>\n                <TextSimulatorLink to=\"/indicateur3\" label=\"Indicateur écart de taux de promotions\" />\n              </ListItem>\n            )}\n          {trancheEffectifs === \"50 à 250\" &&\n            !isFormValid(state.indicateurDeuxTrois) &&\n            effectifsIndicateurDeuxTroisCalculable && (\n              <ListItem>\n                <TextSimulatorLink to=\"/indicateur2et3\" label=\"Indicateur écart de taux d'augmentations\" />\n              </ListItem>\n            )}\n          {!isFormValid(state.indicateurQuatre) && (\n            <ListItem>\n              <TextSimulatorLink to=\"/indicateur4\" label=\"Indicateur retour de congé maternité\" />\n            </ListItem>\n          )}\n          {!isFormValid(state.indicateurCinq) && (\n            <ListItem>\n              <TextSimulatorLink to=\"/indicateur5\" label=\"Indicateur hautes rémunérations\" />\n            </ListItem>\n          )}\n          {!isFormValid(state.informationsEntreprise) && (\n            <ListItem>\n              <TextSimulatorLink to=\"/informations-entreprise\" label=\"Informations entreprise/UES\" />\n            </ListItem>\n          )}\n          {!isFormValid(state.informationsDeclarant) && (\n            <ListItem>\n              <TextSimulatorLink to=\"/informations-declarant\" label=\"Informations déclarant\" />\n            </ListItem>\n          )}\n        </UnorderedList>\n      </PageDeclaration>\n    )\n  }\n\n  return (\n    <PageDeclaration>\n      <LayoutFormAndResult\n        childrenForm={\n          <Fragment>\n            <RecapitulatifIndex\n              allIndicateurValid={allIndicateurValid}\n              noteIndex={noteIndex}\n              totalPoint={totalPoint}\n              totalPointCalculable={totalPointCalculable}\n            />\n            <DeclarationForm\n              state={state}\n              noteIndex={noteIndex}\n              indicateurUnParCSP={state.indicateurUn.csp}\n              finPeriodeReference={state.informations.finPeriodeReference}\n              readOnly={isFormValid(state.declaration) && !declaring}\n              updateDeclaration={updateDeclaration}\n              validateDeclaration={validateDeclaration}\n              apiError={apiError}\n              declaring={declaring}\n            />\n          </Fragment>\n        }\n        childrenResult={null}\n      />\n    </PageDeclaration>\n  )\n}\n\nfunction PageDeclaration({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title={title}\n      tagline=\"Une fois toutes les informations relatives à la déclaration fournies dans les différents formulaires, validez votre déclaration\"\n    >\n      {children}\n    </Page>\n  )\n}\n\nexport default Declaration\n","import Declaration from \"./Declaration\"\nexport default Declaration\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { ReactNode } from \"react\"\n\ninterface Props {\n  style?: any\n  children?: ReactNode\n}\n\nfunction Cell({ style, children }: Props) {\n  return <div css={[styles.cell, style]}>{children}</div>\n}\n\nfunction Cell2({ style, children }: Props) {\n  return <div css={[styles.cell2, style]}>{children}</div>\n}\n\nfunction CellHead({ style, children }: Props) {\n  return <div css={[styles.cellHead, style]}>{children}</div>\n}\n\nconst styles = {\n  cell: css({\n    width: 62,\n    flexShrink: 0,\n    marginLeft: 8,\n  }),\n  cell2: css({\n    width: 62 + 8 + 62,\n    flexShrink: 0,\n    marginLeft: 8,\n  }),\n  cellHead: css({\n    flexGrow: 1,\n    marginRight: 2,\n  }),\n}\n\nexport { Cell, Cell2, CellHead }\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { Fragment, ReactNode } from \"react\"\n\nimport globalStyles from \"../utils/globalStyles\"\n\nimport { CellHead, Cell, Cell2 } from \"./Cell\"\nimport { IconMale, IconFemale } from \"./ds/Icons\"\n\ninterface Props {\n  title?: string\n  label?: string\n  footer?: string | [string, string]\n  children: ReactNode\n}\n\nfunction BlocForm({ title, label, footer, children }: Props) {\n  return (\n    <div css={styles.container}>\n      <div css={styles.background} />\n      <div css={[styles.blocForm, footer && styles.blocFormWithFooter]}>\n        <div css={styles.rowHead}>\n          <CellHead style={styles.rowHeadCellHead}>{title}</CellHead>\n          <Cell2 style={styles.rowHeadCell}>{label}</Cell2>\n          <div css={styles.rowHeadBorder} />\n        </div>\n\n        <div css={styles.rowGender}>\n          <CellHead />\n          <Cell style={styles.cellWomen}>\n            <IconFemale /> femmes\n          </Cell>\n          <Cell style={styles.cellMen}>\n            <IconMale />\n            <span>hommes</span>\n          </Cell>\n        </div>\n\n        <div css={styles.blocFormInner}>{children}</div>\n\n        {footer && (\n          <div css={styles.rowFoot}>\n            <div css={styles.rowFootBorderLeft} />\n            <div css={styles.rowFootTotal}>total</div>\n            {typeof footer === \"string\" ? (\n              <Cell2 style={styles.rowFootCell}>{footer}</Cell2>\n            ) : (\n              <Fragment>\n                <Cell style={styles.rowFootCell}>{footer[0]}</Cell>\n                <Cell style={styles.rowFootCell}>{footer[1]}</Cell>\n              </Fragment>\n            )}\n\n            <div css={styles.rowFootBorderRight} />\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport function BlocFormLight({ children, superLight = false }: { children: ReactNode; superLight?: boolean }) {\n  return (\n    <div css={styles.container}>\n      <div css={styles.background} />\n      <div css={[styles.blocForm, styles.blocFormLight, superLight && styles.blocFormSuperLight]}>\n        <div css={styles.blocFormInner}>{children}</div>\n      </div>\n    </div>\n  )\n}\n\nconst PADDING = 20\n\nconst styles = {\n  container: css({\n    position: \"relative\",\n    marginTop: 50 + 14,\n    marginBottom: 20 + 14,\n  }),\n  background: css({\n    backgroundColor: \"#FFF\",\n    position: \"absolute\",\n    top: -50,\n    bottom: -20,\n    left: -38,\n    right: -38,\n    borderRadius: \"100%\",\n    border: \"1px solid #E3E4ED\",\n  }),\n  blocForm: css({\n    position: \"relative\",\n    borderLeft: `solid ${globalStyles.colors.default} 1px`,\n    borderRight: `solid ${globalStyles.colors.default} 1px`,\n    borderBottom: `solid ${globalStyles.colors.default} 1px`,\n    paddingTop: 8,\n    paddingBottom: 8,\n  }),\n  blocFormWithFooter: css({\n    borderBottom: \"none\",\n    paddingBottom: 8 + 8,\n  }),\n  blocFormLight: css({\n    borderRight: \"none\",\n  }),\n  blocFormSuperLight: css({\n    borderBottom: \"none\",\n  }),\n\n  blocFormInner: css({\n    paddingRight: PADDING,\n    paddingLeft: PADDING,\n  }),\n\n  rowHead: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-end\",\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n    bottom: \"100%\",\n    marginBottom: -9,\n    minHeight: 16,\n    paddingLeft: PADDING,\n  }),\n  rowHeadCellHead: css({\n    fontSize: 14,\n    textTransform: \"uppercase\",\n  }),\n  rowHeadCell: css({\n    height: 16,\n    fontSize: 12,\n    textAlign: \"center\",\n  }),\n  rowHeadBorder: css({\n    height: 1,\n    backgroundColor: globalStyles.colors.default,\n    flexShrink: 0,\n    width: PADDING,\n    marginBottom: 8,\n  }),\n\n  rowGender: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-end\",\n    paddingRight: PADDING,\n    paddingLeft: PADDING,\n    marginTop: 12,\n    marginBottom: 12,\n  }),\n  cellMen: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    fontSize: 12,\n    color: globalStyles.colors.men,\n  }),\n  cellWomen: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    fontSize: 12,\n    color: globalStyles.colors.women,\n  }),\n\n  rowFoot: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    height: 16,\n    position: \"absolute\",\n    bottom: -7,\n    right: 0,\n    left: 0,\n  }),\n  rowFootCell: css({\n    fontSize: 14,\n    textAlign: \"center\",\n  }),\n  rowFootTotal: css({\n    fontStyle: \"italic\",\n    fontSize: 14,\n    marginLeft: 8,\n  }),\n  rowFootBorderLeft: css({\n    height: 1,\n    marginRight: 2,\n    backgroundColor: globalStyles.colors.default,\n    flexGrow: 1,\n    flexShrink: 1,\n    flexBasis: \"0%\",\n  }),\n  rowFootBorderRight: css({\n    height: 1,\n    backgroundColor: globalStyles.colors.default,\n    width: PADDING,\n    flexShrink: 0,\n  }),\n}\n\nexport default BlocForm\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport MaskedInput, { conformToMask } from \"react-text-mask\"\nimport createNumberMask from \"text-mask-addons/dist/createNumberMask\"\nimport { FieldRenderProps, FieldMetaState } from \"react-final-form\"\n\nimport globalStyles from \"../utils/globalStyles\"\n\nimport { Cell } from \"./Cell\"\n\nexport const hasFieldError = (meta: FieldMetaState<string>) =>\n  (meta.error && meta.submitFailed) ||\n  (meta.error && meta.touched && !!Object.values({ ...meta.error, required: false }).filter((item) => !!item).length)\n\nconst numberMask = createNumberMask({\n  prefix: \"\",\n  includeThousandsSeparator: false,\n})\n\nconst suffixPercent = \"%\"\n\nconst percentNumberMask = createNumberMask({\n  prefix: \"\",\n  includeThousandsSeparator: false,\n  suffix: suffixPercent,\n  allowDecimal: true,\n})\n\nconst parse = (inputValue: string) => {\n  return inputValue.split(/\\s/).join(\"\").replace(suffixPercent, \"\")\n}\n\nconst digitRegExp = /\\d/\nconst anyNonWhitespaceRegExp = /[^\\s]/\n\n// because designer don't want to block any char…\nconst trickyMaskNumberToAllowAnyChar = (mask: (value: string) => Array<string | RegExp>) => (value: string) => {\n  const valueOnlyNum = value.replace(/_/g, \"\").replace(/%/g, \"\").replace(/[^\\s]/g, \"1\")\n\n  const rawMaskArray = mask(valueOnlyNum)\n\n  const transformedMaskArray = rawMaskArray.map((char: any) => {\n    return char.source && char.source === digitRegExp.source ? anyNonWhitespaceRegExp : char\n  })\n\n  return transformedMaskArray\n}\n\ninterface Props {\n  field: FieldRenderProps<string, HTMLInputElement>\n  mask?: \"number\" | \"percent\" | undefined\n  style?: any\n}\n\nfunction CellInput({\n  field: {\n    input: { value, onChange, ...inputProps },\n    meta,\n  },\n  mask,\n  style,\n}: Props) {\n  const error = hasFieldError(meta)\n\n  const maskToUse = mask === \"percent\" ? percentNumberMask : numberMask\n\n  const maskWithAnyChar = trickyMaskNumberToAllowAnyChar(maskToUse)\n\n  const inputValue = conformToMask(value, maskWithAnyChar(value), {}).conformedValue\n\n  return (\n    <Cell style={styles.cell}>\n      {mask ? (\n        <MaskedInput\n          mask={maskWithAnyChar}\n          css={[styles.input, style, error && styles.inputError]}\n          autoComplete=\"off\"\n          value={inputValue}\n          onChange={(event) =>\n            onChange({\n              target: {\n                value: parse(event.target.value),\n              },\n            })\n          }\n          {...inputProps}\n        />\n      ) : (\n        <input\n          css={[styles.input, style, error && styles.inputError]}\n          autoComplete=\"off\"\n          value={value}\n          onChange={onChange}\n          {...inputProps}\n        />\n      )}\n    </Cell>\n  )\n}\n\nconst styles = {\n  cell: css({\n    height: 22,\n    display: \"flex\",\n  }),\n  input: css({\n    appearance: \"none\",\n    border: `solid ${globalStyles.colors.default} 1px`,\n    width: \"100%\",\n    fontSize: 14,\n    textAlign: \"center\",\n  }),\n  inputError: css({\n    color: globalStyles.colors.error,\n    borderColor: globalStyles.colors.error,\n  }),\n}\n\nexport default CellInput\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport React from \"react\"\nimport { useField } from \"react-final-form\"\n\nimport globalStyles from \"../utils/globalStyles\"\nimport { displayPercent, displayInt } from \"../utils/helpers\"\nimport { ValidatorFunction } from \"../utils/formHelpers\"\n\nimport { CellHead, Cell, Cell2 } from \"./Cell\"\nimport CellInput from \"./CellInput\"\nimport { IconValid, IconInvalid } from \"./ds/Icons\"\n\nconst displayReadOnlyValue = (value: string, mask?: \"number\" | \"percent\" | undefined) => {\n  if (!mask || !value) {\n    return value\n  }\n  return mask === \"percent\" ? displayPercent(Number(value), 2) : displayInt(Number(value))\n}\n\ninterface Props {\n  readOnly: boolean\n  name: string\n  calculable: boolean\n  calculableNumber: number\n  mask?: \"number\" | \"percent\" | undefined\n  femmeFieldName: string\n  hommeFieldName: string\n  validatorFemmes?: ValidatorFunction\n  validatorHommes?: ValidatorFunction\n}\n\nfunction FieldInputsMenWomen({\n  name,\n  readOnly,\n  calculable,\n  calculableNumber,\n  mask,\n  femmeFieldName,\n  hommeFieldName,\n  validatorFemmes,\n  validatorHommes,\n}: Props) {\n  const femmesField = useField(femmeFieldName, {\n    validate: calculable ? validatorFemmes : undefined,\n  })\n  const hommesField = useField(hommeFieldName, {\n    validate: calculable ? validatorHommes : undefined,\n  })\n\n  const femmesError = femmesField.meta.touched && femmesField.meta.error\n  const hommesError = hommesField.meta.touched && hommesField.meta.error\n  const error = femmesError || hommesError\n\n  return (\n    <div css={styles.container}>\n      <div css={styles.row}>\n        <CellHead\n          style={[styles.cellHead, !calculable && styles.cellHeadInvalid, error && calculable && styles.cellHeadError]}\n        >\n          {femmesField.meta.valid && hommesField.meta.valid ? (\n            calculable ? (\n              <div css={styles.cellHeadIcon}>\n                <IconValid />\n              </div>\n            ) : (\n              <div css={styles.cellHeadIcon}>\n                <IconInvalid />\n              </div>\n            )\n          ) : error ? (\n            <div css={styles.cellHeadIcon}>\n              <IconInvalid />\n            </div>\n          ) : null}\n          <span>{name}</span>\n        </CellHead>\n\n        {readOnly ? (\n          <React.Fragment>\n            <Cell style={[styles.cellEmpty, styles.cellEmptyWomen]}>\n              {displayReadOnlyValue(femmesField.input.value, mask)}\n            </Cell>\n            <Cell style={[styles.cellEmpty, styles.cellEmptyMen]}>\n              {displayReadOnlyValue(hommesField.input.value, mask)}\n            </Cell>\n          </React.Fragment>\n        ) : calculable ? (\n          <React.Fragment>\n            <CellInput field={femmesField} mask={mask} style={styles.cellWomen} />\n\n            <CellInput field={hommesField} mask={mask} style={styles.cellMen} />\n          </React.Fragment>\n        ) : (\n          <Cell2 style={styles.cell2} />\n        )}\n      </div>\n      {!calculable && (\n        <div css={styles.invalid}>\n          Le groupe ne peut pas être pris en compte pour le calcul\n          <br />\n          car il comporte moins de {calculableNumber} femmes ou {calculableNumber} hommes\n        </div>\n      )}\n      {calculable && error && <div css={styles.error}>{error}</div>}\n    </div>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n    height: 51,\n    marginBottom: 10,\n  }),\n  row: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-start\",\n  }),\n  cellHead: css({\n    height: 22,\n    display: \"flex\",\n    alignItems: \"center\",\n    borderBottom: `solid ${globalStyles.colors.default} 1px`,\n    fontSize: 14,\n  }),\n  cellHeadInvalid: css({\n    color: globalStyles.colors.invalid,\n    borderColor: \"transparent\",\n  }),\n  cellHeadError: css({\n    color: globalStyles.colors.error,\n    borderColor: \"transparent\",\n  }),\n  cellHeadIcon: css({\n    marginRight: 5,\n  }),\n  cell2: css({\n    textAlign: \"center\",\n  }),\n  cellMen: css({\n    borderColor: globalStyles.colors.men,\n  }),\n  cellWomen: css({\n    borderColor: globalStyles.colors.women,\n  }),\n  cellEmpty: css({\n    height: 22,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  }),\n  cellEmptyMen: css({\n    color: globalStyles.colors.men,\n  }),\n  cellEmptyWomen: css({\n    color: globalStyles.colors.women,\n  }),\n  invalid: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 23,\n    paddingBottom: 4,\n    color: globalStyles.colors.invalid,\n    fontSize: 12,\n    fontStyle: \"italic\",\n    lineHeight: \"12px\",\n    borderBottom: `solid ${globalStyles.colors.invalid} 1px`,\n  }),\n  error: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 18,\n    marginTop: 5,\n    color: globalStyles.colors.error,\n    fontSize: 12,\n    fontStyle: \"italic\",\n    lineHeight: \"12px\",\n    borderBottom: `solid ${globalStyles.colors.error} 1px`,\n  }),\n}\n\nexport default FieldInputsMenWomen\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { ReactNode } from \"react\"\nimport { Form } from \"react-final-form\"\nimport { FormState, GroupTranchesAgesEffectif } from \"../../globals\"\n\nimport {\n  composeFormValidators,\n  composeValidators,\n  FormValidatorFunction,\n  minNumber,\n  mustBeInteger,\n  mustBeNumber,\n  parseIntFormValue,\n  parseIntStateValue,\n  required,\n} from \"../../utils/formHelpers\"\nimport { displayInt } from \"../../utils/helpers\"\n\nimport BlocForm from \"../../components/BlocForm\"\nimport FieldInputsMenWomen from \"../../components/FieldInputsMenWomen\"\nimport ActionBar from \"../../components/ActionBar\"\nimport FormAutoSave from \"../../components/FormAutoSave\"\nimport FormSubmit from \"../../components/FormSubmit\"\nimport { Cell, Cell2 } from \"../../components/Cell\"\n\nimport { displayNameTranchesAges } from \"../../utils/helpers\"\n\ntype Effectif = Array<{\n  id: any\n  name: string\n  tranchesAges: Array<GroupTranchesAgesEffectif>\n}>\n\nconst validator = composeValidators(required, mustBeNumber, mustBeInteger, minNumber(0))\n\ninterface Props {\n  effectifRaw: Effectif\n  readOnly: boolean\n  updateEffectif: (data: Effectif) => void\n  validateEffectif: (valid: FormState) => void\n  nextLink: ReactNode\n  formValidator?: FormValidatorFunction\n}\n\nconst getTotalGroupNbSalarie = (tranchesAges: Array<GroupTranchesAgesEffectif>) =>\n  tranchesAges.reduce(\n    (accGroup, { nombreSalariesHommes, nombreSalariesFemmes }) => {\n      return {\n        totalGroupNbSalarieHomme: accGroup.totalGroupNbSalarieHomme + (Number(nombreSalariesHommes) || 0),\n        totalGroupNbSalarieFemme: accGroup.totalGroupNbSalarieFemme + (Number(nombreSalariesFemmes) || 0),\n      }\n    },\n    { totalGroupNbSalarieHomme: 0, totalGroupNbSalarieFemme: 0 },\n  )\n\nexport const getTotalNbSalarie = (effectif: Effectif) =>\n  effectif.reduce(\n    (acc, { tranchesAges }) => {\n      const { totalGroupNbSalarieHomme, totalGroupNbSalarieFemme } = getTotalGroupNbSalarie(tranchesAges)\n\n      return {\n        totalNbSalarieHomme: acc.totalNbSalarieHomme + totalGroupNbSalarieHomme,\n        totalNbSalarieFemme: acc.totalNbSalarieFemme + totalGroupNbSalarieFemme,\n      }\n    },\n    { totalNbSalarieHomme: 0, totalNbSalarieFemme: 0 },\n  )\n\nfunction EffectifFormRaw({ effectifRaw, readOnly, updateEffectif, validateEffectif, nextLink, formValidator }: Props) {\n  const initialValues = {\n    effectif: effectifRaw.map(({ tranchesAges, ...otherPropGroupe }: any) => ({\n      ...otherPropGroupe,\n      tranchesAges: tranchesAges.map(({ nombreSalariesFemmes, nombreSalariesHommes, ...otherPropsTrancheAge }: any) => {\n        return {\n          ...otherPropsTrancheAge,\n          nombreSalariesFemmes: parseIntStateValue(nombreSalariesFemmes),\n          nombreSalariesHommes: parseIntStateValue(nombreSalariesHommes),\n        }\n      }),\n    })),\n  }\n\n  const { totalNbSalarieHomme, totalNbSalarieFemme } = getTotalNbSalarie(effectifRaw)\n\n  const formValidatorEffectif = ({ effectif }: any) => {\n    const { totalNbSalarieHomme, totalNbSalarieFemme } = getTotalNbSalarie(effectif)\n    return totalNbSalarieFemme + totalNbSalarieHomme <= 0\n      ? \"Le nombre total d'effectifs pris en compte ne peut pas être égal à zéro.\"\n      : undefined\n  }\n\n  const validateForm = (values: Record<string, unknown>) => {\n    const composedValidator = formValidator\n      ? composeFormValidators(formValidatorEffectif, formValidator)\n      : formValidatorEffectif\n    const error = composedValidator(values)\n    return error ? { message: error } : undefined\n  }\n\n  const saveForm = (formData: any) => {\n    const effectif = formData.effectif.map(({ tranchesAges, ...otherPropGroupe }: any) => ({\n      ...otherPropGroupe,\n      tranchesAges: tranchesAges.map(({ nombreSalariesFemmes, nombreSalariesHommes, ...otherPropsTrancheAge }: any) => {\n        return {\n          ...otherPropsTrancheAge,\n          nombreSalariesFemmes: parseIntFormValue(nombreSalariesFemmes),\n          nombreSalariesHommes: parseIntFormValue(nombreSalariesHommes),\n        }\n      }),\n    }))\n    updateEffectif(effectif)\n  }\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData)\n    validateEffectif(\"Valid\")\n  }\n\n  return (\n    <Form\n      onSubmit={onSubmit}\n      validate={validateForm}\n      initialValues={initialValues}\n      // mandatory to not change user inputs\n      // because we want to keep wrong string inside the input\n      // we don't want to block string value\n      initialValuesEqual={() => true}\n    >\n      {({ handleSubmit, hasValidationErrors, submitFailed, errors }) => {\n        return (\n          <form onSubmit={handleSubmit} css={styles.container}>\n            <FormAutoSave saveForm={saveForm} />\n            {effectifRaw.map(({ id, name, tranchesAges }, indexGroupe) => {\n              const { totalGroupNbSalarieHomme, totalGroupNbSalarieFemme } = getTotalGroupNbSalarie(tranchesAges)\n              return (\n                <BlocForm\n                  key={id}\n                  title={name}\n                  label=\"nombre de salariés\"\n                  footer={[displayInt(totalGroupNbSalarieFemme), displayInt(totalGroupNbSalarieHomme)]}\n                >\n                  {tranchesAges.map(({ trancheAge }, indexTrancheAge) => {\n                    return (\n                      <FieldInputsMenWomen\n                        key={trancheAge}\n                        readOnly={readOnly}\n                        name={displayNameTranchesAges(trancheAge)}\n                        calculable={true}\n                        calculableNumber={0}\n                        mask=\"number\"\n                        validatorFemmes={validator}\n                        validatorHommes={validator}\n                        femmeFieldName={`effectif.${indexGroupe}.tranchesAges.${indexTrancheAge}.nombreSalariesFemmes`}\n                        hommeFieldName={`effectif.${indexGroupe}.tranchesAges.${indexTrancheAge}.nombreSalariesHommes`}\n                      />\n                    )\n                  })}\n                </BlocForm>\n              )\n            })}\n\n            <div css={styles.rowFoot}>\n              <div css={styles.rowFootText}>total des effectifs</div>\n              <Cell style={styles.rowFootCell}>{displayInt(totalNbSalarieFemme)}</Cell>\n              <Cell style={styles.rowFootCell}>{displayInt(totalNbSalarieHomme)}</Cell>\n            </div>\n\n            <div css={styles.rowFoot}>\n              <div css={styles.rowFootText}>soit</div>\n              <Cell2 style={styles.rowFootCell}>{displayInt(totalNbSalarieHomme + totalNbSalarieFemme)}</Cell2>\n            </div>\n\n            {readOnly ? (\n              <ActionBar>{nextLink}</ActionBar>\n            ) : (\n              <ActionBar>\n                <FormSubmit\n                  hasValidationErrors={hasValidationErrors}\n                  submitFailed={submitFailed}\n                  errorMessage={\n                    errors.message\n                      ? errors.message\n                      : \"Les effectifs ne peuvent pas être validés si tous les champs ne sont pas remplis.\"\n                  }\n                />\n              </ActionBar>\n            )}\n          </form>\n        )\n      }}\n    </Form>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n  }),\n\n  rowFoot: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    height: 16,\n    marginTop: 10,\n    paddingRight: 20,\n  }),\n  rowFootCell: css({\n    fontSize: 14,\n    textAlign: \"center\",\n  }),\n  rowFootText: css({\n    fontStyle: \"italic\",\n    fontSize: 14,\n    marginLeft: \"auto\",\n  }),\n}\n\nexport default EffectifFormRaw\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/react\"\nimport { useMemo, useCallback } from \"react\"\nimport { AppState, FormState, GroupTranchesAgesEffectif, ActionEffectifData } from \"../../globals\"\n\nimport { displayNameCategorieSocioPro } from \"../../utils/helpers\"\n\nimport { ButtonSimulatorLink } from \"../../components/SimulatorLink\"\n\nimport EffectifFormRaw from \"./EffectifFormRaw\"\n\ninterface Props {\n  effectif: AppState[\"effectif\"]\n  readOnly: boolean\n  updateEffectif: (data: ActionEffectifData) => void\n  validateEffectif: (valid: FormState) => void\n}\n\nfunction EffectifForm({ effectif, readOnly, updateEffectif, validateEffectif }: Props) {\n  const effectifRaw = useMemo(\n    () =>\n      effectif.nombreSalaries.map(({ categorieSocioPro, tranchesAges }) => ({\n        id: categorieSocioPro,\n        name: displayNameCategorieSocioPro(categorieSocioPro),\n        tranchesAges,\n      })),\n    [effectif],\n  )\n\n  const updateEffectifRaw = useCallback(\n    (\n      data: Array<{\n        id: any\n        name: string\n        tranchesAges: Array<GroupTranchesAgesEffectif>\n      }>,\n    ) => {\n      const nombreSalaries = data.map(({ id, tranchesAges }) => ({\n        categorieSocioPro: id,\n        tranchesAges,\n      }))\n      updateEffectif({ nombreSalaries })\n    },\n    [updateEffectif],\n  )\n\n  return (\n    <EffectifFormRaw\n      effectifRaw={effectifRaw}\n      readOnly={readOnly}\n      updateEffectif={updateEffectifRaw}\n      validateEffectif={validateEffectif}\n      nextLink={<ButtonSimulatorLink to=\"/indicateur1\" label=\"suivant\" />}\n    />\n  )\n}\n\nexport default EffectifForm\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { ReactNode } from \"react\"\n\nimport globalStyles from \"../utils/globalStyles\"\n\nexport interface Props {\n  children: ReactNode\n  style?: any\n}\n\nfunction Bubble({ children, style }: Props) {\n  return (\n    <div css={styles.container}>\n      <div css={[styles.bloc, style]}>{children}</div>\n    </div>\n  )\n}\n\nconst styles = {\n  container: css({\n    width: 220,\n    position: \"relative\",\n    height: 220,\n  }),\n  bloc: css({\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n\n    padding: \"26% 8%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n\n    color: \"white\",\n    backgroundColor: globalStyles.colors.default,\n    borderRadius: \"100%\",\n    \"@media print\": {\n      backgroundColor: \"white\",\n      color: globalStyles.colors.default,\n      border: `solid ${globalStyles.colors.default} 1px`,\n    },\n  }),\n}\n\nexport default Bubble\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\n\nimport { FormState } from \"../../globals\"\n\nimport globalStyles from \"../../utils/globalStyles\"\n\nimport Bubble from \"../../components/Bubble\"\nimport ActionLink from \"../../components/ActionLink\"\n\ninterface Props {\n  totalNombreSalariesHomme: number\n  totalNombreSalariesFemme: number\n  validateEffectif: (valid: FormState) => void\n}\n\nfunction EffectifResult({ totalNombreSalariesHomme, totalNombreSalariesFemme, validateEffectif }: Props) {\n  return (\n    <div css={styles.container}>\n      <Bubble style={styles.bubble}>\n        <div css={styles.blocNumbers}>\n          <p css={styles.message}>\n            <span css={styles.messageLabel}>Nombre de femmes</span>\n            <span css={styles.messageData}>{totalNombreSalariesFemme}</span>\n          </p>\n          <p css={styles.message}>\n            <span css={styles.messageLabel}>Nombre d’hommes</span>\n            <span css={styles.messageData}>{totalNombreSalariesHomme}</span>\n          </p>\n        </div>\n        <p css={styles.message}>\n          <span css={styles.messageLabel}>Total effectifs</span>\n          <span css={styles.messageData}>{totalNombreSalariesFemme + totalNombreSalariesHomme}</span>\n        </p>\n      </Bubble>\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateEffectif(\"None\")}>modifier les données saisies</ActionLink>\n      </p>\n    </div>\n  )\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250,\n    marginTop: 64,\n  }),\n  edit: css({\n    marginTop: 14,\n    marginBottom: 14,\n    textAlign: \"center\",\n  }),\n\n  bubble: css({\n    backgroundColor: \"white\",\n    color: globalStyles.colors.default,\n    border: \"solid #E3E4ED 1px\",\n    \"@media print\": {\n      backgroundColor: \"white\",\n      color: globalStyles.colors.default,\n      border: \"solid #E3E4ED 1px\",\n    },\n  }),\n\n  blocNumbers: css({\n    height: 50,\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n  }),\n\n  message: css({\n    marginBottom: 2,\n    display: \"flex\",\n    alignItems: \"baseline\",\n\n    fontSize: 14,\n    lineHeight: \"17px\",\n  }),\n  messageLabel: css({\n    marginRight: \"auto\",\n  }),\n  messageData: css({\n    fontWeight: \"bold\",\n  }),\n}\n\nexport default EffectifResult\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/react\"\nimport { Fragment, useCallback } from \"react\"\nimport { RouteComponentProps } from \"react-router-dom\"\nimport { AppState, ActionType, FormState, ActionEffectifData } from \"../../globals\"\nimport totalNombreSalaries from \"../../utils/totalNombreSalaries\"\n\nimport Page from \"../../components/Page\"\nimport LayoutFormAndResult from \"../../components/LayoutFormAndResult\"\nimport InfoBlock from \"../../components/ds/InfoBlock\"\nimport { TextSimulatorLink } from \"../../components/SimulatorLink\"\n\nimport EffectifForm from \"./EffectifForm\"\nimport EffectifResult from \"./EffectifResult\"\nimport { useTitle } from \"../../utils/hooks\"\n\ninterface Props extends RouteComponentProps {\n  state: AppState\n  dispatch: (action: ActionType) => void\n}\n\nconst title = \"Effectifs pris en compte\"\n\nfunction Effectif({ state, dispatch }: Props) {\n  useTitle(title)\n\n  const updateEffectif = useCallback(\n    (data: ActionEffectifData) => dispatch({ type: \"updateEffectif\", data }),\n    [dispatch],\n  )\n\n  const validateEffectif = useCallback((valid: FormState) => dispatch({ type: \"validateEffectif\", valid }), [dispatch])\n\n  const {\n    totalNombreSalariesHomme: totalNombreSalariesHommeCsp,\n    totalNombreSalariesFemme: totalNombreSalariesFemmeCsp,\n  } = totalNombreSalaries(state.effectif.nombreSalaries)\n  const {\n    totalNombreSalariesHomme: totalNombreSalariesHommeCoef,\n    totalNombreSalariesFemme: totalNombreSalariesFemmeCoef,\n  } = totalNombreSalaries(state.indicateurUn.coefficient)\n\n  return (\n    <Page\n      title=\"Indication des effectifs\"\n      tagline=\"Les effectifs pris en compte pour le calcul doivent être renseignés en effectif physique par catégorie socio-professionnelle (CSP) et tranche d’âge.\"\n    >\n      <LayoutFormAndResult\n        childrenForm={\n          <EffectifForm\n            effectif={state.effectif}\n            readOnly={state.effectif.formValidated === \"Valid\"}\n            updateEffectif={updateEffectif}\n            validateEffectif={validateEffectif}\n          />\n        }\n        childrenResult={\n          state.effectif.formValidated === \"Valid\" && (\n            <EffectifResult\n              totalNombreSalariesFemme={totalNombreSalariesFemmeCsp}\n              totalNombreSalariesHomme={totalNombreSalariesHommeCsp}\n              validateEffectif={validateEffectif}\n            />\n          )\n        }\n      />\n\n      {state.effectif.formValidated === \"Valid\" &&\n        (state.indicateurUn.formValidated === \"Invalid\" ||\n          (state.informations.trancheEffectifs !== \"50 à 250\" &&\n            (state.indicateurDeux.formValidated === \"Invalid\" || state.indicateurTrois.formValidated === \"Invalid\")) ||\n          (state.informations.trancheEffectifs === \"50 à 250\" &&\n            state.indicateurDeuxTrois.formValidated === \"Invalid\")) && (\n          <InfoBlock\n            type=\"success\"\n            title=\"Vos effectifs ont été modifiés\"\n            text={\n              <Fragment>\n                <span>\n                  Afin de s'assurer de la cohérence de votre index, merci de vérifier les données de vos indicateurs.\n                </span>\n                &emsp;\n                <span>\n                  {state.indicateurUn.formValidated === \"Invalid\" && (\n                    <Fragment>\n                      <TextSimulatorLink to=\"/indicateur1\" label=\"Aller à l'indicateur écart de rémunérations\" />\n                      &emsp;\n                    </Fragment>\n                  )}\n                  {state.informations.trancheEffectifs !== \"50 à 250\" &&\n                    state.indicateurDeux.formValidated === \"Invalid\" && (\n                      <Fragment>\n                        <TextSimulatorLink\n                          to=\"/indicateur2\"\n                          label=\"Aller à l'indicateur écart de taux d'augmentations\"\n                        />\n                        &emsp;\n                      </Fragment>\n                    )}\n                  {state.informations.trancheEffectifs !== \"50 à 250\" &&\n                    state.indicateurTrois.formValidated === \"Invalid\" && (\n                      <Fragment>\n                        <TextSimulatorLink to=\"/indicateur3\" label=\"Aller à l'indicateur écart de taux de promotions\" />\n                        &emsp;\n                      </Fragment>\n                    )}\n                  {state.informations.trancheEffectifs === \"50 à 250\" &&\n                    state.indicateurDeuxTrois.formValidated === \"Invalid\" && (\n                      <TextSimulatorLink\n                        to=\"/indicateur2et3\"\n                        label=\"Aller à l'indicateur écart de taux d'augmentations\"\n                      />\n                    )}\n                </span>\n              </Fragment>\n            }\n          />\n        )}\n      {/* This should never happen, as modifying the effectif will invalidate the indicateur form */}\n      {state.effectif.formValidated === \"Valid\" &&\n        state.indicateurUn.formValidated === \"Valid\" &&\n        state.indicateurUn.coef &&\n        (totalNombreSalariesHommeCoef !== totalNombreSalariesHommeCsp ||\n          totalNombreSalariesFemmeCoef !== totalNombreSalariesFemmeCsp) && (\n          <InfoBlock\n            title=\"Attention\"\n            type=\"warning\"\n            text={\n              <Fragment>\n                <span>\n                  Vos effectifs ne sont pas les mêmes que ceux déclarés en niveaux ou coefficients hiérarchiques. &emsp;\n                </span>\n                <TextSimulatorLink to=\"/indicateur1\" label=\"Aller à l'indicateur écart de rémunérations\" />\n                &emsp;\n              </Fragment>\n            }\n          />\n        )}\n\n      {state.informations.formValidated === \"Valid\" &&\n        state.effectif.formValidated === \"Valid\" &&\n        totalNombreSalariesHommeCsp + totalNombreSalariesFemmeCsp > 250 &&\n        state.informations.trancheEffectifs === \"50 à 250\" && (\n          <InfoBlock\n            title=\"Attention, les effectifs pris en compte pour le calcul sont supérieurs aux effectifs déclarés pour l'entreprise\"\n            type=\"warning\"\n          />\n        )}\n    </Page>\n  )\n}\n\nexport default Effectif\n","import Effectif from \"./Effectif\"\nexport default Effectif\n","import React, { FunctionComponent } from \"react\"\nimport { Text, Input, InputGroup, InputRightElement, Button, Image, useClipboard } from \"@chakra-ui/react\"\nimport Page from \"../components/Page\"\nimport ActionBar from \"../components/ActionBar\"\nimport { ButtonSimulatorLink } from \"../components/SimulatorLink\"\nimport { useTitle } from \"../utils/hooks\"\n\nconst title = \"Début d'un calcul d'index\"\n\nconst HomeSimulateur: FunctionComponent = () => {\n  useTitle(title)\n  const link = window.location.href\n  const { hasCopied, onCopy } = useClipboard(link)\n\n  return (\n    <Page title=\"Bienvenue sur Index Egapro\">\n      <InputGroup size=\"md\">\n        <Input onClick={onCopy} defaultValue={link} pr=\"8rem\" type={\"text\"} placeholder=\"Enter password\" />\n        <InputRightElement width=\"7rem\" sx={{ right: 1 }}>\n          <Button h=\"1.75rem\" size=\"sm\" onClick={onCopy} variant=\"outline\" colorScheme=\"primary\">\n            {hasCopied ? <>Lien&nbsp;copié</> : <>Copier&nbsp;le&nbsp;lien</>}\n          </Button>\n        </InputRightElement>\n      </InputGroup>\n\n      <Text mt={6}>\n        Afin de pouvoir réaccéder à tout moment à votre calcul&nbsp;:{\" \"}\n        <strong>pensez à copier le code ci-dessus et le conserver précieusement</strong>.\n      </Text>\n\n      <ActionBar>\n        <ButtonSimulatorLink\n          to=\"/informations\"\n          label=\"Étape suivante\"\n          aria-label=\"Aller à : Informations calcul et période de référence\"\n        />\n      </ActionBar>\n\n      <Image src={`${process.env.PUBLIC_URL}/illustration-home-simulator.svg`} alt=\"\" aria-hidden=\"true\" />\n    </Page>\n  )\n}\n\nexport default HomeSimulateur\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { ReactNode } from \"react\"\nimport { useField } from \"react-final-form\"\n\nimport globalStyles from \"../utils/globalStyles\"\n\nfunction RadioField({\n  fieldName,\n  label,\n  choiceValue,\n  disabled,\n}: {\n  fieldName: string\n  label: ReactNode\n  choiceValue: string\n  disabled: boolean\n}) {\n  const { input } = useField(fieldName, { type: \"radio\", value: choiceValue })\n  return (\n    <label css={styles.label}>\n      <input css={styles.radio} {...input} disabled={disabled} />\n      <div css={[styles.fakeRadio, input.checked && styles.fakeRadioChecked]} />\n      <span css={styles.labelText}>{label}</span>\n    </label>\n  )\n}\n\nexport type RadioButtonChoice = {\n  label: string\n  value: string\n}\n\ninterface Props {\n  readOnly: boolean\n  fieldName: string\n  label: string\n  value: string\n  choices: RadioButtonChoice[]\n}\n\nfunction RadioButtons({ readOnly, fieldName, label, value, choices }: Props) {\n  return (\n    <div css={styles.container}>\n      <p css={styles.headerLabel}>{label}</p>\n      {choices.map(({ label: choiceLabel, value: choiceValue }) => (\n        <div\n          key={choiceLabel}\n          css={[styles.radioField, readOnly && value !== choiceValue && styles.radioFieldDisabled]}\n        >\n          <RadioField fieldName={fieldName} label={choiceLabel} choiceValue={choiceValue} disabled={readOnly} />\n        </div>\n      ))}\n    </div>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginBottom: 20,\n  }),\n  headerLabel: css({\n    marginBottom: 10,\n  }),\n  radioField: css({\n    marginTop: 9,\n    \"&:first-of-type\": {\n      marginTop: 0,\n    },\n  }),\n  label: css({\n    display: \"flex\",\n    fontSize: 14,\n    cursor: \"pointer\",\n  }),\n  labelText: css({\n    lineHeight: \"16px\",\n  }),\n  radio: css({\n    display: \"none\",\n  }),\n  fakeRadio: css({\n    width: 16,\n    height: 16,\n    flexShrink: 0,\n    marginRight: 6,\n    borderRadius: 8,\n    backgroundColor: \"white\",\n    border: `solid ${globalStyles.colors.default} 1px`,\n  }),\n  fakeRadioChecked: css({\n    backgroundImage: `radial-gradient(${globalStyles.colors.default} 0%, ${globalStyles.colors.default} 3px, #FFF 3px)`,\n  }),\n  radioFieldDisabled: css({\n    visibility: \"hidden\",\n  }),\n}\n\nexport default RadioButtons\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { useCallback } from \"react\"\nimport { Form } from \"react-final-form\"\nimport { ActionIndicateurUnTypeData, ActionType } from \"../../globals\"\n\nimport FormAutoSave from \"../../components/FormAutoSave\"\nimport RadioButtons from \"../../components/RadioButtons\"\n\ninterface Props {\n  csp: boolean\n  coef: boolean\n  autre: boolean\n  readOnly: boolean\n  dispatch: (action: ActionType) => void\n}\n\nfunction IndicateurUnTypeForm({ coef, autre, readOnly, dispatch }: Props) {\n  const updateIndicateurUnType = useCallback(\n    (data: ActionIndicateurUnTypeData) => dispatch({ type: \"updateIndicateurUnType\", data }),\n    [dispatch],\n  )\n\n  const initialValues = {\n    modaliteDeclaration: coef ? \"coef\" : autre ? \"autre\" : \"csp\",\n  }\n\n  const saveForm = (formData: any) => {\n    const { modaliteDeclaration } = formData\n    let [csp, coef, autre] = [false, false, false]\n    if (modaliteDeclaration === \"coef\") {\n      coef = true\n    } else if (modaliteDeclaration === \"autre\") {\n      autre = true\n    } else {\n      csp = true\n    }\n\n    updateIndicateurUnType({ csp, coef, autre })\n  }\n\n  return (\n    <Form\n      onSubmit={() => {\n        console.debug(\"onSubmit de IndicateurUnTypeForm\")\n      }}\n      initialValues={initialValues}\n    >\n      {({ handleSubmit, values }) => (\n        <form onSubmit={handleSubmit} css={styles.container}>\n          <FormAutoSave saveForm={saveForm} />\n          <RadioButtons\n            fieldName=\"modaliteDeclaration\"\n            label=\"Modalités de calcul de l'indicateur relatif à l'écart de rémunération\n          entre les femmes et les hommes\"\n            value={values.modaliteDeclaration}\n            readOnly={readOnly}\n            choices={[\n              {\n                label: \"Par catégorie socio-professionnelle\",\n                value: \"csp\",\n              },\n              {\n                label: \"Par niveau ou coefficient hiérarchique en application de la classification de branche\",\n                value: \"coef\",\n              },\n              {\n                label:\n                  \"Par niveau ou coefficient hiérarchique en application d'une autre méthode de cotation des postes\",\n                value: \"autre\",\n              },\n            ]}\n          />\n          {values.modaliteDeclaration !== \"csp\" ? (\n            <p>\n              Si vous choisissez cette option, la consultation du CSE est obligatoire.\n              <br />\n              La date de consultation vous sera demandée au moment de la déclaration\n            </p>\n          ) : (\n            \"\"\n          )}\n        </form>\n      )}\n    </Form>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginBottom: 54,\n  }),\n}\n\nexport default IndicateurUnTypeForm\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { ReactNode } from \"react\"\nimport { Form } from \"react-final-form\"\nimport { TranchesAges, GroupTranchesAgesIndicateurUn, FormState } from \"../../globals\"\n\nimport {\n  composeValidators,\n  minNumber,\n  mustBeNumber,\n  parseFloatFormValue,\n  parseFloatStateValue,\n  required,\n  ValidatorFunction,\n} from \"../../utils/formHelpers\"\n\nimport BlocForm from \"../../components/BlocForm\"\nimport FieldInputsMenWomen from \"../../components/FieldInputsMenWomen\"\nimport ActionBar from \"../../components/ActionBar\"\nimport FormAutoSave from \"../../components/FormAutoSave\"\nimport FormSubmit from \"../../components/FormSubmit\"\n\nimport { displayNameTranchesAges } from \"../../utils/helpers\"\n\nexport const aboveZero: ValidatorFunction = (value) =>\n  minNumber(1)(value) ? \"La valeur ne peut être inférieure ou égale à 0\" : undefined\n\nconst validator = composeValidators(required, mustBeNumber, aboveZero)\n\ninterface remunerationGroup {\n  id: any\n  name: string\n  trancheAge: TranchesAges\n  validiteGroupe: boolean\n  remunerationAnnuelleBrutFemmes: number | undefined\n  remunerationAnnuelleBrutHommes: number | undefined\n}\n\ninterface Props {\n  ecartRemuParTrancheAge: Array<remunerationGroup>\n  readOnly: boolean\n  updateIndicateurUn: (\n    data: Array<{\n      id: any\n      tranchesAges: Array<GroupTranchesAgesIndicateurUn>\n    }>,\n  ) => void\n  validateIndicateurUn: (valid: FormState) => void\n  nextLink: ReactNode\n}\n\nconst groupByCategorieSocioPro = (\n  ecartRemuParTrancheAge: Array<remunerationGroup>,\n): Array<{\n  id: any\n  name: string\n  tranchesAges: Array<remunerationGroup>\n}> => {\n  const tmpArray = ecartRemuParTrancheAge.reduce((acc, { id, name, ...otherAttr }) => {\n    // @ts-ignore\n    const el = acc[id]\n\n    if (el) {\n      return {\n        ...acc,\n        [id]: {\n          ...el,\n          tranchesAges: [...el.tranchesAges, otherAttr],\n        },\n      }\n    } else {\n      return {\n        ...acc,\n        [id]: {\n          id,\n          name,\n          tranchesAges: [otherAttr],\n        },\n      }\n    }\n  }, {})\n\n  // @ts-ignore\n  // TODO REFACTOR: remplacer par return Object.values(tmpArray)\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  return Object.entries(tmpArray).map(([_, tranchesAges]) => tranchesAges)\n}\n\nfunction IndicateurUnFormRaw({\n  ecartRemuParTrancheAge,\n  readOnly,\n  updateIndicateurUn,\n  validateIndicateurUn,\n  nextLink,\n}: Props) {\n  const initialValues = {\n    remunerationAnnuelle: groupByCategorieSocioPro(ecartRemuParTrancheAge).map(\n      ({ tranchesAges, ...otherPropGroupe }: any) => ({\n        ...otherPropGroupe,\n        tranchesAges: tranchesAges.map(\n          ({ remunerationAnnuelleBrutFemmes, remunerationAnnuelleBrutHommes, ...otherPropsTrancheAge }: any) => {\n            return {\n              ...otherPropsTrancheAge,\n              remunerationAnnuelleBrutFemmes: parseFloatStateValue(remunerationAnnuelleBrutFemmes),\n              remunerationAnnuelleBrutHommes: parseFloatStateValue(remunerationAnnuelleBrutHommes),\n            }\n          },\n        ),\n      }),\n    ),\n  }\n\n  const saveForm = (formData: any) => {\n    const remunerationAnnuelle = formData.remunerationAnnuelle.map(({ tranchesAges, ...otherPropGroupe }: any) => ({\n      ...otherPropGroupe,\n      tranchesAges: tranchesAges.map(\n        ({ remunerationAnnuelleBrutFemmes, remunerationAnnuelleBrutHommes, trancheAge }: any) => {\n          return {\n            trancheAge,\n            remunerationAnnuelleBrutFemmes: parseFloatFormValue(remunerationAnnuelleBrutFemmes),\n            remunerationAnnuelleBrutHommes: parseFloatFormValue(remunerationAnnuelleBrutHommes),\n          }\n        },\n      ),\n    }))\n    updateIndicateurUn(remunerationAnnuelle)\n  }\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData)\n    validateIndicateurUn(\"Valid\")\n  }\n\n  return (\n    <Form\n      onSubmit={onSubmit}\n      initialValues={initialValues}\n      // mandatory to not change user inputs\n      // because we want to keep wrong string inside the input\n      // we don't want to block string value\n      initialValuesEqual={() => true}\n    >\n      {({ handleSubmit, hasValidationErrors, submitFailed }) => (\n        <form onSubmit={handleSubmit} css={styles.container}>\n          <FormAutoSave saveForm={saveForm} />\n          {initialValues.remunerationAnnuelle.map(\n            (\n              {\n                id,\n                name,\n                tranchesAges,\n              }: {\n                id: any\n                name: string\n                tranchesAges: Array<{\n                  trancheAge: TranchesAges\n                  validiteGroupe: boolean\n                }>\n              },\n              indexGroupe,\n            ) => {\n              return (\n                <BlocForm key={id} title={name} label=\"rémunération moyenne\">\n                  {tranchesAges.map(({ trancheAge, validiteGroupe }, indexTrancheAge) => {\n                    return (\n                      <FieldInputsMenWomen\n                        key={trancheAge}\n                        name={displayNameTranchesAges(trancheAge)}\n                        readOnly={readOnly}\n                        calculable={validiteGroupe}\n                        calculableNumber={3}\n                        mask=\"number\"\n                        femmeFieldName={`remunerationAnnuelle.${indexGroupe}.tranchesAges.${indexTrancheAge}.remunerationAnnuelleBrutFemmes`}\n                        hommeFieldName={`remunerationAnnuelle.${indexGroupe}.tranchesAges.${indexTrancheAge}.remunerationAnnuelleBrutHommes`}\n                        validatorFemmes={validator}\n                        validatorHommes={validator}\n                      />\n                    )\n                  })}\n                </BlocForm>\n              )\n            },\n          )}\n\n          {readOnly ? (\n            <ActionBar>{nextLink}</ActionBar>\n          ) : (\n            <ActionBar>\n              <FormSubmit\n                hasValidationErrors={hasValidationErrors}\n                submitFailed={submitFailed}\n                errorMessage=\"L’indicateur ne peut pas être validé si tous les champs ne sont pas remplis.\"\n              />\n            </ActionBar>\n          )}\n        </form>\n      )}\n    </Form>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n  }),\n}\n\nexport default IndicateurUnFormRaw\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/react\"\nimport { useMemo, useCallback } from \"react\"\nimport { ActionIndicateurUnCspData, AppState, GroupTranchesAgesIndicateurUn, FormState } from \"../../../globals\"\n\nimport { effectifEtEcartRemuGroupCsp } from \"../../../utils/calculsEgaProIndicateurUn\"\n\nimport { ButtonSimulatorLink } from \"../../../components/SimulatorLink\"\n\nimport { displayNameCategorieSocioPro } from \"../../../utils/helpers\"\n\nimport IndicateurUnFormRaw from \"../IndicateurUnFormRaw\"\n\ninterface Props {\n  state: AppState\n  ecartRemuParTrancheAge: Array<effectifEtEcartRemuGroupCsp>\n  readOnly: boolean\n  updateIndicateurUn: (data: ActionIndicateurUnCspData) => void\n  validateIndicateurUn: (valid: FormState) => void\n}\n\nfunction IndicateurUnCspForm({\n  state,\n  ecartRemuParTrancheAge,\n  readOnly,\n  updateIndicateurUn,\n  validateIndicateurUn,\n}: Props) {\n  const ecartRemuParTrancheAgeRaw = useMemo(\n    () =>\n      ecartRemuParTrancheAge.map(({ categorieSocioPro, ...otherAttr }) => ({\n        id: categorieSocioPro,\n        name: displayNameCategorieSocioPro(categorieSocioPro),\n        ...otherAttr,\n      })),\n    [ecartRemuParTrancheAge],\n  )\n\n  const updateIndicateurUnRaw = useCallback(\n    (\n      data: Array<{\n        id: any\n        tranchesAges: Array<GroupTranchesAgesIndicateurUn>\n      }>,\n    ) => {\n      const remunerationAnnuelle = data.map(({ id, tranchesAges }) => ({\n        categorieSocioPro: id,\n        tranchesAges,\n      }))\n      updateIndicateurUn({ remunerationAnnuelle })\n    },\n    [updateIndicateurUn],\n  )\n\n  return (\n    <IndicateurUnFormRaw\n      ecartRemuParTrancheAge={ecartRemuParTrancheAgeRaw}\n      readOnly={readOnly}\n      updateIndicateurUn={updateIndicateurUnRaw}\n      validateIndicateurUn={validateIndicateurUn}\n      nextLink={\n        <ButtonSimulatorLink\n          to={state.informations.trancheEffectifs === \"50 à 250\" ? \"/indicateur2et3\" : \"/indicateur2\"}\n          label=\"suivant\"\n        />\n      }\n    />\n  )\n}\n\nexport default IndicateurUnCspForm\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\n\nimport globalStyles from \"../utils/globalStyles\"\n\nimport Bubble from \"./Bubble\"\n\nexport interface Props {\n  firstLineLabel: string\n  firstLineData: string\n  firstLineInfo?: string\n  secondLineLabel: string\n  secondLineData: string\n  secondLineInfo?: string\n  indicateurSexeSurRepresente?: \"hommes\" | \"femmes\" | undefined\n}\n\nfunction ResultBubble({\n  firstLineLabel,\n  firstLineData,\n  firstLineInfo,\n  secondLineLabel,\n  secondLineData,\n  secondLineInfo,\n  indicateurSexeSurRepresente,\n}: Props) {\n  return (\n    <Bubble\n      style={[\n        indicateurSexeSurRepresente === \"femmes\" && styles.blocWomen,\n        indicateurSexeSurRepresente === \"hommes\" && styles.blocMen,\n      ]}\n    >\n      <div css={styles.blocInfo}>\n        <p css={styles.message}>\n          <span css={styles.messageLabel}>{firstLineLabel} </span>\n          <span css={styles.messageData}>{firstLineData}</span>\n        </p>\n        {firstLineInfo && <p css={styles.info}>{firstLineInfo}</p>}\n      </div>\n\n      <div css={styles.blocInfo}>\n        <p css={styles.message}>\n          <span css={styles.messageLabel}>{secondLineLabel} </span>\n          <span css={styles.messageData}>{secondLineData}</span>\n        </p>\n        {secondLineInfo && <p css={styles.info}>{secondLineInfo}</p>}\n      </div>\n    </Bubble>\n  )\n}\n\nconst styles = {\n  blocWomen: css({\n    backgroundColor: globalStyles.colors.women,\n    \"@media print\": {\n      color: globalStyles.colors.women,\n      border: `solid ${globalStyles.colors.women} 1px`,\n    },\n  }),\n  blocMen: css({\n    backgroundColor: globalStyles.colors.men,\n    \"@media print\": {\n      color: globalStyles.colors.men,\n      border: `solid ${globalStyles.colors.men} 1px`,\n    },\n  }),\n  blocInfo: css({\n    borderBottom: \"1px solid #FFFFFF\",\n  }),\n  message: css({\n    marginBottom: 2,\n    display: \"flex\",\n    alignItems: \"baseline\",\n\n    fontSize: 14,\n    lineHeight: \"17px\",\n  }),\n  messageLabel: css({\n    marginRight: \"auto\",\n  }),\n  messageData: css({\n    fontWeight: \"bold\",\n  }),\n  info: css({\n    marginTop: 7,\n    fontSize: 12,\n    fontStyle: \"italic\",\n    lineHeight: \"15px\",\n  }),\n}\n\nexport default ResultBubble\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\n\nimport { FormState } from \"../../globals\"\n\nimport { displayPercent, displaySexeSurRepresente } from \"../../utils/helpers\"\n\nimport ResultBubble from \"../../components/ResultBubble\"\nimport ActionLink from \"../../components/ActionLink\"\n\ninterface Props {\n  indicateurEcartRemuneration: number | undefined\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined\n  noteIndicateurUn: number | undefined\n  validateIndicateurUn: (valid: FormState) => void\n}\n\nfunction IndicateurUnResult({\n  indicateurEcartRemuneration,\n  indicateurSexeSurRepresente,\n  noteIndicateurUn,\n  validateIndicateurUn,\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={indicateurEcartRemuneration !== undefined ? displayPercent(indicateurEcartRemuneration) : \"--\"}\n        firstLineInfo={displaySexeSurRepresente(indicateurSexeSurRepresente)}\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={(noteIndicateurUn !== undefined ? noteIndicateurUn : \"--\") + \"/40\"}\n        indicateurSexeSurRepresente={indicateurSexeSurRepresente}\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurUn(\"None\")}>modifier les données saisies</ActionLink>\n      </p>\n    </div>\n  )\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250,\n    marginTop: 64,\n  }),\n  edit: css({\n    marginTop: 14,\n    marginBottom: 14,\n    textAlign: \"center\",\n  }),\n}\n\nexport default IndicateurUnResult\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/react\"\nimport { useCallback } from \"react\"\n\nimport { AppState, FormState, ActionType, ActionIndicateurUnCspData } from \"../../../globals\"\n\nimport calculIndicateurUn from \"../../../utils/calculsEgaProIndicateurUn\"\n\nimport LayoutFormAndResult from \"../../../components/LayoutFormAndResult\"\n\nimport IndicateurUnCspForm from \"./IndicateurUnCspForm\"\nimport IndicateurUnResult from \"../IndicateurUnResult\"\n\ninterface Props {\n  state: AppState\n  dispatch: (action: ActionType) => void\n}\n\nfunction IndicateurUnCsp({ state, dispatch }: Props) {\n  const updateIndicateurUn = useCallback(\n    (data: ActionIndicateurUnCspData) => dispatch({ type: \"updateIndicateurUnCsp\", data }),\n    [dispatch],\n  )\n\n  const validateIndicateurUn = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurUn\", valid }),\n    [dispatch],\n  )\n\n  const {\n    effectifEtEcartRemuParTrancheCsp,\n    indicateurEcartRemuneration,\n    indicateurSexeSurRepresente,\n    noteIndicateurUn,\n  } = calculIndicateurUn(state)\n\n  return (\n    <LayoutFormAndResult\n      childrenForm={\n        <IndicateurUnCspForm\n          state={state}\n          ecartRemuParTrancheAge={effectifEtEcartRemuParTrancheCsp}\n          readOnly={state.indicateurUn.formValidated === \"Valid\"}\n          updateIndicateurUn={updateIndicateurUn}\n          validateIndicateurUn={validateIndicateurUn}\n        />\n      }\n      childrenResult={\n        state.indicateurUn.formValidated === \"Valid\" && (\n          <IndicateurUnResult\n            indicateurEcartRemuneration={indicateurEcartRemuneration}\n            indicateurSexeSurRepresente={indicateurSexeSurRepresente}\n            noteIndicateurUn={noteIndicateurUn}\n            validateIndicateurUn={validateIndicateurUn}\n          />\n        )\n      }\n    />\n  )\n}\n\nexport default IndicateurUnCsp\n","/* eslint-disable @typescript-eslint/no-empty-function */\n/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { useRef, useContext, useCallback, createContext, ReactNode } from \"react\"\n\n// Context\n\nexport const ScrollContext = createContext({\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  scrollTo: (coord: number) => {},\n})\n\n// Provider\n\nfunction ScrollProvider({ children, style }: { children: ReactNode; style: any }) {\n  const scrollRef = useRef<HTMLDivElement>(null)\n  const scrollEl = scrollRef.current\n\n  const scrollTo = useCallback(\n    (coord: number) => {\n      if (scrollEl) {\n        if (scrollEl.scrollTo) {\n          scrollEl.scrollTo(coord, 0)\n        } else {\n          scrollEl.scrollTop = coord\n        }\n      }\n    },\n    [scrollEl],\n  )\n\n  return (\n    <ScrollContext.Provider value={{ scrollTo }}>\n      <div ref={scrollRef} css={[styles.scroll, style]}>\n        {children}\n      </div>\n    </ScrollContext.Provider>\n  )\n}\n\nconst styles = {\n  scroll: css({\n    overflowY: \"auto\",\n    WebkitOverflowScrolling: \"touch\",\n    \"@media print\": {\n      overflow: \"visible\",\n    },\n  }),\n}\n\nexport default ScrollProvider\n\n// Consumer\n\nconst useScrollContext = () => useContext(ScrollContext)\n\nexport const useScrollTo = () => {\n  const { scrollTo } = useScrollContext()\n  return scrollTo\n}\n","/** @jsx jsx */\nimport { jsx, css } from \"@emotion/react\"\n\nimport { FormState } from \"../../../globals\"\n\nimport globalStyles from \"../../../utils/globalStyles\"\n\nimport { useColumnsWidth, useLayoutType } from \"../../../components/GridContext\"\nimport ActionLink from \"../../../components/ActionLink\"\nimport { IconValid, IconInvalid } from \"../../../components/ds/Icons\"\n\nexport type MenuOption = \"groupe\" | \"effectif\" | \"remuneration\"\n\ninterface Props {\n  menuSelected: MenuOption\n  setMenuSelected: (menu: MenuOption) => void\n  coefficientGroupFormValidated: FormState\n  coefficientEffectifFormValidated: FormState\n  formValidated: FormState\n}\n\nfunction IndicateurUnCoefMenu({\n  menuSelected,\n  setMenuSelected,\n  coefficientGroupFormValidated,\n  coefficientEffectifFormValidated,\n  formValidated,\n}: Props) {\n  const layoutType = useLayoutType()\n  const width = useColumnsWidth(layoutType === \"desktop\" ? 6 : 7)\n  return (\n    <div css={[styles.menu, { width }]}>\n      <MenuItem\n        title=\"étape 1/3 : groupes\"\n        isSelected={menuSelected === \"groupe\"}\n        formValidated={coefficientGroupFormValidated}\n        onClick={() => setMenuSelected(\"groupe\")}\n      />\n      <MenuItem\n        title=\"étape 2/3 : effectifs physiques\"\n        isSelected={menuSelected === \"effectif\"}\n        formValidated={coefficientEffectifFormValidated}\n        onClick={() => setMenuSelected(\"effectif\")}\n      />\n      <MenuItem\n        title=\"étape 3/3 : rémunérations\"\n        isSelected={menuSelected === \"remuneration\"}\n        formValidated={formValidated}\n        onClick={() => setMenuSelected(\"remuneration\")}\n      />\n    </div>\n  )\n}\n\nfunction MenuItem({\n  title,\n  isSelected,\n  onClick,\n  formValidated,\n}: {\n  title: string\n  isSelected: boolean\n  formValidated: FormState\n  onClick: () => void\n}) {\n  return (\n    <ActionLink style={[styles.menuItem, isSelected && styles.menuItemSelected]} onClick={onClick}>\n      {formValidated === \"Valid\" ? (\n        <div css={styles.icon}>\n          <IconValid />\n        </div>\n      ) : formValidated === \"Invalid\" ? (\n        <div css={styles.icon}>\n          <IconInvalid />\n        </div>\n      ) : null}\n      <span>{title}</span>\n    </ActionLink>\n  )\n}\n\nconst styles = {\n  menu: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    marginBottom: 36,\n  }),\n  menuItem: css({\n    flexGrow: 0,\n    flexShrink: 1,\n    flexBasis: 200,\n    borderBottom: `solid ${globalStyles.colors.default} 1px`,\n\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n\n    fontSize: 14,\n    lineHeight: \"17px\",\n    textDecoration: \"none\",\n    textAlign: \"left\",\n  }),\n  menuItemSelected: css({\n    color: globalStyles.colors.primary,\n    borderColor: globalStyles.colors.primary,\n  }),\n  icon: css({\n    marginRight: 3,\n  }),\n}\n\nexport default IndicateurUnCoefMenu\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { useRef, useContext, createContext, ReactNode } from \"react\"\nimport ReactDOM from \"react-dom\"\n\n// Context\n\nconst defaultValue: { container: null | Element } = { container: null }\n\nexport const ModalContext = createContext(defaultValue)\n\n// Provider\n\nfunction ModalProvider({ children }: { children: ReactNode }) {\n  const containerRef = useRef(null)\n  const container = containerRef.current\n\n  return (\n    <ModalContext.Provider value={{ container }}>\n      {children}\n      <div ref={containerRef} />\n    </ModalContext.Provider>\n  )\n}\n\nexport default ModalProvider\n\n// Component\n\nexport function Modal({\n  children,\n  isOpen,\n  onRequestClose,\n}: {\n  children: ReactNode\n  isOpen: boolean\n  onRequestClose: () => void\n}) {\n  const { container } = useContext(ModalContext)\n\n  const child = (\n    <div css={[styles.container, isOpen && styles.containerOpen]}>\n      <div\n        css={[styles.overlay, isOpen && styles.overlayOpen]}\n        onClick={onRequestClose}\n        onKeyDown={(event) => {\n          if (event.key === \"Escape\") {\n            onRequestClose()\n          }\n        }}\n        role=\"button\"\n        tabIndex={0}\n      />\n      <div css={[styles.modal, isOpen && styles.modalOpen]}>{children}</div>\n    </div>\n  )\n\n  return container ? ReactDOM.createPortal(child, container) : null\n}\n\nconst styles = {\n  container: css({\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n\n    display: \"flex\",\n\n    visibility: \"hidden\",\n    transition: \"visibility 0ms linear 250ms\",\n  }),\n  containerOpen: css({\n    visibility: \"visible\",\n    transitionDelay: \"0ms\",\n  }),\n  overlay: css({\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n\n    backgroundColor: \"rgba(0,0,0,0.5)\",\n    backdropFilter: \"blur(6px)\",\n\n    opacity: 0,\n    transition: \"opacity 175ms ease-in-out 75ms\",\n  }),\n  overlayOpen: css({\n    opacity: 1,\n    transitionDelay: \"0ms\",\n  }),\n  modal: css({\n    position: \"relative\",\n    margin: \"auto\",\n\n    transition: \"opacity 250ms ease-in-out 0ms, transform 250ms ease-in-out 0ms\",\n    opacity: 0,\n    transform: \"scale(0.8)\",\n  }),\n  modalOpen: css({\n    opacity: 1,\n    transform: \"initial\",\n  }),\n}\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { useField } from \"react-final-form\"\n\nimport { required } from \"../../../../utils/formHelpers\"\nimport globalStyles from \"../../../../utils/globalStyles\"\n\nimport Input, { hasFieldError } from \"../../../../components/Input\"\nimport ActionLink from \"../../../../components/ActionLink\"\n\nconst validate = (value: string) => {\n  const requiredError = required(value)\n\n  if (!requiredError) {\n    return undefined\n  } else {\n    return { required: requiredError }\n  }\n}\n\nfunction InputField({\n  name,\n  index,\n  deleteGroup,\n  readOnly,\n}: {\n  name: string\n  index: number\n  deleteGroup: (index: number) => void\n  readOnly: boolean\n}) {\n  const field = useField(name, {\n    validate,\n    parse: (value) => value,\n    format: (value) => value,\n  })\n  const error = hasFieldError(field.meta)\n\n  return (\n    <div css={styles.inputField}>\n      <label css={[styles.label, error && styles.labelError]} htmlFor={field.input.name}>\n        {`Groupe ${index + 1}`}\n      </label>\n\n      {readOnly ? (\n        <div css={styles.fieldRow}>\n          <div css={styles.fakeInput}>{field.input.value}</div>\n        </div>\n      ) : (\n        <div css={styles.fieldRow}>\n          <Input field={field} placeholder=\"Donnez un nom à votre groupe\" />\n          <ActionLink onClick={() => deleteGroup(index)} style={styles.delete}>\n            supprimer le groupe\n          </ActionLink>\n        </div>\n      )}\n\n      <p css={styles.error}>{error && \"vous devez donner un nom à votre groupe\"}</p>\n    </div>\n  )\n}\n\nconst styles = {\n  inputField: css({\n    alignSelf: \"stretch\",\n  }),\n  label: css({\n    fontSize: 14,\n    lineHeight: \"17px\",\n  }),\n  labelError: css({\n    color: globalStyles.colors.error,\n  }),\n  fieldRow: css({\n    height: 38,\n    marginTop: 5,\n    marginBottom: 5,\n    display: \"flex\",\n  }),\n  delete: css({\n    flexShrink: 0,\n    alignSelf: \"flex-end\",\n    marginLeft: globalStyles.grid.gutterWidth,\n    fontSize: 12,\n    lineHeight: \"15px\",\n  }),\n  error: css({\n    height: 18,\n    color: globalStyles.colors.error,\n    fontSize: 12,\n    fontStyle: \"italic\",\n    lineHeight: \"15px\",\n  }),\n\n  fakeInput: css({\n    flexGrow: 1,\n    flexShrink: 1,\n    flexBasis: \"auto\",\n    paddingLeft: 23,\n    paddingRight: 23,\n\n    backgroundColor: \"white\",\n    borderRadius: 5,\n\n    fontSize: 14,\n    lineHeight: \"38px\",\n    cursor: \"not-allowed\",\n  }),\n}\n\nexport default InputField\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\n\nimport globalStyles from \"../../../../utils/globalStyles\"\n\nimport ActionLink from \"../../../../components/ActionLink\"\nimport ButtonAction from \"../../../../components/ButtonAction\"\n\nimport { IconWarning } from \"../../../../components/ds/Icons\"\nimport { useColumnsWidth, useLayoutType } from \"../../../../components/GridContext\"\n\nfunction ModalConfirmDelete({ closeModal, deleteGroup }: { closeModal: () => void; deleteGroup: () => void }) {\n  const layoutType = useLayoutType()\n  const width = useColumnsWidth(layoutType === \"desktop\" ? 6 : 7)\n\n  return (\n    <div css={[styles.modalConfirm, css({ width })]}>\n      <div css={[styles.bloc]}>\n        <div css={styles.blocIcon}>\n          <IconWarning />\n        </div>\n\n        <div>\n          <p css={styles.blocTitle}>Êtes vous sûr de vouloir supprimer ce groupe ?</p>\n          <p css={styles.blocText}>toutes les données renseignées pour ce groupes seront effacées définitivement.</p>\n\n          <div css={styles.actionBar}>\n            <ButtonAction\n              onClick={() => {\n                deleteGroup()\n                closeModal()\n              }}\n              label=\"supprimer\"\n            />\n            <div css={styles.spacerActionBarModal} />\n            <ActionLink onClick={closeModal}>annuler</ActionLink>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst styles = {\n  modalConfirm: css({\n    width: 616,\n    padding: \"17px 16px 18px\",\n    backgroundColor: \"#F6F7FF\",\n    borderRadius: 5,\n  }),\n\n  bloc: css({\n    display: \"flex\",\n  }),\n  blocIcon: {\n    marginRight: 22,\n    color: globalStyles.colors.primary,\n  },\n\n  blocTitle: css({\n    fontSize: 18,\n    lineHeight: \"22px\",\n    textTransform: \"uppercase\",\n    color: globalStyles.colors.primary,\n  }),\n  blocText: css({\n    fontSize: 18,\n    lineHeight: \"22px\",\n    color: globalStyles.colors.primary,\n  }),\n\n  actionBar: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginTop: 16,\n  }),\n\n  spacerActionBarModal: css({\n    width: 21,\n  }),\n}\n\nexport default ModalConfirmDelete\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { Fragment, useState } from \"react\"\nimport { Form } from \"react-final-form\"\nimport arrayMutators from \"final-form-arrays\"\nimport { FieldArray } from \"react-final-form-arrays\"\nimport { ActionIndicateurUnCoefData, FormState, AppState } from \"../../../globals\"\n\nimport globalStyles from \"../../../utils/globalStyles\"\n\nimport { useColumnsWidth, useLayoutType } from \"../../../components/GridContext\"\nimport InfoBlock from \"../../../components/ds/InfoBlock\"\nimport ActionLink from \"../../../components/ActionLink\"\nimport ButtonAction from \"../../../components/ButtonAction\"\nimport ActionBar from \"../../../components/ActionBar\"\nimport FormAutoSave from \"../../../components/FormAutoSave\"\nimport FormSubmit from \"../../../components/FormSubmit\"\nimport { Modal } from \"../../../components/ModalContext\"\n\nimport InputField from \"./components/CoefGroupInputField\"\nimport ModalConfirmDelete from \"./components/CoefGroupModalConfirmDelete\"\n\ninterface Props {\n  state: AppState\n  updateIndicateurUnCoefAddGroup: () => void\n  updateIndicateurUnCoefDeleteGroup: (index: number) => void\n  updateIndicateurUnCoef: (data: ActionIndicateurUnCoefData) => void\n  validateIndicateurUnCoefGroup: (valid: FormState) => void\n  navigateToEffectif: () => void\n  navigateToRemuneration: () => void\n}\n\nfunction IndicateurUnCoefGroupForm({\n  state,\n  updateIndicateurUnCoefAddGroup,\n  updateIndicateurUnCoefDeleteGroup,\n  updateIndicateurUnCoef,\n  validateIndicateurUnCoefGroup,\n  navigateToEffectif,\n  navigateToRemuneration,\n}: Props) {\n  const { coefficient, coefficientGroupFormValidated, coefficientEffectifFormValidated, formValidated } =\n    state.indicateurUn\n  const readOnly = coefficientGroupFormValidated === \"Valid\"\n\n  const initialValues = { groupes: coefficient }\n\n  const saveForm = (formData: any) => {\n    updateIndicateurUnCoef({ coefficient: formData.groupes })\n  }\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData)\n    validateIndicateurUnCoefGroup(\"Valid\")\n  }\n\n  const layoutType = useLayoutType()\n  const width = useColumnsWidth(layoutType === \"desktop\" ? 6 : 7)\n\n  const [indexGroupToDelete, setIndexGroupToDelete] = useState<number | undefined>(undefined)\n  const confirmGroupToDelete = (index: number) => setIndexGroupToDelete(index)\n  const closeModal = () => setIndexGroupToDelete(undefined)\n\n  return (\n    <Fragment>\n      <Form\n        onSubmit={onSubmit}\n        mutators={{\n          // potentially other mutators could be merged here\n          ...arrayMutators,\n        }}\n        initialValues={initialValues}\n      >\n        {({ handleSubmit, hasValidationErrors, submitFailed }) => (\n          <form onSubmit={handleSubmit} css={[styles.container, { width }]}>\n            <FormAutoSave saveForm={saveForm} />\n\n            <FieldArray name=\"groupes\">\n              {({ fields }) => (\n                <Fragment>\n                  {fields.map((name, index) => (\n                    <InputField\n                      key={name}\n                      name={`${name}.name`}\n                      index={index}\n                      deleteGroup={confirmGroupToDelete}\n                      readOnly={readOnly}\n                    />\n                  ))}\n                </Fragment>\n              )}\n            </FieldArray>\n\n            {readOnly ? (\n              <div css={styles.spacerAdd} />\n            ) : (\n              <ActionLink onClick={updateIndicateurUnCoefAddGroup} style={styles.add}>\n                <div css={styles.addIcon}>\n                  <svg\n                    width=\"26\"\n                    height=\"26\"\n                    viewBox=\"0 0 26 26\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    aria-hidden=\"true\"\n                  >\n                    <path\n                      d=\"M12.9992 24.174V1.82597M1.8252 13H24.1733\"\n                      stroke=\"white\"\n                      strokeWidth=\"2\"\n                      strokeLinecap=\"round\"\n                    />\n                  </svg>\n                </div>\n                <span>ajouter un niveau ou coefficient hiérarchique</span>\n              </ActionLink>\n            )}\n\n            {readOnly ? (\n              <ActionBar>\n                <ButtonAction onClick={navigateToEffectif} label=\"suivant\" />\n                <div css={styles.spacerActionBar} />\n                <ActionLink onClick={() => validateIndicateurUnCoefGroup(\"None\")}>modifier les groupes</ActionLink>\n              </ActionBar>\n            ) : (\n              <ActionBar>\n                {coefficient.length > 0 && (\n                  <FormSubmit\n                    hasValidationErrors={hasValidationErrors}\n                    submitFailed={submitFailed}\n                    errorMessage=\"Les groupes ne peuvent pas être validés si tous les champs ne sont pas remplis.\"\n                  />\n                )}\n              </ActionBar>\n            )}\n          </form>\n        )}\n      </Form>\n\n      {coefficientGroupFormValidated === \"Valid\" &&\n        (coefficientEffectifFormValidated === \"Invalid\" || formValidated === \"Invalid\") && (\n          <InfoBlock\n            title=\"Vos groupes ont été modifiés\"\n            type=\"success\"\n            text={\n              <Fragment>\n                <span>\n                  Afin de s'assurer de la cohérence de votre indicateur, merci de vérifier les données de vos étapes.\n                </span>\n                &emsp;\n                <span>\n                  {coefficientEffectifFormValidated === \"Invalid\" && (\n                    <Fragment>\n                      <ActionLink onClick={navigateToEffectif}>aller à l'étape 2 : effectifs</ActionLink>\n                      &emsp;\n                    </Fragment>\n                  )}\n                  {formValidated === \"Invalid\" && (\n                    <Fragment>\n                      <ActionLink onClick={navigateToRemuneration}>aller à l'étape 3 : rémunérations</ActionLink>\n                      &emsp;\n                    </Fragment>\n                  )}\n                </span>\n              </Fragment>\n            }\n          />\n        )}\n\n      <Modal isOpen={indexGroupToDelete !== undefined} onRequestClose={closeModal}>\n        <ModalConfirmDelete\n          closeModal={closeModal}\n          deleteGroup={() => {\n            indexGroupToDelete !== undefined && updateIndicateurUnCoefDeleteGroup(indexGroupToDelete)\n          }}\n        />\n      </Modal>\n    </Fragment>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n  }),\n\n  add: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    marginTop: 46 - 18 - 5,\n    textDecoration: \"none\",\n  }),\n  addIcon: css({\n    width: 32,\n    height: 32,\n    marginRight: 16,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n\n    backgroundColor: globalStyles.colors.default,\n    borderRadius: 16,\n  }),\n\n  spacerActionBar: css({\n    width: 66,\n  }),\n  spacerAdd: css({\n    height: 32,\n    marginTop: 46 - 18 - 5,\n  }),\n}\n\nexport default IndicateurUnCoefGroupForm\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/react\"\nimport { Fragment, useMemo, useCallback } from \"react\"\nimport { AppState, FormState, GroupTranchesAgesEffectif, ActionIndicateurUnCoefData } from \"../../../globals\"\nimport totalNombreSalaries from \"../../../utils/totalNombreSalaries\"\n\nimport LayoutFormAndResult from \"../../../components/LayoutFormAndResult\"\nimport ButtonAction from \"../../../components/ButtonAction\"\nimport InfoBlock from \"../../../components/ds/InfoBlock\"\nimport ActionLink from \"../../../components/ActionLink\"\n\nimport EffectifFormRaw, { getTotalNbSalarie } from \"../../Effectif/EffectifFormRaw\"\nimport EffectifResult from \"../../Effectif/EffectifResult\"\n\ninterface Props {\n  state: AppState\n  updateIndicateurUnCoef: (data: ActionIndicateurUnCoefData) => void\n  validateIndicateurUnCoefEffectif: (valid: FormState) => void\n  navigateToRemuneration: () => void\n  navigateToGroupe: () => void\n}\n\nfunction IndicateurUnCoefEffectifForm({\n  state,\n  updateIndicateurUnCoef,\n  validateIndicateurUnCoefEffectif,\n  navigateToRemuneration,\n  navigateToGroupe,\n}: Props) {\n  const { coefficient, coefficientGroupFormValidated, coefficientEffectifFormValidated, formValidated } =\n    state.indicateurUn\n\n  const effectifRaw = useMemo(\n    () =>\n      coefficient.map(({ name, tranchesAges }, index) => ({\n        id: index,\n        name,\n        tranchesAges,\n      })),\n    [coefficient],\n  )\n\n  const updateEffectifRaw = useCallback(\n    (\n      data: Array<{\n        id: any\n        name: string\n        tranchesAges: Array<GroupTranchesAgesEffectif>\n      }>,\n    ) => {\n      const coefficient = data.map(({ tranchesAges }) => ({\n        tranchesAges,\n      }))\n      updateIndicateurUnCoef({ coefficient })\n    },\n    [updateIndicateurUnCoef],\n  )\n\n  const {\n    totalNombreSalariesHomme: totalNombreSalariesHommeCoef,\n    totalNombreSalariesFemme: totalNombreSalariesFemmeCoef,\n  } = totalNombreSalaries(coefficient)\n  const {\n    totalNombreSalariesHomme: totalNombreSalariesHommeCsp,\n    totalNombreSalariesFemme: totalNombreSalariesFemmeCsp,\n  } = totalNombreSalaries(state.effectif.nombreSalaries)\n\n  // le formulaire d'effectif n'est pas validé\n  if (coefficientGroupFormValidated !== \"Valid\") {\n    return (\n      <InfoBlock\n        title=\"Vous devez renseignez vos groupes avant d’avoir accès à cet indicateur\"\n        text={<ActionLink onClick={navigateToGroupe}>Renseigner les groupes</ActionLink>}\n      />\n    )\n  }\n\n  const readOnly = coefficientEffectifFormValidated === \"Valid\"\n  const formValidator = ({ effectif }: any) => {\n    const { totalNbSalarieHomme: totalNombreSalariesHommeCoef, totalNbSalarieFemme: totalNombreSalariesFemmeCoef } =\n      getTotalNbSalarie(effectif)\n    return totalNombreSalariesHommeCoef !== totalNombreSalariesHommeCsp ||\n      totalNombreSalariesFemmeCoef !== totalNombreSalariesFemmeCsp\n      ? \"Attention, vos effectifs ne sont pas les mêmes que ceux déclarés en catégories socio-professionnelles\"\n      : undefined\n  }\n\n  return (\n    <Fragment>\n      <LayoutFormAndResult\n        childrenForm={\n          <EffectifFormRaw\n            effectifRaw={effectifRaw}\n            readOnly={readOnly}\n            updateEffectif={updateEffectifRaw}\n            validateEffectif={validateIndicateurUnCoefEffectif}\n            nextLink={<ButtonAction onClick={navigateToRemuneration} label=\"suivant\" />}\n            formValidator={formValidator}\n          />\n        }\n        childrenResult={\n          readOnly && (\n            <EffectifResult\n              totalNombreSalariesFemme={totalNombreSalariesFemmeCoef}\n              totalNombreSalariesHomme={totalNombreSalariesHommeCoef}\n              validateEffectif={validateIndicateurUnCoefEffectif}\n            />\n          )\n        }\n      />\n\n      {coefficientEffectifFormValidated === \"Valid\" && formValidated === \"Invalid\" && (\n        <InfoBlock\n          title=\"Vos effectifs ont été modifiés\"\n          type=\"success\"\n          text={\n            <Fragment>\n              <span>\n                Afin de s'assurer de la cohérence de votre indicateur, merci de vérifier les données de vos étapes.\n              </span>\n              <br />\n              <span>\n                {formValidated === \"Invalid\" && (\n                  <Fragment>\n                    <ActionLink onClick={navigateToRemuneration}>aller à l'étape 3 : rémunérations</ActionLink>\n                    &emsp;\n                  </Fragment>\n                )}\n              </span>\n            </Fragment>\n          }\n        />\n      )}\n    </Fragment>\n  )\n}\n\nexport default IndicateurUnCoefEffectifForm\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/react\"\nimport { useCallback } from \"react\"\nimport { AppState, FormState, ActionIndicateurUnCoefData, GroupTranchesAgesIndicateurUn } from \"../../../globals\"\n\nimport calculIndicateurUn from \"../../../utils/calculsEgaProIndicateurUn\"\n\nimport LayoutFormAndResult from \"../../../components/LayoutFormAndResult\"\nimport InfoBlock from \"../../../components/ds/InfoBlock\"\nimport ActionLink from \"../../../components/ActionLink\"\nimport { ButtonSimulatorLink } from \"../../../components/SimulatorLink\"\n\nimport IndicateurUnFormRaw from \"../IndicateurUnFormRaw\"\nimport IndicateurUnResult from \"../IndicateurUnResult\"\n\ninterface Props {\n  state: AppState\n  updateIndicateurUnCoef: (data: ActionIndicateurUnCoefData) => void\n  validateIndicateurUn: (valid: FormState) => void\n  navigateToEffectif: () => void\n}\n\nfunction IndicateurUnCoefEffectifForm({\n  state,\n  updateIndicateurUnCoef,\n  validateIndicateurUn,\n  navigateToEffectif,\n}: Props) {\n  const { coefficientEffectifFormValidated, formValidated } = state.indicateurUn\n\n  const {\n    effectifsIndicateurCalculable,\n    effectifEtEcartRemuParTrancheCoef,\n    indicateurEcartRemuneration,\n    indicateurSexeSurRepresente,\n    noteIndicateurUn,\n  } = calculIndicateurUn(state)\n\n  const updateIndicateurUn = useCallback(\n    (\n      data: Array<{\n        id: any\n        tranchesAges: Array<GroupTranchesAgesIndicateurUn>\n      }>,\n    ) => {\n      const coefficient = data.map(({ tranchesAges }) => ({\n        tranchesAges,\n      }))\n      updateIndicateurUnCoef({ coefficient })\n    },\n    [updateIndicateurUnCoef],\n  )\n\n  // le formulaire d'effectif n'est pas validé\n  if (coefficientEffectifFormValidated !== \"Valid\") {\n    return (\n      <InfoBlock\n        type=\"warning\"\n        title=\"Vous devez renseignez vos effectifs avant d’avoir accès à cet indicateur\"\n        text={<ActionLink onClick={navigateToEffectif}>Renseigner les effectifs</ActionLink>}\n      />\n    )\n  }\n\n  // les effectifs ne permettent pas de calculer l'indicateur\n  if (!effectifsIndicateurCalculable) {\n    return (\n      <div>\n        <InfoBlock\n          type=\"warning\"\n          title=\"Malheureusement votre indicateur n’est pas calculable en niveau ou coefficient hiérarchique\"\n          text=\"L’ensemble des groupes valables (c’est-à-dire comptant au\n              moins 3 femmes et 3 hommes), représentent moins de 40% des\n              effectifs. Vous devez calculer par CSP.\"\n        />\n      </div>\n    )\n  }\n\n  const readOnly = formValidated === \"Valid\"\n\n  return (\n    <LayoutFormAndResult\n      childrenForm={\n        <IndicateurUnFormRaw\n          ecartRemuParTrancheAge={effectifEtEcartRemuParTrancheCoef}\n          readOnly={readOnly}\n          updateIndicateurUn={updateIndicateurUn}\n          validateIndicateurUn={validateIndicateurUn}\n          nextLink={\n            <ButtonSimulatorLink\n              to={state.informations.trancheEffectifs === \"50 à 250\" ? \"/indicateur2et3\" : \"/indicateur2\"}\n              label=\"suivant\"\n            />\n          }\n        />\n      }\n      childrenResult={\n        readOnly && (\n          <IndicateurUnResult\n            indicateurEcartRemuneration={indicateurEcartRemuneration}\n            indicateurSexeSurRepresente={indicateurSexeSurRepresente}\n            noteIndicateurUn={noteIndicateurUn}\n            validateIndicateurUn={validateIndicateurUn}\n          />\n        )\n      }\n    />\n  )\n}\n\nexport default IndicateurUnCoefEffectifForm\n","/** @jsx jsx */\nimport { jsx, css } from \"@emotion/react\"\nimport { useCallback, useState } from \"react\"\n\nimport { AppState, FormState, ActionType, ActionIndicateurUnCoefData } from \"../../../globals\"\n\nimport { useScrollTo } from \"../../../components/ScrollContext\"\n\nimport IndicateurUnCoefMenu, { MenuOption } from \"./IndicateurUnCoefMenu\"\nimport IndicateurUnCoefGroupForm from \"./IndicateurUnCoefGroupForm\"\nimport IndicateurUnCoefEffectifForm from \"./IndicateurUnCoefEffectifForm\"\nimport IndicateurUnCoefRemuForm from \"./IndicateurUnCoefRemuForm\"\n\nfunction getDefaultMenuSelected(\n  coefficientGroupFormValidated: FormState,\n  coefficientEffectifFormValidated: FormState,\n): MenuOption {\n  return coefficientEffectifFormValidated === \"Valid\"\n    ? \"remuneration\"\n    : coefficientGroupFormValidated === \"Valid\"\n    ? \"effectif\"\n    : \"groupe\"\n}\n\ninterface Props {\n  state: AppState\n  dispatch: (action: ActionType) => void\n}\n\nfunction IndicateurUnCoef({ state, dispatch }: Props) {\n  const updateIndicateurUnCoefAddGroup = useCallback(\n    () => dispatch({ type: \"updateIndicateurUnCoefAddGroup\" }),\n    [dispatch],\n  )\n\n  const updateIndicateurUnCoefDeleteGroup = useCallback(\n    (index: number) => dispatch({ type: \"updateIndicateurUnCoefDeleteGroup\", index }),\n    [dispatch],\n  )\n\n  const updateIndicateurUnCoef = useCallback(\n    (data: ActionIndicateurUnCoefData) => dispatch({ type: \"updateIndicateurUnCoef\", data }),\n    [dispatch],\n  )\n\n  const validateIndicateurUnCoefGroup = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurUnCoefGroup\", valid }),\n    [dispatch],\n  )\n\n  const validateIndicateurUnCoefEffectif = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurUnCoefEffectif\", valid }),\n    [dispatch],\n  )\n\n  const validateIndicateurUn = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurUn\", valid }),\n    [dispatch],\n  )\n\n  const { coefficientGroupFormValidated, coefficientEffectifFormValidated, formValidated } = state.indicateurUn\n\n  const [menuSelected, setMenuSelected] = useState<MenuOption>(\n    getDefaultMenuSelected(coefficientGroupFormValidated, coefficientEffectifFormValidated),\n  )\n\n  const scrollTo = useScrollTo()\n\n  const navigateTo = (menu: MenuOption) => {\n    scrollTo(0)\n    setMenuSelected(menu)\n  }\n\n  const navigateToGroupe = () => navigateTo(\"groupe\")\n  const navigateToEffectif = () => navigateTo(\"effectif\")\n  const navigateToRemuneration = () => navigateTo(\"remuneration\")\n\n  return (\n    <div css={styles.container}>\n      <IndicateurUnCoefMenu\n        menuSelected={menuSelected}\n        setMenuSelected={setMenuSelected}\n        coefficientGroupFormValidated={coefficientGroupFormValidated}\n        coefficientEffectifFormValidated={coefficientEffectifFormValidated}\n        formValidated={formValidated}\n      />\n\n      {menuSelected === \"groupe\" ? (\n        <IndicateurUnCoefGroupForm\n          state={state}\n          updateIndicateurUnCoefAddGroup={updateIndicateurUnCoefAddGroup}\n          updateIndicateurUnCoefDeleteGroup={updateIndicateurUnCoefDeleteGroup}\n          updateIndicateurUnCoef={updateIndicateurUnCoef}\n          validateIndicateurUnCoefGroup={validateIndicateurUnCoefGroup}\n          navigateToEffectif={navigateToEffectif}\n          navigateToRemuneration={navigateToRemuneration}\n        />\n      ) : menuSelected === \"effectif\" ? (\n        <IndicateurUnCoefEffectifForm\n          state={state}\n          updateIndicateurUnCoef={updateIndicateurUnCoef}\n          validateIndicateurUnCoefEffectif={validateIndicateurUnCoefEffectif}\n          navigateToGroupe={navigateToGroupe}\n          navigateToRemuneration={navigateToRemuneration}\n        />\n      ) : (\n        <IndicateurUnCoefRemuForm\n          state={state}\n          updateIndicateurUnCoef={updateIndicateurUnCoef}\n          validateIndicateurUn={validateIndicateurUn}\n          navigateToEffectif={navigateToEffectif}\n        />\n      )}\n    </div>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n  }),\n}\n\nexport default IndicateurUnCoef\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/react\"\nimport { ReactNode } from \"react\"\nimport { RouteComponentProps } from \"react-router-dom\"\n\nimport { AppState, ActionType } from \"../../globals\"\n\nimport calculIndicateurUn from \"../../utils/calculsEgaProIndicateurUn\"\n\nimport Page from \"../../components/Page\"\nimport InfoBlock from \"../../components/ds/InfoBlock\"\nimport ActionBar from \"../../components/ActionBar\"\nimport { TextSimulatorLink, ButtonSimulatorLink } from \"../../components/SimulatorLink\"\n\nimport IndicateurUnTypeForm from \"./IndicateurUnTypeForm\"\nimport IndicateurUnCsp from \"./IndicateurUnCsp/IndicateurUnCsp\"\nimport IndicateurUnCoef from \"./IndicateurUnCoef/IndicateurUnCoef\"\nimport { useTitle } from \"../../utils/hooks\"\n\ninterface Props extends RouteComponentProps {\n  state: AppState\n  dispatch: (action: ActionType) => void\n}\n\nconst title = \"Indicateur écart de rémunération\"\n\nfunction IndicateurUn({ state, dispatch }: Props) {\n  useTitle(title)\n\n  const { csp, coef, autre } = state.indicateurUn\n  const readOnly = state.indicateurUn.formValidated === \"Valid\"\n\n  // le formulaire d'effectif n'est pas validé\n  if (state.effectif.formValidated !== \"Valid\") {\n    return (\n      <PageIndicateurUn>\n        <InfoBlock\n          type=\"warning\"\n          title=\"Vous devez renseignez vos effectifs avant d’avoir accès à cet indicateur\"\n          text={<TextSimulatorLink to=\"/effectifs\" label=\"Renseigner les effectifs\" />}\n        />\n      </PageIndicateurUn>\n    )\n  }\n\n  const { effectifsIndicateurCalculable } = calculIndicateurUn(state)\n\n  // les effectifs ne permettent pas de calculer l'indicateur\n  if (!effectifsIndicateurCalculable && state.indicateurUn.csp) {\n    return (\n      <PageIndicateurUn>\n        <InfoBlock\n          type=\"warning\"\n          title=\"Malheureusement votre indicateur n’est pas calculable\"\n          text=\"L’ensemble des groupes valables (c’est-à-dire comptant au moins 3 femmes et 3 hommes), représentent moins de 40% des effectifs.\"\n        />\n        <ActionBar>\n          <ButtonSimulatorLink\n            to={state.informations.trancheEffectifs === \"50 à 250\" ? \"/indicateur2et3\" : \"/indicateur2\"}\n            label=\"suivant\"\n          />\n        </ActionBar>\n      </PageIndicateurUn>\n    )\n  }\n\n  return (\n    <PageIndicateurUn>\n      <IndicateurUnTypeForm csp={csp} coef={coef} autre={autre} readOnly={readOnly} dispatch={dispatch} />\n      {csp ? (\n        <IndicateurUnCsp state={state} dispatch={dispatch} />\n      ) : (\n        <IndicateurUnCoef state={state} dispatch={dispatch} />\n      )}\n    </PageIndicateurUn>\n  )\n}\n\nfunction PageIndicateurUn({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title={title}\n      tagline={[\n        \"Les rémunérations annuelles moyennes des femmes et des hommes doivent être renseignées par catégorie de postes équivalents (soit par CSP, soit par niveau ou coefficient hiérarchique en application de la classification de branche ou d’une autre méthode de cotation des postes après consultation du CSE) et par tranche d’âge.\",\n      ]}\n    >\n      {children}\n    </Page>\n  )\n}\n\nexport default IndicateurUn\n","import IndicateurUn from \"./IndicateurUn\"\nexport default IndicateurUn\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { Form } from \"react-final-form\"\nimport { FormState, ActionIndicateurDeuxData } from \"../../globals\"\n\nimport {\n  // calculTotalEffectifsEtTauxAugmentation,\n  // calculEcartTauxAugmentation,\n  effectifEtEcartAugmentGroup,\n} from \"../../utils/calculsEgaProIndicateurDeux\"\n\nimport BlocForm from \"../../components/BlocForm\"\nimport FieldInputsMenWomen from \"../../components/FieldInputsMenWomen\"\nimport RadiosBoolean from \"../../components/RadiosBoolean\"\nimport ActionBar from \"../../components/ActionBar\"\nimport FormAutoSave from \"../../components/FormAutoSave\"\nimport FormSubmit from \"../../components/FormSubmit\"\nimport { ButtonSimulatorLink } from \"../../components/SimulatorLink\"\n\nimport {\n  parseFloatFormValue,\n  parseFloatStateValue,\n  parseBooleanFormValue,\n  parseBooleanStateValue,\n  composeValidators,\n  minNumber,\n  mustBeNumber,\n  required,\n} from \"../../utils/formHelpers\"\nimport {\n  displayNameCategorieSocioPro,\n  // displayFractionPercent\n} from \"../../utils/helpers\"\n\nconst validator = composeValidators(required, mustBeNumber, minNumber(0))\n\nconst validateForm = ({\n  tauxAugmentation,\n  presenceAugmentation,\n}: {\n  tauxAugmentation: Array<{\n    tauxAugmentationFemmes: string\n    tauxAugmentationHommes: string\n  }>\n  presenceAugmentation: string\n}) => {\n  if (presenceAugmentation === \"false\") {\n    return undefined\n  }\n  const allInputs = tauxAugmentation.flatMap(({ tauxAugmentationFemmes, tauxAugmentationHommes }) => [\n    tauxAugmentationFemmes,\n    tauxAugmentationHommes,\n  ])\n  if (allInputs.every((input) => input === \"0\" || input === \"\")) {\n    return {\n      notAll0: \"Tous les champs ne peuvent pas être à 0 si il y a eu des augmentations\",\n    }\n  }\n  return\n}\n\ninterface Props {\n  ecartAugmentParCategorieSocioPro: Array<effectifEtEcartAugmentGroup>\n  presenceAugmentation: boolean\n  readOnly: boolean\n  updateIndicateurDeux: (data: ActionIndicateurDeuxData) => void\n  validateIndicateurDeux: (valid: FormState) => void\n}\n\nfunction IndicateurDeuxForm({\n  ecartAugmentParCategorieSocioPro,\n  presenceAugmentation,\n  readOnly,\n  updateIndicateurDeux,\n  validateIndicateurDeux,\n}: Props) {\n  const initialValues = {\n    presenceAugmentation: parseBooleanStateValue(presenceAugmentation),\n    tauxAugmentation: ecartAugmentParCategorieSocioPro.map(\n      ({ tauxAugmentationFemmes, tauxAugmentationHommes, ...otherProps }: any) => ({\n        ...otherProps,\n        tauxAugmentationFemmes: parseFloatStateValue(tauxAugmentationFemmes),\n        tauxAugmentationHommes: parseFloatStateValue(tauxAugmentationHommes),\n      }),\n    ),\n  }\n\n  const saveForm = (formData: any) => {\n    const presenceAugmentation = parseBooleanFormValue(formData.presenceAugmentation)\n    const tauxAugmentation = formData.tauxAugmentation.map(\n      ({ categorieSocioPro, tauxAugmentationFemmes, tauxAugmentationHommes }: any) => ({\n        categorieSocioPro,\n        tauxAugmentationFemmes: parseFloatFormValue(tauxAugmentationFemmes),\n        tauxAugmentationHommes: parseFloatFormValue(tauxAugmentationHommes),\n      }),\n    )\n    updateIndicateurDeux({\n      tauxAugmentation,\n      presenceAugmentation,\n    })\n  }\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData)\n    validateIndicateurDeux(\"Valid\")\n  }\n\n  // Only for Total with updated values\n  // const ecartAugmentParCategorieSocioProPourTotal = ecartAugmentParCategorieSocioPro.map(\n  //   (groupAugment, index) => {\n  //     const infoField = infoFields[index];\n  //     const tauxAugmentationFemmes = parseFloatFormValue(\n  //       values[infoField.tauxAugmentationFemmesName]\n  //     );\n  //     const tauxAugmentationHommes = parseFloatFormValue(\n  //       values[infoField.tauxAugmentationHommesName]\n  //     );\n  //     const ecartTauxAugmentation = calculEcartTauxAugmentation(\n  //       tauxAugmentationFemmes,\n  //       tauxAugmentationHommes\n  //     );\n  //     return {\n  //       ...groupAugment,\n  //       tauxAugmentationFemmes,\n  //       tauxAugmentationHommes,\n  //       ecartTauxAugmentation\n  //     };\n  //   }\n  // );\n  // const {\n  //   totalTauxAugmentationFemmes,\n  //   totalTauxAugmentationHommes\n  // } = calculTotalEffectifsEtTauxAugmentation(\n  //   ecartAugmentParCategorieSocioProPourTotal\n  // );\n\n  return (\n    <Form\n      onSubmit={onSubmit}\n      validate={validateForm}\n      initialValues={initialValues}\n      // mandatory to not change user inputs\n      // because we want to keep wrong string inside the input\n      // we don't want to block string value\n      initialValuesEqual={() => true}\n    >\n      {({ handleSubmit, values, hasValidationErrors, errors, submitFailed }) => (\n        <form onSubmit={handleSubmit} css={styles.container}>\n          <FormAutoSave saveForm={saveForm} />\n          <RadiosBoolean\n            fieldName=\"presenceAugmentation\"\n            value={values.presenceAugmentation}\n            readOnly={readOnly}\n            labelTrue=\"il y a eu des augmentations durant la période de référence\"\n            labelFalse=\"il n’y a pas eu d’augmentation durant la période de référence\"\n          />\n\n          {values.presenceAugmentation === \"true\" && (\n            <BlocForm\n              label=\"% de salariés augmentés\"\n              // footer={[\n              //   displayFractionPercent(totalTauxAugmentationFemmes),\n              //   displayFractionPercent(totalTauxAugmentationHommes)\n              // ]}\n            >\n              {ecartAugmentParCategorieSocioPro.map(({ categorieSocioPro, validiteGroupe }, index) => {\n                return (\n                  <FieldInputsMenWomen\n                    key={categorieSocioPro}\n                    name={displayNameCategorieSocioPro(categorieSocioPro)}\n                    readOnly={readOnly}\n                    calculable={validiteGroupe}\n                    calculableNumber={10}\n                    mask=\"percent\"\n                    femmeFieldName={`tauxAugmentation.${index}.tauxAugmentationFemmes`}\n                    hommeFieldName={`tauxAugmentation.${index}.tauxAugmentationHommes`}\n                    validatorFemmes={validator}\n                    validatorHommes={validator}\n                  />\n                )\n              })}\n            </BlocForm>\n          )}\n\n          {readOnly ? (\n            <ActionBar>\n              <ButtonSimulatorLink to=\"/indicateur3\" label=\"suivant\" />\n            </ActionBar>\n          ) : (\n            <ActionBar>\n              <FormSubmit\n                hasValidationErrors={hasValidationErrors}\n                submitFailed={submitFailed}\n                errorMessage={\n                  errors.notAll0\n                    ? errors.notAll0\n                    : \"L’indicateur ne peut pas être validé si tous les champs ne sont pas remplis.\"\n                }\n              />\n            </ActionBar>\n          )}\n        </form>\n      )}\n    </Form>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n  }),\n}\n\nexport default IndicateurDeuxForm\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\n\nimport { FormState } from \"../../globals\"\n\nimport { displayPercent, displaySexeSurRepresente } from \"../../utils/helpers\"\n\nimport ResultBubble from \"../../components/ResultBubble\"\nimport ActionLink from \"../../components/ActionLink\"\n\ninterface Props {\n  indicateurEcartAugmentation: number | undefined\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined\n  noteIndicateurDeux: number | undefined\n  correctionMeasure: boolean\n  validateIndicateurDeux: (valid: FormState) => void\n}\n\nfunction IndicateurDeuxResult({\n  indicateurEcartAugmentation,\n  indicateurSexeSurRepresente,\n  noteIndicateurDeux,\n  correctionMeasure,\n  validateIndicateurDeux,\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={indicateurEcartAugmentation !== undefined ? displayPercent(indicateurEcartAugmentation) : \"--\"}\n        firstLineInfo={displaySexeSurRepresente(indicateurSexeSurRepresente)}\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={(noteIndicateurDeux !== undefined ? noteIndicateurDeux : \"--\") + \"/20\"}\n        secondLineInfo={correctionMeasure ? \"** mesures de correction prises en compte\" : undefined}\n        indicateurSexeSurRepresente={indicateurSexeSurRepresente}\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurDeux(\"None\")}>modifier les données saisies</ActionLink>\n      </p>\n    </div>\n  )\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250,\n    marginTop: 64,\n  }),\n  edit: css({\n    marginTop: 14,\n    marginBottom: 14,\n    textAlign: \"center\",\n  }),\n}\n\nexport default IndicateurDeuxResult\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { useCallback, ReactNode } from \"react\"\nimport { RouteComponentProps } from \"react-router-dom\"\n\nimport { AppState, FormState, ActionType, ActionIndicateurDeuxData } from \"../../globals\"\n\nimport calculIndicateurDeux from \"../../utils/calculsEgaProIndicateurDeux\"\n\nimport Page from \"../../components/Page\"\nimport LayoutFormAndResult from \"../../components/LayoutFormAndResult\"\nimport InfoBlock from \"../../components/ds/InfoBlock\"\nimport ActionBar from \"../../components/ActionBar\"\nimport ActionLink from \"../../components/ActionLink\"\nimport { ButtonSimulatorLink, TextSimulatorLink } from \"../../components/SimulatorLink\"\n\nimport IndicateurDeuxForm from \"./IndicateurDeuxForm\"\nimport IndicateurDeuxResult from \"./IndicateurDeuxResult\"\n\nimport { messageMesureCorrection } from \"../../utils/helpers\"\nimport { useTitle } from \"../../utils/hooks\"\n\ninterface Props extends RouteComponentProps {\n  state: AppState\n  dispatch: (action: ActionType) => void\n}\n\nconst title = \"Indicateur écart de taux d’augmentation individuelle hors promotion\"\n\nfunction IndicateurDeux({ state, dispatch }: Props) {\n  useTitle(title)\n\n  const updateIndicateurDeux = useCallback(\n    (data: ActionIndicateurDeuxData) => dispatch({ type: \"updateIndicateurDeux\", data }),\n    [dispatch],\n  )\n\n  const validateIndicateurDeux = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurDeux\", valid }),\n    [dispatch],\n  )\n\n  const {\n    effectifsIndicateurCalculable,\n    effectifEtEcartAugmentParGroupe,\n    indicateurCalculable,\n    indicateurEcartAugmentation,\n    indicateurSexeSurRepresente,\n    noteIndicateurDeux,\n    correctionMeasure,\n  } = calculIndicateurDeux(state)\n\n  // le formulaire d'effectif n'est pas validé\n  if (state.effectif.formValidated !== \"Valid\") {\n    return (\n      <PageIndicateurDeux>\n        <InfoBlock\n          type=\"warning\"\n          title=\"Vous devez renseignez vos effectifs avant d’avoir accès à cet indicateur\"\n          text={<TextSimulatorLink to=\"/effectifs\" label=\"Renseigner les effectifs\" />}\n        />\n      </PageIndicateurDeux>\n    )\n  }\n\n  // les effectifs ne permettent pas de calculer l'indicateur\n  if (!effectifsIndicateurCalculable) {\n    return (\n      <PageIndicateurDeux>\n        <div>\n          <InfoBlock\n            type=\"warning\"\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"L’ensemble des groupes valables (c’est-à-dire comptant au moins 10 femmes et 10 hommes), représentent moins de 40% des effectifs.\"\n          />\n          <ActionBar>\n            <ButtonSimulatorLink to=\"/indicateur3\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurDeux>\n    )\n  }\n\n  // formulaire indicateur validé mais données renseignées ne permettent pas de calculer l'indicateur\n  if (state.indicateurDeux.formValidated === \"Valid\" && !indicateurCalculable) {\n    return (\n      <PageIndicateurDeux>\n        <div>\n          <InfoBlock\n            type=\"warning\"\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"Il n’y a pas eu d’augmentation individuelle durant la période de référence.\"\n          />\n          <ActionBar>\n            <ActionLink onClick={() => validateIndicateurDeux(\"None\")}>modifier les données saisies</ActionLink>\n          </ActionBar>\n          <ActionBar>\n            <ButtonSimulatorLink to=\"/indicateur3\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurDeux>\n    )\n  }\n\n  return (\n    <PageIndicateurDeux>\n      <LayoutFormAndResult\n        childrenForm={\n          <IndicateurDeuxForm\n            ecartAugmentParCategorieSocioPro={effectifEtEcartAugmentParGroupe}\n            presenceAugmentation={state.indicateurDeux.presenceAugmentation}\n            readOnly={state.indicateurDeux.formValidated === \"Valid\"}\n            updateIndicateurDeux={updateIndicateurDeux}\n            validateIndicateurDeux={validateIndicateurDeux}\n          />\n        }\n        childrenResult={\n          state.indicateurDeux.formValidated === \"Valid\" && (\n            <IndicateurDeuxResult\n              indicateurEcartAugmentation={indicateurEcartAugmentation}\n              indicateurSexeSurRepresente={indicateurSexeSurRepresente}\n              noteIndicateurDeux={noteIndicateurDeux}\n              correctionMeasure={correctionMeasure}\n              validateIndicateurDeux={validateIndicateurDeux}\n            />\n          )\n        }\n      />\n      {state.indicateurDeux.formValidated === \"Valid\" && correctionMeasure && (\n        <div css={styles.additionalInfo}>\n          <p>{messageMesureCorrection(indicateurSexeSurRepresente, \"d'augmentations\", \"20/20\")}</p>\n        </div>\n      )}\n    </PageIndicateurDeux>\n  )\n}\n\nfunction PageIndicateurDeux({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title={title}\n      tagline=\"Le pourcentage de femmes et d’hommes ayant été augmentés durant la période de référence, doit être renseigné par CSP.\"\n    >\n      {children}\n    </Page>\n  )\n}\n\nconst styles = {\n  additionalInfo: css({\n    color: \"#61676F\",\n    fontSize: 14,\n    fontStyle: \"italic\",\n    maxWidth: 500,\n    \"& > p\": {\n      marginBottom: 30,\n    },\n  }),\n}\n\nexport default IndicateurDeux\n","import IndicateurDeux from \"./IndicateurDeux\"\nexport default IndicateurDeux\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { Form } from \"react-final-form\"\nimport { FormState, ActionIndicateurTroisData } from \"../../globals\"\n\nimport {\n  // calculTotalEffectifsEtTauxPromotion,\n  // calculEcartTauxPromotion,\n  effectifEtEcartPromoGroup,\n} from \"../../utils/calculsEgaProIndicateurTrois\"\n\nimport BlocForm from \"../../components/BlocForm\"\nimport FieldInputsMenWomen from \"../../components/FieldInputsMenWomen\"\nimport RadiosBoolean from \"../../components/RadiosBoolean\"\nimport ActionBar from \"../../components/ActionBar\"\nimport FormAutoSave from \"../../components/FormAutoSave\"\nimport FormSubmit from \"../../components/FormSubmit\"\nimport { ButtonSimulatorLink } from \"../../components/SimulatorLink\"\n\nimport {\n  parseFloatFormValue,\n  parseFloatStateValue,\n  parseBooleanFormValue,\n  parseBooleanStateValue,\n  composeValidators,\n  minNumber,\n  mustBeNumber,\n  required,\n} from \"../../utils/formHelpers\"\nimport {\n  displayNameCategorieSocioPro,\n  // displayFractionPercent\n} from \"../../utils/helpers\"\n\nconst validator = composeValidators(required, mustBeNumber, minNumber(0))\n\nconst validateForm = ({\n  tauxPromotion,\n  presencePromotion,\n}: {\n  tauxPromotion: Array<{\n    tauxPromotionFemmes: string\n    tauxPromotionHommes: string\n  }>\n  presencePromotion: string\n}) => {\n  if (presencePromotion === \"false\") {\n    return undefined\n  }\n  const allInputs = tauxPromotion.flatMap(({ tauxPromotionFemmes, tauxPromotionHommes }) => [\n    tauxPromotionFemmes,\n    tauxPromotionHommes,\n  ])\n  if (allInputs.every((input) => input === \"0\" || input === \"\")) {\n    return {\n      notAll0: \"Tous les champs ne peuvent pas être à 0 si il y a eu des promotions\",\n    }\n  }\n  return\n}\n\ninterface Props {\n  ecartPromoParCategorieSocioPro: Array<effectifEtEcartPromoGroup>\n  presencePromotion: boolean\n  readOnly: boolean\n  updateIndicateurTrois: (data: ActionIndicateurTroisData) => void\n  validateIndicateurTrois: (valid: FormState) => void\n}\n\nfunction IndicateurTroisForm({\n  ecartPromoParCategorieSocioPro,\n  presencePromotion,\n  readOnly,\n  updateIndicateurTrois,\n  validateIndicateurTrois,\n}: Props) {\n  const initialValues = {\n    presencePromotion: parseBooleanStateValue(presencePromotion),\n    tauxPromotion: ecartPromoParCategorieSocioPro.map(\n      ({ tauxPromotionFemmes, tauxPromotionHommes, ...otherProps }: any) => ({\n        ...otherProps,\n        tauxPromotionFemmes: parseFloatStateValue(tauxPromotionFemmes),\n        tauxPromotionHommes: parseFloatStateValue(tauxPromotionHommes),\n      }),\n    ),\n  }\n\n  const saveForm = (formData: any) => {\n    const presencePromotion = parseBooleanFormValue(formData.presencePromotion)\n    const tauxPromotion = formData.tauxPromotion.map(\n      ({ categorieSocioPro, tauxPromotionFemmes, tauxPromotionHommes }: any) => ({\n        categorieSocioPro,\n        tauxPromotionFemmes: parseFloatFormValue(tauxPromotionFemmes),\n        tauxPromotionHommes: parseFloatFormValue(tauxPromotionHommes),\n      }),\n    )\n    updateIndicateurTrois({\n      tauxPromotion,\n      presencePromotion,\n    })\n  }\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData)\n    validateIndicateurTrois(\"Valid\")\n  }\n\n  // Only for Total with updated values\n  // const ecartPromoParCategorieSocioProPourTotal = ecartPromoParCategorieSocioPro.map(\n  //   (groupAugment, index) => {\n  //     const infoField = infoFields[index];\n  //     const tauxPromotionFemmes = parseFloatFormValue(\n  //       values[infoField.tauxPromotionFemmesName]\n  //     );\n  //     const tauxPromotionHommes = parseFloatFormValue(\n  //       values[infoField.tauxPromotionHommesName]\n  //     );\n  //     const ecartTauxPromotion = calculEcartTauxPromotion(\n  //       tauxPromotionFemmes,\n  //       tauxPromotionHommes\n  //     );\n  //     return {\n  //       ...groupAugment,\n  //       tauxPromotionFemmes,\n  //       tauxPromotionHommes,\n  //       ecartTauxPromotion\n  //     };\n  //   }\n  // );\n  // const {\n  //   totalTauxPromotionFemmes,\n  //   totalTauxPromotionHommes\n  // } = calculTotalEffectifsEtTauxPromotion(\n  //   ecartPromoParCategorieSocioProPourTotal\n  // );\n\n  return (\n    <Form\n      onSubmit={onSubmit}\n      validate={validateForm}\n      initialValues={initialValues}\n      // mandatory to not change user inputs\n      // because we want to keep wrong string inside the input\n      // we don't want to block string value\n      initialValuesEqual={() => true}\n    >\n      {({ handleSubmit, values, hasValidationErrors, errors, submitFailed }) => (\n        <form onSubmit={handleSubmit} css={styles.container}>\n          <FormAutoSave saveForm={saveForm} />\n          <RadiosBoolean\n            fieldName=\"presencePromotion\"\n            value={values.presencePromotion}\n            readOnly={readOnly}\n            labelTrue=\"il y a eu des promotions durant la période de référence\"\n            labelFalse=\"il n’y a pas eu de promotions durant la période de référence\"\n          />\n\n          {values.presencePromotion === \"true\" && (\n            <BlocForm\n              label=\"% de salariés promus\"\n              // footer={[\n              //   displayFractionPercent(totalTauxPromotionFemmes),\n              //   displayFractionPercent(totalTauxPromotionHommes)\n              // ]}\n            >\n              {ecartPromoParCategorieSocioPro.map(({ categorieSocioPro, validiteGroupe }, index) => {\n                return (\n                  <FieldInputsMenWomen\n                    key={categorieSocioPro}\n                    name={displayNameCategorieSocioPro(categorieSocioPro)}\n                    readOnly={readOnly}\n                    calculable={validiteGroupe}\n                    calculableNumber={10}\n                    mask=\"percent\"\n                    femmeFieldName={`tauxPromotion.${index}.tauxPromotionFemmes`}\n                    hommeFieldName={`tauxPromotion.${index}.tauxPromotionHommes`}\n                    validatorFemmes={validator}\n                    validatorHommes={validator}\n                  />\n                )\n              })}\n            </BlocForm>\n          )}\n\n          {readOnly ? (\n            <ActionBar>\n              <ButtonSimulatorLink to=\"/indicateur4\" label=\"suivant\" />\n            </ActionBar>\n          ) : (\n            <ActionBar>\n              <FormSubmit\n                hasValidationErrors={hasValidationErrors}\n                submitFailed={submitFailed}\n                errorMessage={\n                  errors.notAll0\n                    ? errors.notAll0\n                    : \"L’indicateur ne peut pas être validé si tous les champs ne sont pas remplis.\"\n                }\n              />\n            </ActionBar>\n          )}\n        </form>\n      )}\n    </Form>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n  }),\n}\n\nexport default IndicateurTroisForm\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\n\nimport { FormState } from \"../../globals\"\nimport { displayPercent, displaySexeSurRepresente } from \"../../utils/helpers\"\n\nimport ResultBubble from \"../../components/ResultBubble\"\nimport ActionLink from \"../../components/ActionLink\"\n\ninterface Props {\n  indicateurEcartPromotion: number | undefined\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined\n  noteIndicateurTrois: number | undefined\n  correctionMeasure: boolean\n  validateIndicateurTrois: (valid: FormState) => void\n}\n\nfunction IndicateurTroisResult({\n  indicateurEcartPromotion,\n  indicateurSexeSurRepresente,\n  noteIndicateurTrois,\n  correctionMeasure,\n  validateIndicateurTrois,\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={indicateurEcartPromotion !== undefined ? displayPercent(indicateurEcartPromotion) : \"--\"}\n        firstLineInfo={displaySexeSurRepresente(indicateurSexeSurRepresente)}\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={(noteIndicateurTrois !== undefined ? noteIndicateurTrois : \"--\") + \"/15\"}\n        secondLineInfo={correctionMeasure ? \"** mesures de correction prises en compte\" : undefined}\n        indicateurSexeSurRepresente={indicateurSexeSurRepresente}\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurTrois(\"None\")}>modifier les données saisies</ActionLink>\n      </p>\n    </div>\n  )\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250,\n    marginTop: 64,\n  }),\n  edit: css({\n    marginTop: 14,\n    marginBottom: 14,\n    textAlign: \"center\",\n  }),\n}\n\nexport default IndicateurTroisResult\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { useCallback, ReactNode } from \"react\"\nimport { RouteComponentProps } from \"react-router-dom\"\n\nimport { AppState, FormState, ActionType, ActionIndicateurTroisData } from \"../../globals\"\n\nimport calculIndicateurTrois from \"../../utils/calculsEgaProIndicateurTrois\"\n\nimport Page from \"../../components/Page\"\nimport LayoutFormAndResult from \"../../components/LayoutFormAndResult\"\nimport InfoBlock from \"../../components/ds/InfoBlock\"\nimport ActionBar from \"../../components/ActionBar\"\nimport ActionLink from \"../../components/ActionLink\"\nimport { ButtonSimulatorLink, TextSimulatorLink } from \"../../components/SimulatorLink\"\n\nimport IndicateurTroisForm from \"./IndicateurTroisForm\"\nimport IndicateurTroisResult from \"./IndicateurTroisResult\"\n\nimport { messageMesureCorrection } from \"../../utils/helpers\"\nimport { useTitle } from \"../../utils/hooks\"\n\ninterface Props extends RouteComponentProps {\n  state: AppState\n  dispatch: (action: ActionType) => void\n}\n\nconst title = \"Indicateur écart de taux de promotion\"\n\nfunction IndicateurTrois({ state, dispatch }: Props) {\n  useTitle(title)\n\n  const updateIndicateurTrois = useCallback(\n    (data: ActionIndicateurTroisData) => dispatch({ type: \"updateIndicateurTrois\", data }),\n    [dispatch],\n  )\n\n  const validateIndicateurTrois = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurTrois\", valid }),\n    [dispatch],\n  )\n\n  const {\n    effectifsIndicateurCalculable,\n    effectifEtEcartPromoParGroupe,\n    indicateurCalculable,\n    indicateurEcartPromotion,\n    indicateurSexeSurRepresente,\n    noteIndicateurTrois,\n    correctionMeasure,\n  } = calculIndicateurTrois(state)\n\n  // le formulaire d'effectif n'est pas validé\n  if (state.effectif.formValidated !== \"Valid\") {\n    return (\n      <PageIndicateurTrois>\n        <InfoBlock\n          type=\"warning\"\n          title=\"Vous devez renseignez vos effectifs avant d’avoir accès à cet indicateur\"\n          text={<TextSimulatorLink to=\"/effectifs\" label=\"Renseigner les effectifs\" />}\n        />\n      </PageIndicateurTrois>\n    )\n  }\n\n  // les effectifs ne permettent pas de calculer l'indicateur\n  if (!effectifsIndicateurCalculable) {\n    return (\n      <PageIndicateurTrois>\n        <div>\n          <InfoBlock\n            type=\"warning\"\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"L’ensemble des groupes valables (c’est-à-dire comptant au moins 10 femmes et 10 hommes), représentent moins de 40% des effectifs.\"\n          />\n          <ActionBar>\n            <ButtonSimulatorLink to=\"/indicateur4\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurTrois>\n    )\n  }\n\n  // formulaire indicateur validé mais données renseignées ne permettent pas de calculer l'indicateur\n  if (state.indicateurTrois.formValidated === \"Valid\" && !indicateurCalculable) {\n    return (\n      <PageIndicateurTrois>\n        <div>\n          <InfoBlock\n            type=\"warning\"\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"Il n’y a pas eu de promotion durant la période de référence.\"\n          />\n          <ActionBar>\n            <ActionLink onClick={() => validateIndicateurTrois(\"None\")}>modifier les données saisies</ActionLink>\n          </ActionBar>\n          <ActionBar>\n            <ButtonSimulatorLink to=\"/indicateur4\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurTrois>\n    )\n  }\n\n  return (\n    <PageIndicateurTrois>\n      <LayoutFormAndResult\n        childrenForm={\n          <IndicateurTroisForm\n            ecartPromoParCategorieSocioPro={effectifEtEcartPromoParGroupe}\n            presencePromotion={state.indicateurTrois.presencePromotion}\n            readOnly={state.indicateurTrois.formValidated === \"Valid\"}\n            updateIndicateurTrois={updateIndicateurTrois}\n            validateIndicateurTrois={validateIndicateurTrois}\n          />\n        }\n        childrenResult={\n          state.indicateurTrois.formValidated === \"Valid\" && (\n            <IndicateurTroisResult\n              indicateurEcartPromotion={indicateurEcartPromotion}\n              indicateurSexeSurRepresente={indicateurSexeSurRepresente}\n              noteIndicateurTrois={noteIndicateurTrois}\n              correctionMeasure={correctionMeasure}\n              validateIndicateurTrois={validateIndicateurTrois}\n            />\n          )\n        }\n      />\n      {state.indicateurTrois.formValidated === \"Valid\" && correctionMeasure && (\n        <div css={styles.additionalInfo}>\n          <p>{messageMesureCorrection(indicateurSexeSurRepresente, \"de promotions\", \"15/15\")}</p>\n        </div>\n      )}\n    </PageIndicateurTrois>\n  )\n}\n\nfunction PageIndicateurTrois({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title={title}\n      tagline=\"Le pourcentage de femmes et d’hommes ayant été promus durant la période de référence, doit être renseigné par CSP.\"\n    >\n      {children}\n    </Page>\n  )\n}\n\nconst styles = {\n  additionalInfo: css({\n    color: \"#61676F\",\n    fontSize: 14,\n    fontStyle: \"italic\",\n    maxWidth: 500,\n    \"& > p\": {\n      marginBottom: 30,\n    },\n  }),\n}\n\nexport default IndicateurTrois\n","import IndicateurTrois from \"./IndicateurTrois\"\nexport default IndicateurTrois\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { Form } from \"react-final-form\"\nimport { FormState, ActionIndicateurDeuxTroisData, PeriodeDeclaration, GroupeEffectif } from \"../../globals\"\n\nimport BlocForm from \"../../components/BlocForm\"\nimport FieldInputsMenWomen from \"../../components/FieldInputsMenWomen\"\nimport RadiosBoolean from \"../../components/RadiosBoolean\"\nimport RadioButtons from \"../../components/RadioButtons\"\nimport ActionBar from \"../../components/ActionBar\"\nimport FormAutoSave from \"../../components/FormAutoSave\"\nimport FormSubmit from \"../../components/FormSubmit\"\nimport { ButtonSimulatorLink } from \"../../components/SimulatorLink\"\n\nimport {\n  parseIntFormValue,\n  parseIntStateValue,\n  parseBooleanFormValue,\n  parseBooleanStateValue,\n  parsePeriodeDeclarationFormValue,\n  ValidatorFunction,\n  maxNumber,\n  composeValidators,\n  required,\n  minNumber,\n  mustBeInteger,\n  mustBeNumber,\n} from \"../../utils/formHelpers\"\nimport { calendarYear, dateToString, parseDate, Year } from \"../../utils/helpers\"\nimport totalNombreSalaries from \"../../utils/totalNombreSalaries\"\n\nconst validator = composeValidators(required, mustBeNumber, mustBeInteger, minNumber(0))\ninterface Props {\n  finPeriodeReference: string\n  presenceAugmentationPromotion: boolean\n  nombreAugmentationPromotionFemmes: number | undefined\n  nombreAugmentationPromotionHommes: number | undefined\n  periodeDeclaration: PeriodeDeclaration\n  nombreSalaries: GroupeEffectif[]\n  readOnly: boolean\n  updateIndicateurDeuxTrois: (data: ActionIndicateurDeuxTroisData) => void\n  validateIndicateurDeuxTrois: (valid: FormState) => void\n}\n\nfunction IndicateurDeuxTroisForm({\n  finPeriodeReference,\n  presenceAugmentationPromotion,\n  nombreAugmentationPromotionFemmes,\n  nombreAugmentationPromotionHommes,\n  periodeDeclaration,\n  nombreSalaries,\n  readOnly,\n  updateIndicateurDeuxTrois,\n  validateIndicateurDeuxTrois,\n}: Props) {\n  const initialValues = {\n    presenceAugmentationPromotion: parseBooleanStateValue(presenceAugmentationPromotion),\n    nombreAugmentationPromotionFemmes: parseIntStateValue(nombreAugmentationPromotionFemmes),\n    nombreAugmentationPromotionHommes: parseIntStateValue(nombreAugmentationPromotionHommes),\n    periodeDeclaration: periodeDeclaration,\n  }\n\n  const saveForm = (formData: any) => {\n    const presenceAugmentationPromotion = parseBooleanFormValue(formData.presenceAugmentationPromotion)\n    const nombreAugmentationPromotionFemmes = parseIntFormValue(formData.nombreAugmentationPromotionFemmes)\n    const nombreAugmentationPromotionHommes = parseIntFormValue(formData.nombreAugmentationPromotionHommes)\n    const periodeDeclaration = parsePeriodeDeclarationFormValue(formData.periodeDeclaration)\n    updateIndicateurDeuxTrois({\n      presenceAugmentationPromotion,\n      nombreAugmentationPromotionFemmes,\n      nombreAugmentationPromotionHommes,\n      periodeDeclaration,\n    })\n  }\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData)\n    validateIndicateurDeuxTrois(\"Valid\")\n  }\n\n  const oneYear = dateToString(parseDate(calendarYear(finPeriodeReference, Year.Subtract, 1)))\n  const twoYears = dateToString(parseDate(calendarYear(finPeriodeReference, Year.Subtract, 2)))\n  const threeYears = dateToString(parseDate(calendarYear(finPeriodeReference, Year.Subtract, 3)))\n  const dateFinPeriodeReference = dateToString(parseDate(finPeriodeReference))\n\n  const { totalNombreSalariesHomme: totalNombreSalariesHommes, totalNombreSalariesFemme: totalNombreSalariesFemmes } =\n    totalNombreSalaries(nombreSalaries)\n\n  const validateEffectifs: (max: number, gender: string) => ValidatorFunction = (max, gender) => (value) =>\n    maxNumber(max)(value) ? `Le nombre ${gender} ne peut pas être supérieur aux effectifs` : undefined\n\n  return (\n    <Form\n      onSubmit={onSubmit}\n      initialValues={initialValues}\n      // mandatory to not change user inputs\n      // because we want to keep wrong string inside the input\n      // we don't want to block string value\n      initialValuesEqual={() => true}\n    >\n      {({ handleSubmit, values, hasValidationErrors, submitFailed }) => (\n        <form onSubmit={handleSubmit} css={styles.container}>\n          <FormAutoSave saveForm={saveForm} />\n          <RadioButtons\n            fieldName=\"periodeDeclaration\"\n            label=\"Sur quelle période souhaitez-vous calculer votre indicateur ?\"\n            value={values.periodeDeclaration}\n            readOnly={readOnly}\n            choices={[\n              {\n                label: `Période de référence de l'index (du ${oneYear} au ${dateFinPeriodeReference})`,\n                value: \"unePeriodeReference\",\n              },\n              {\n                label: `Période de référence de 2 ans (du ${twoYears} au ${dateFinPeriodeReference})`,\n                value: \"deuxPeriodesReference\",\n              },\n              {\n                label: `Période de référence de 3 ans (du ${threeYears} au ${dateFinPeriodeReference})`,\n                value: \"troisPeriodesReference\",\n              },\n            ]}\n          />\n\n          <div css={styles.spacer} />\n\n          <RadiosBoolean\n            fieldName=\"presenceAugmentationPromotion\"\n            value={values.presenceAugmentationPromotion}\n            readOnly={readOnly}\n            labelTrue=\"il y a eu des augmentations durant la période de déclaration\"\n            labelFalse=\"il n’y a pas eu d'augmentations durant la période de déclaration\"\n          />\n\n          {values.presenceAugmentationPromotion === \"true\" && (\n            <BlocForm>\n              <FieldInputsMenWomen\n                name=\"nombre de salariés augmentés\"\n                readOnly={readOnly}\n                calculable={true} // This isn't used here, if the field is not calculable it's because of the number of men/women declared in the \"effectifs\"\n                calculableNumber={0} // Same here.\n                mask=\"number\"\n                femmeFieldName=\"nombreAugmentationPromotionFemmes\"\n                hommeFieldName=\"nombreAugmentationPromotionHommes\"\n                validatorFemmes={composeValidators(\n                  validator,\n                  validateEffectifs(totalNombreSalariesFemmes, \"de femmes\"),\n                )}\n                validatorHommes={composeValidators(validator, validateEffectifs(totalNombreSalariesHommes, \"d'hommes\"))}\n              />\n            </BlocForm>\n          )}\n\n          {readOnly ? (\n            <ActionBar>\n              <ButtonSimulatorLink to=\"/indicateur4\" label=\"suivant\" />\n            </ActionBar>\n          ) : (\n            <ActionBar>\n              <FormSubmit\n                hasValidationErrors={hasValidationErrors}\n                submitFailed={submitFailed}\n                errorMessage=\"L’indicateur ne peut pas être validé si tous les champs ne sont pas remplis.\"\n              />\n            </ActionBar>\n          )}\n        </form>\n      )}\n    </Form>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n  }),\n  spacer: css({\n    marginTop: \"2em\",\n  }),\n}\n\nexport default IndicateurDeuxTroisForm\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\n\nimport { FormState } from \"../../globals\"\nimport { displaySexeSurRepresente } from \"../../utils/helpers\"\nimport { Result } from \"./IndicateurDeuxTrois\"\n\nimport ResultBubble from \"../../components/ResultBubble\"\nimport ActionLink from \"../../components/ActionLink\"\n\ninterface Props {\n  bestResult: Result\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined\n  noteIndicateurDeuxTrois: number | undefined\n  correctionMeasure: boolean\n  validateIndicateurDeuxTrois: (valid: FormState) => void\n}\n\nfunction IndicateurDeuxTroisResult({\n  bestResult,\n  indicateurSexeSurRepresente,\n  noteIndicateurDeuxTrois,\n  correctionMeasure,\n  validateIndicateurDeuxTrois,\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel={bestResult.label}\n        firstLineData={bestResult.result}\n        firstLineInfo={displaySexeSurRepresente(indicateurSexeSurRepresente)}\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={(noteIndicateurDeuxTrois !== undefined ? noteIndicateurDeuxTrois : \"--\") + \"/35\"}\n        secondLineInfo={correctionMeasure ? \"** mesures de correction prises en compte\" : undefined}\n        indicateurSexeSurRepresente={indicateurSexeSurRepresente}\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurDeuxTrois(\"None\")}>modifier les données saisies</ActionLink>\n      </p>\n    </div>\n  )\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250,\n    marginTop: 64,\n  }),\n  edit: css({\n    marginTop: 14,\n    marginBottom: 14,\n    textAlign: \"center\",\n  }),\n}\n\nexport default IndicateurDeuxTroisResult\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { useCallback, ReactNode } from \"react\"\nimport { RouteComponentProps } from \"react-router-dom\"\n\nimport { AppState, FormState, ActionType, ActionIndicateurDeuxTroisData } from \"../../globals\"\n\nimport calculIndicateurDeuxTrois, {\n  calculPlusPetitNombreSalaries,\n  calculBarem,\n} from \"../../utils/calculsEgaProIndicateurDeuxTrois\"\nimport totalNombreSalaries from \"../../utils/totalNombreSalaries\"\n\nimport Page from \"../../components/Page\"\nimport LayoutFormAndResult from \"../../components/LayoutFormAndResult\"\nimport InfoBlock from \"../../components/ds/InfoBlock\"\nimport ActionBar from \"../../components/ActionBar\"\nimport ActionLink from \"../../components/ActionLink\"\nimport { ButtonSimulatorLink, TextSimulatorLink } from \"../../components/SimulatorLink\"\nimport { messageEcartNombreEquivalentSalaries, displayPercent, messageMesureCorrection } from \"../../utils/helpers\"\n\nimport IndicateurDeuxTroisForm from \"./IndicateurDeuxTroisForm\"\nimport IndicateurDeuxTroisResult from \"./IndicateurDeuxTroisResult\"\nimport { useTitle } from \"../../utils/hooks\"\n\ninterface Props extends RouteComponentProps {\n  state: AppState\n  dispatch: (action: ActionType) => void\n}\n\nconst title = \"Indicateur écart de taux d'augmentation\"\n\nfunction IndicateurDeuxTrois({ state, dispatch }: Props) {\n  useTitle(title)\n\n  const updateIndicateurDeuxTrois = useCallback(\n    (data: ActionIndicateurDeuxTroisData) => dispatch({ type: \"updateIndicateurDeuxTrois\", data }),\n    [dispatch],\n  )\n\n  const validateIndicateurDeuxTrois = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurDeuxTrois\", valid }),\n    [dispatch],\n  )\n\n  const {\n    effectifsIndicateurCalculable,\n    indicateurEcartAugmentationPromotion,\n    indicateurEcartNombreEquivalentSalaries,\n    indicateurSexeSurRepresente,\n    noteIndicateurDeuxTrois,\n    correctionMeasure,\n  } = calculIndicateurDeuxTrois(state)\n\n  // le formulaire d'informations n'est pas validé\n  if (state.informations.formValidated !== \"Valid\") {\n    return (\n      <PageIndicateurDeuxTrois>\n        <InfoBlock\n          type=\"warning\"\n          title=\"Vous devez renseignez vos informations d'entreprise avant d’avoir accès à cet indicateur\"\n          text={<TextSimulatorLink to=\"/informations\" label=\"Renseigner les informations\" />}\n        />\n      </PageIndicateurDeuxTrois>\n    )\n  }\n\n  // le formulaire d'effectif n'est pas validé\n  if (state.effectif.formValidated !== \"Valid\") {\n    return (\n      <PageIndicateurDeuxTrois>\n        <InfoBlock\n          type=\"warning\"\n          title=\"Vous devez renseignez vos effectifs avant d’avoir accès à cet indicateur\"\n          text={<TextSimulatorLink to=\"/effectifs\" label=\"Renseigner les effectifs\" />}\n        />\n      </PageIndicateurDeuxTrois>\n    )\n  }\n\n  // les effectifs ne permettent pas de calculer l'indicateur\n  if (!effectifsIndicateurCalculable) {\n    return (\n      <PageIndicateurDeuxTrois>\n        <div>\n          <InfoBlock\n            type=\"warning\"\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"Les effectifs comprennent moins de 5 femmes ou moins de 5 hommes.\"\n          />\n          <ActionBar>\n            <ButtonSimulatorLink to=\"/indicateur4\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurDeuxTrois>\n    )\n  }\n\n  // formulaire indicateur validé mais données renseignées ne permettent pas de calculer l'indicateur\n  if (state.indicateurDeuxTrois.formValidated === \"Valid\" && !state.indicateurDeuxTrois.presenceAugmentationPromotion) {\n    return (\n      <PageIndicateurDeuxTrois>\n        <div>\n          <InfoBlock\n            type=\"warning\"\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text=\"Il n’y a pas eu d'augmentation durant la période de référence.\"\n          />\n          <ActionBar>\n            <ActionLink onClick={() => validateIndicateurDeuxTrois(\"None\")}>modifier les données saisies</ActionLink>\n          </ActionBar>\n          <ActionBar>\n            <ButtonSimulatorLink to=\"/indicateur4\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurDeuxTrois>\n    )\n  }\n\n  const results = getResults(indicateurEcartAugmentationPromotion, indicateurEcartNombreEquivalentSalaries)\n\n  const { totalNombreSalariesHomme: totalNombreSalariesHommes, totalNombreSalariesFemme: totalNombreSalariesFemmes } =\n    totalNombreSalaries(state.effectif.nombreSalaries)\n  const plusPetitNombreSalaries = calculPlusPetitNombreSalaries(totalNombreSalariesHommes, totalNombreSalariesFemmes)\n\n  return (\n    <PageIndicateurDeuxTrois>\n      <LayoutFormAndResult\n        childrenForm={\n          <IndicateurDeuxTroisForm\n            finPeriodeReference={state.informations.finPeriodeReference}\n            presenceAugmentationPromotion={state.indicateurDeuxTrois.presenceAugmentationPromotion}\n            nombreAugmentationPromotionFemmes={state.indicateurDeuxTrois.nombreAugmentationPromotionFemmes}\n            nombreAugmentationPromotionHommes={state.indicateurDeuxTrois.nombreAugmentationPromotionHommes}\n            periodeDeclaration={state.indicateurDeuxTrois.periodeDeclaration}\n            nombreSalaries={state.effectif.nombreSalaries}\n            readOnly={state.indicateurDeuxTrois.formValidated === \"Valid\"}\n            updateIndicateurDeuxTrois={updateIndicateurDeuxTrois}\n            validateIndicateurDeuxTrois={validateIndicateurDeuxTrois}\n          />\n        }\n        childrenResult={\n          state.indicateurDeuxTrois.formValidated === \"Valid\" && (\n            <IndicateurDeuxTroisResult\n              bestResult={results.best}\n              indicateurSexeSurRepresente={indicateurSexeSurRepresente}\n              noteIndicateurDeuxTrois={noteIndicateurDeuxTrois}\n              correctionMeasure={correctionMeasure}\n              validateIndicateurDeuxTrois={validateIndicateurDeuxTrois}\n            />\n          )\n        }\n      />\n      {state.indicateurDeuxTrois.formValidated === \"Valid\" && (\n        <AdditionalInfo\n          results={results}\n          indicateurSexeSurRepresente={indicateurSexeSurRepresente}\n          plusPetitNombreSalaries={plusPetitNombreSalaries}\n          correctionMeasure={correctionMeasure}\n        />\n      )}\n    </PageIndicateurDeuxTrois>\n  )\n}\n\nfunction PageIndicateurDeuxTrois({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title={title}\n      tagline=\"Le nombre de femmes et d’hommes ayant été augmentés durant la période de référence, ou pendant les deux ou trois dernières années.\"\n    >\n      {children}\n    </Page>\n  )\n}\n\nexport type Result = { label: string; result: string; note: number }\nexport type Results = { best: Result; worst: Result }\n\nexport const getResults = (\n  indicateurEcartAugmentationPromotion: number | undefined,\n  indicateurEcartNombreEquivalentSalaries: number | undefined,\n): Results => {\n  const ecartTaux = {\n    label: \"votre résultat en pourcentage est de\",\n    result:\n      indicateurEcartAugmentationPromotion !== undefined ? displayPercent(indicateurEcartAugmentationPromotion) : \"--\",\n    note: indicateurEcartAugmentationPromotion !== undefined ? calculBarem(indicateurEcartAugmentationPromotion) : 0,\n  }\n  const ecartNbSalaries = {\n    label: \"votre résultat en nombre équivalent de salariés* est\",\n    result: indicateurEcartNombreEquivalentSalaries !== undefined ? `${indicateurEcartNombreEquivalentSalaries}` : \"--\",\n    note:\n      indicateurEcartNombreEquivalentSalaries !== undefined ? calculBarem(indicateurEcartNombreEquivalentSalaries) : 0,\n  }\n  const results =\n    indicateurEcartNombreEquivalentSalaries !== undefined &&\n    indicateurEcartAugmentationPromotion !== undefined &&\n    indicateurEcartNombreEquivalentSalaries < indicateurEcartAugmentationPromotion\n      ? { best: ecartNbSalaries, worst: ecartTaux }\n      : { worst: ecartNbSalaries, best: ecartTaux }\n  return results\n}\n\nexport function AdditionalInfo({\n  indicateurSexeSurRepresente,\n  plusPetitNombreSalaries,\n  correctionMeasure,\n  results,\n}: {\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined\n  plusPetitNombreSalaries: \"hommes\" | \"femmes\" | undefined\n  correctionMeasure: boolean\n  results: Results\n}) {\n  return (\n    <div css={styles.additionalInfo}>\n      <p>\n        {results.worst.label} <strong>{results.worst.result}</strong>, la note obtenue{\" \"}\n        {correctionMeasure && \"avant prise en compte des mesures de correction \"}\n        est de <strong>{results.worst.note}/35</strong>\n        <br />\n        {results.worst.note < results.best.note &&\n          \"cette note n'a pas été retenue dans le calcul de votre index car elle est la moins favorable\"}\n      </p>\n      <p>{messageEcartNombreEquivalentSalaries(indicateurSexeSurRepresente, plusPetitNombreSalaries)}</p>\n      {correctionMeasure && <p>{messageMesureCorrection(indicateurSexeSurRepresente, \"d'augmentations\", \"35/35\")}</p>}\n    </div>\n  )\n}\n\nconst styles = {\n  additionalInfo: css({\n    color: \"#61676F\",\n    fontSize: 14,\n    fontStyle: \"italic\",\n    maxWidth: 500,\n    \"& > p\": {\n      marginBottom: 30,\n    },\n  }),\n}\n\nexport default IndicateurDeuxTrois\n","import IndicateurDeuxTrois from \"./IndicateurDeuxTrois\"\nexport default IndicateurDeuxTrois\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { useField } from \"react-final-form\"\nimport { ValidatorFunction } from \"../utils/formHelpers\"\n\nimport globalStyles from \"../utils/globalStyles\"\n\nimport { CellHead, Cell } from \"./Cell\"\nimport CellInput from \"./CellInput\"\nimport { IconValid, IconInvalid } from \"./ds/Icons\"\n\ninterface Props {\n  fieldName: string\n  label: string\n  readOnly: boolean\n  theme?: \"hommes\" | \"femmes\"\n  validator?: ValidatorFunction\n}\n\nfunction FieldInput({ fieldName, label, readOnly, theme = \"femmes\", validator }: Props) {\n  const field = useField(fieldName, { validate: validator })\n  const error = field.meta.touched && field.meta.error\n\n  return (\n    <div css={styles.container}>\n      <div css={styles.row}>\n        <CellHead style={[styles.cellHead, error && styles.cellHeadError]}>\n          <div css={styles.cellHeadInner}>\n            {field.meta.valid ? (\n              <div css={styles.cellHeadIcon}>\n                <IconValid />\n              </div>\n            ) : error ? (\n              <div css={styles.cellHeadIcon}>\n                <IconInvalid />\n              </div>\n            ) : null}\n            <span>{label}</span>\n          </div>\n        </CellHead>\n\n        {readOnly ? (\n          <Cell style={[styles.cellEmpty, theme === \"hommes\" ? styles.cellEmptyMen : styles.cellEmptyWomen]}>\n            {field.input.value}\n          </Cell>\n        ) : (\n          <CellInput field={field} style={theme === \"hommes\" ? styles.cellMen : styles.cellWomen} />\n        )}\n      </div>\n      {error && <div css={styles.error}>{error}</div>}\n    </div>\n  )\n}\n\nexport const HEIGHT = 58\nexport const MARGIN_TOP = 10\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n    height: HEIGHT,\n    marginTop: MARGIN_TOP,\n  }),\n  row: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-end\",\n  }),\n  cellHead: css({\n    height: 29,\n    paddingBottom: 2,\n    display: \"flex\",\n    alignItems: \"flex-end\",\n    borderBottom: `solid ${globalStyles.colors.default} 1px`,\n    fontSize: 14,\n  }),\n  cellHeadInner: css({\n    display: \"flex\",\n    alignItems: \"baseline\",\n  }),\n  cellHeadError: css({\n    color: globalStyles.colors.error,\n    borderColor: \"transparent\",\n  }),\n  cellHeadIcon: css({\n    marginRight: 5,\n  }),\n  cellMen: css({\n    borderColor: globalStyles.colors.men,\n  }),\n  cellWomen: css({\n    borderColor: globalStyles.colors.women,\n  }),\n  cellEmpty: css({\n    height: 22,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  }),\n  cellEmptyMen: css({\n    color: globalStyles.colors.men,\n  }),\n  cellEmptyWomen: css({\n    color: globalStyles.colors.women,\n  }),\n  error: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 18,\n    marginTop: 5,\n    color: globalStyles.colors.error,\n    fontSize: 12,\n    fontStyle: \"italic\",\n    lineHeight: \"12px\",\n    borderBottom: `solid ${globalStyles.colors.error} 1px`,\n  }),\n}\n\nexport default FieldInput\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { Fragment } from \"react\"\nimport { Form } from \"react-final-form\"\nimport { AppState, FormState, ActionIndicateurQuatreData } from \"../../globals\"\n\nimport {\n  parseIntFormValue,\n  parseIntStateValue,\n  parseBooleanFormValue,\n  parseBooleanStateValue,\n  required,\n  mustBeNumber,\n  maxNumber,\n  composeValidators,\n  minNumber,\n  ValidatorFunction,\n  mustBeInteger,\n} from \"../../utils/formHelpers\"\n\nimport { BlocFormLight } from \"../../components/BlocForm\"\nimport FieldInput, { HEIGHT as FieldInputHeight, MARGIN_TOP as FieldInputMarginTop } from \"../../components/FieldInput\"\nimport RadiosBoolean from \"../../components/RadiosBoolean\"\nimport ActionBar from \"../../components/ActionBar\"\nimport FormAutoSave from \"../../components/FormAutoSave\"\nimport FormSubmit from \"../../components/FormSubmit\"\nimport { ButtonSimulatorLink } from \"../../components/SimulatorLink\"\n\nconst validator = composeValidators(required, mustBeNumber, mustBeInteger, minNumber(0))\n\nconst lessThanPreviousField: (previousField: string) => ValidatorFunction = (previousField) => (value) =>\n  isNaN(Number(previousField))\n    ? undefined\n    : maxNumber(Number(previousField))(value)\n    ? \"ce champ ne peut être supérieur au précédent\"\n    : undefined\n\n///////////////\n\ninterface Props {\n  indicateurQuatre: AppState[\"indicateurQuatre\"]\n  readOnly: boolean\n  updateIndicateurQuatre: (data: ActionIndicateurQuatreData) => void\n  validateIndicateurQuatre: (valid: FormState) => void\n}\n\nfunction IndicateurQuatreForm({ indicateurQuatre, readOnly, updateIndicateurQuatre, validateIndicateurQuatre }: Props) {\n  const initialValues = {\n    presenceCongeMat: parseBooleanStateValue(indicateurQuatre.presenceCongeMat),\n    nombreSalarieesPeriodeAugmentation: parseIntStateValue(indicateurQuatre.nombreSalarieesPeriodeAugmentation),\n    nombreSalarieesAugmentees: parseIntStateValue(indicateurQuatre.nombreSalarieesAugmentees),\n  }\n\n  const saveForm = (formData: any) => {\n    const { presenceCongeMat, nombreSalarieesPeriodeAugmentation, nombreSalarieesAugmentees } = formData\n\n    updateIndicateurQuatre({\n      presenceCongeMat: parseBooleanFormValue(presenceCongeMat),\n      nombreSalarieesPeriodeAugmentation: parseIntFormValue(nombreSalarieesPeriodeAugmentation),\n      nombreSalarieesAugmentees: parseIntFormValue(nombreSalarieesAugmentees),\n    })\n  }\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData)\n    validateIndicateurQuatre(\"Valid\")\n  }\n\n  return (\n    <Form\n      onSubmit={onSubmit}\n      initialValues={initialValues}\n      // mandatory to not change user inputs\n      // because we want to keep wrong string inside the input\n      // we don't want to block string value\n      initialValuesEqual={() => true}\n    >\n      {({ handleSubmit, values, hasValidationErrors, submitFailed }) => (\n        <form onSubmit={handleSubmit} css={styles.container}>\n          <FormAutoSave saveForm={saveForm} />\n          <RadiosBoolean\n            fieldName=\"presenceCongeMat\"\n            value={values.presenceCongeMat}\n            readOnly={readOnly}\n            labelTrue={\n              <Fragment>\n                <strong>il y a eu des retours de congé maternité</strong> pendant la période de référence\n              </Fragment>\n            }\n            labelFalse={\n              <Fragment>\n                <strong>il n’y a pas eu de retour de congé maternité</strong> pendant la période de référence\n              </Fragment>\n            }\n          />\n\n          {values.presenceCongeMat === \"true\" && (\n            <BlocFormLight>\n              <FieldInput\n                fieldName=\"nombreSalarieesPeriodeAugmentation\"\n                label=\"parmi ces retours, combien étaient en congé maternité pendant qu'il y a eu une/ou des augmentations salariales dans l'entreprise ?\"\n                readOnly={readOnly}\n                validator={validator}\n              />\n              <div css={styles.spacer} />\n              <FieldInput\n                fieldName=\"nombreSalarieesAugmentees\"\n                label=\"parmi ces salariées, combien ont bénéficié d’une augmentation à leur retour de congé maternité ?\"\n                readOnly={readOnly}\n                validator={composeValidators(\n                  validator,\n                  lessThanPreviousField(values.nombreSalarieesPeriodeAugmentation),\n                )}\n              />\n            </BlocFormLight>\n          )}\n\n          {readOnly ? (\n            <ActionBar>\n              <ButtonSimulatorLink to=\"/indicateur5\" label=\"suivant\" />\n            </ActionBar>\n          ) : (\n            <ActionBar>\n              <FormSubmit\n                hasValidationErrors={hasValidationErrors}\n                submitFailed={submitFailed}\n                errorMessage=\"L’indicateur ne peut pas être validé si tous les champs ne sont pas remplis.\"\n              />\n            </ActionBar>\n          )}\n        </form>\n      )}\n    </Form>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n  }),\n  spacer: css({\n    height: 8,\n  }),\n  emptyFields: css({\n    height: (FieldInputHeight + FieldInputMarginTop) * 2,\n  }),\n}\n\nexport default IndicateurQuatreForm\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\n\nimport { FormState } from \"../../globals\"\n\nimport { displayPercent } from \"../../utils/helpers\"\n\nimport ResultBubble from \"../../components/ResultBubble\"\nimport ActionLink from \"../../components/ActionLink\"\n\ninterface Props {\n  indicateurEcartNombreSalarieesAugmentees: number | undefined\n  noteIndicateurQuatre: number | undefined\n  validateIndicateurQuatre: (valid: FormState) => void\n}\n\nfunction IndicateurQuatreResult({\n  indicateurEcartNombreSalarieesAugmentees,\n  noteIndicateurQuatre,\n  validateIndicateurQuatre,\n}: Props) {\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={\n          indicateurEcartNombreSalarieesAugmentees !== undefined\n            ? displayPercent(indicateurEcartNombreSalarieesAugmentees, 1)\n            : \"--\"\n        }\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={(noteIndicateurQuatre !== undefined ? noteIndicateurQuatre : \"--\") + \"/15\"}\n        indicateurSexeSurRepresente=\"femmes\"\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurQuatre(\"None\")}>modifier les données saisies</ActionLink>\n      </p>\n    </div>\n  )\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250,\n    marginTop: 64,\n  }),\n  edit: css({\n    marginTop: 14,\n    marginBottom: 14,\n    textAlign: \"center\",\n  }),\n}\n\nexport default IndicateurQuatreResult\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/react\"\nimport { useCallback, ReactNode } from \"react\"\nimport { RouteComponentProps } from \"react-router-dom\"\n\nimport { AppState, FormState, ActionType, ActionIndicateurQuatreData } from \"../../globals\"\n\nimport calculIndicateurQuatre from \"../../utils/calculsEgaProIndicateurQuatre\"\n\nimport Page from \"../../components/Page\"\nimport LayoutFormAndResult from \"../../components/LayoutFormAndResult\"\nimport InfoBlock from \"../../components/ds/InfoBlock\"\nimport ActionBar from \"../../components/ActionBar\"\nimport ActionLink from \"../../components/ActionLink\"\nimport { ButtonSimulatorLink } from \"../../components/SimulatorLink\"\n\nimport IndicateurQuatreForm from \"./IndicateurQuatreForm\"\nimport IndicateurQuatreResult from \"./IndicateurQuatreResult\"\nimport { useTitle } from \"../../utils/hooks\"\n\ninterface Props extends RouteComponentProps {\n  state: AppState\n  dispatch: (action: ActionType) => void\n}\n\nconst title = \"Indicateur retour congé maternité\"\n\nfunction IndicateurQuatre({ state, dispatch }: Props) {\n  useTitle(title)\n\n  const updateIndicateurQuatre = useCallback(\n    (data: ActionIndicateurQuatreData) => dispatch({ type: \"updateIndicateurQuatre\", data }),\n    [dispatch],\n  )\n\n  const validateIndicateurQuatre = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurQuatre\", valid }),\n    [dispatch],\n  )\n\n  const { indicateurCalculable, indicateurEcartNombreSalarieesAugmentees, noteIndicateurQuatre } =\n    calculIndicateurQuatre(state)\n\n  // formulaire indicateur validé mais données renseignées ne permettent pas de calculer l'indicateur\n  if (state.indicateurQuatre.formValidated === \"Valid\" && !indicateurCalculable) {\n    const messageNonCalculable =\n      state.indicateurQuatre.presenceCongeMat &&\n      state.indicateurQuatre.nombreSalarieesPeriodeAugmentation !== undefined &&\n      state.indicateurQuatre.nombreSalarieesPeriodeAugmentation === 0\n        ? \"Il n’y a pas eu d’augmentations salariales pendant la durée du ou des congés maternité.\"\n        : \"Il n’y a pas eu de retour de congé maternité pendant la période de référence.\"\n    return (\n      <PageIndicateurQuatre>\n        <div>\n          <InfoBlock\n            type=\"warning\"\n            title=\"Malheureusement votre indicateur n’est pas calculable\"\n            text={messageNonCalculable}\n          />\n          <ActionBar>\n            <ActionLink onClick={() => validateIndicateurQuatre(\"None\")}>modifier les données saisies</ActionLink>\n          </ActionBar>\n          <ActionBar>\n            <ButtonSimulatorLink to=\"/indicateur5\" label=\"suivant\" />\n          </ActionBar>\n        </div>\n      </PageIndicateurQuatre>\n    )\n  }\n\n  return (\n    <PageIndicateurQuatre>\n      <LayoutFormAndResult\n        childrenForm={\n          <IndicateurQuatreForm\n            indicateurQuatre={state.indicateurQuatre}\n            readOnly={state.indicateurQuatre.formValidated === \"Valid\"}\n            updateIndicateurQuatre={updateIndicateurQuatre}\n            validateIndicateurQuatre={validateIndicateurQuatre}\n          />\n        }\n        childrenResult={\n          state.indicateurQuatre.formValidated === \"Valid\" && (\n            <IndicateurQuatreResult\n              indicateurEcartNombreSalarieesAugmentees={indicateurEcartNombreSalarieesAugmentees}\n              noteIndicateurQuatre={noteIndicateurQuatre}\n              validateIndicateurQuatre={validateIndicateurQuatre}\n            />\n          )\n        }\n      />\n    </PageIndicateurQuatre>\n  )\n}\n\nfunction PageIndicateurQuatre({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title=\"Indicateur pourcentage de salariées augmentées dans l'année suivant leur retour de congé maternité\"\n      tagline=\"Renseignez le nombre de salariées en congé maternité durant la période de référence et ayant reçu une augmentation à leur retour.\"\n    >\n      {children}\n    </Page>\n  )\n}\n\nexport default IndicateurQuatre\n","import IndicateurQuatre from \"./IndicateurQuatre\"\nexport default IndicateurQuatre\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { Form } from \"react-final-form\"\nimport createDecorator from \"final-form-calculate\"\n\nimport { AppState, FormState, ActionIndicateurCinqData } from \"../../globals\"\n\nimport {\n  parseIntFormValue,\n  parseIntStateValue,\n  required,\n  mustBeNumber,\n  minNumber,\n  maxNumber,\n  composeValidators,\n  mustBeInteger,\n} from \"../../utils/formHelpers\"\n\nimport { BlocFormLight } from \"../../components/BlocForm\"\nimport FieldInput from \"../../components/FieldInput\"\nimport ActionBar from \"../../components/ActionBar\"\nimport FormAutoSave from \"../../components/FormAutoSave\"\nimport FormSubmit from \"../../components/FormSubmit\"\nimport { ButtonSimulatorLink } from \"../../components/SimulatorLink\"\n\nconst validator = composeValidators(required, mustBeNumber, mustBeInteger, minNumber(0), maxNumber(10))\n\nconst calculator = createDecorator({\n  field: \"nombreSalariesFemmes\",\n  updates: {\n    nombreSalariesHommes: (femmesValue, { nombreSalariesHommes }: any) =>\n      validator(femmesValue) === undefined\n        ? parseIntStateValue(10 - parseIntFormValue(femmesValue))\n        : nombreSalariesHommes,\n  },\n})\n\n///////////////////\n\ninterface Props {\n  indicateurCinq: AppState[\"indicateurCinq\"]\n  readOnly: boolean\n  updateIndicateurCinq: (data: ActionIndicateurCinqData) => void\n  validateIndicateurCinq: (valid: FormState) => void\n}\n\nfunction IndicateurCinqForm({ indicateurCinq, readOnly, updateIndicateurCinq, validateIndicateurCinq }: Props) {\n  const initialValues = {\n    nombreSalariesHommes: parseIntStateValue(indicateurCinq.nombreSalariesHommes),\n    nombreSalariesFemmes: parseIntStateValue(indicateurCinq.nombreSalariesFemmes),\n  }\n\n  const saveForm = (formData: any) => {\n    const { nombreSalariesHommes, nombreSalariesFemmes } = formData\n\n    updateIndicateurCinq({\n      nombreSalariesHommes: parseIntFormValue(nombreSalariesHommes),\n      nombreSalariesFemmes: parseIntFormValue(nombreSalariesFemmes),\n    })\n  }\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData)\n    validateIndicateurCinq(\"Valid\")\n  }\n\n  return (\n    <Form\n      onSubmit={onSubmit}\n      decorators={[calculator]}\n      initialValues={initialValues}\n      // mandatory to not change user inputs\n      // because we want to keep wrong string inside the input\n      // we don't want to block string value\n      initialValuesEqual={() => true}\n    >\n      {({ handleSubmit, hasValidationErrors, submitFailed }) => (\n        <form onSubmit={handleSubmit} css={styles.container}>\n          <FormAutoSave saveForm={saveForm} />\n          <BlocFormLight>\n            <FieldInput\n              fieldName=\"nombreSalariesFemmes\"\n              label=\"nombre (entier) de femmes parmi les 10 plus hauts salaires\"\n              readOnly={readOnly}\n              validator={validator}\n            />\n            <FieldInput\n              fieldName=\"nombreSalariesHommes\"\n              label=\"nombre (entier) d’hommes parmi les 10 plus hauts salaires\"\n              readOnly={true}\n              theme=\"hommes\"\n            />\n          </BlocFormLight>\n\n          {readOnly ? (\n            <ActionBar>\n              <ButtonSimulatorLink to=\"/recapitulatif\" label=\"suivant\" />\n            </ActionBar>\n          ) : (\n            <ActionBar>\n              <FormSubmit\n                hasValidationErrors={hasValidationErrors}\n                submitFailed={submitFailed}\n                errorMessage=\"L’indicateur ne peut pas être validé si tous les champs ne sont pas remplis.\"\n              />\n            </ActionBar>\n          )}\n        </form>\n      )}\n    </Form>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n  }),\n}\n\nexport default IndicateurCinqForm\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\n\nimport { FormState } from \"../../globals\"\n\nimport ResultBubble from \"../../components/ResultBubble\"\nimport ActionLink from \"../../components/ActionLink\"\n\ninterface Props {\n  indicateurSexeSousRepresente: \"hommes\" | \"femmes\" | \"egalite\" | undefined\n  indicateurNombreSalariesSexeSousRepresente: number | undefined\n  noteIndicateurCinq: number | undefined\n  validateIndicateurCinq: (valid: FormState) => void\n}\n\nfunction IndicateurCinqResult({\n  indicateurSexeSousRepresente,\n  indicateurNombreSalariesSexeSousRepresente,\n  noteIndicateurCinq,\n  validateIndicateurCinq,\n}: Props) {\n  const firstLineInfo =\n    indicateurSexeSousRepresente === undefined\n      ? undefined\n      : indicateurSexeSousRepresente === \"egalite\"\n      ? \"les femmes et les hommes sont à égalité\"\n      : indicateurSexeSousRepresente === \"hommes\"\n      ? \"les femmes sont sur-représentées\"\n      : \"les hommes sont sur-représentés\"\n  return (\n    <div css={styles.container}>\n      <ResultBubble\n        firstLineLabel=\"votre résultat final est\"\n        firstLineData={\n          indicateurNombreSalariesSexeSousRepresente !== undefined\n            ? String(indicateurNombreSalariesSexeSousRepresente)\n            : \"--\"\n        }\n        firstLineInfo={firstLineInfo}\n        secondLineLabel=\"votre note obtenue est\"\n        secondLineData={(noteIndicateurCinq !== undefined ? noteIndicateurCinq : \"--\") + \"/10\"}\n        indicateurSexeSurRepresente={\n          indicateurSexeSousRepresente === undefined || indicateurSexeSousRepresente === \"egalite\"\n            ? undefined\n            : indicateurSexeSousRepresente === \"hommes\"\n            ? \"femmes\"\n            : \"hommes\"\n        }\n      />\n\n      <p css={styles.edit}>\n        <ActionLink onClick={() => validateIndicateurCinq(\"None\")}>modifier les données saisies</ActionLink>\n      </p>\n    </div>\n  )\n}\n\nconst styles = {\n  container: css({\n    maxWidth: 250,\n    marginTop: 64,\n  }),\n  edit: css({\n    marginTop: 14,\n    marginBottom: 14,\n    textAlign: \"center\",\n  }),\n}\n\nexport default IndicateurCinqResult\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/react\"\nimport { useCallback, ReactNode } from \"react\"\nimport { RouteComponentProps } from \"react-router-dom\"\n\nimport { AppState, FormState, ActionType, ActionIndicateurCinqData } from \"../../globals\"\n\nimport calculIndicateurCinq from \"../../utils/calculsEgaProIndicateurCinq\"\n\nimport Page from \"../../components/Page\"\nimport LayoutFormAndResult from \"../../components/LayoutFormAndResult\"\n\nimport IndicateurCinqForm from \"./IndicateurCinqForm\"\nimport IndicateurCinqResult from \"./IndicateurCinqResult\"\nimport { useTitle } from \"../../utils/hooks\"\n\ninterface Props extends RouteComponentProps {\n  state: AppState\n  dispatch: (action: ActionType) => void\n}\n\nconst title = \"Indicateur hautes rémunérations\"\n\nfunction IndicateurCinq({ state, dispatch }: Props) {\n  useTitle(title)\n\n  const updateIndicateurCinq = useCallback(\n    (data: ActionIndicateurCinqData) => dispatch({ type: \"updateIndicateurCinq\", data }),\n    [dispatch],\n  )\n\n  const validateIndicateurCinq = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateIndicateurCinq\", valid }),\n    [dispatch],\n  )\n\n  const { indicateurSexeSousRepresente, indicateurNombreSalariesSexeSousRepresente, noteIndicateurCinq } =\n    calculIndicateurCinq(state)\n\n  return (\n    <PageIndicateurCinq>\n      <LayoutFormAndResult\n        childrenForm={\n          <IndicateurCinqForm\n            indicateurCinq={state.indicateurCinq}\n            readOnly={state.indicateurCinq.formValidated === \"Valid\"}\n            updateIndicateurCinq={updateIndicateurCinq}\n            validateIndicateurCinq={validateIndicateurCinq}\n          />\n        }\n        childrenResult={\n          state.indicateurCinq.formValidated === \"Valid\" && (\n            <IndicateurCinqResult\n              indicateurSexeSousRepresente={indicateurSexeSousRepresente}\n              indicateurNombreSalariesSexeSousRepresente={indicateurNombreSalariesSexeSousRepresente}\n              noteIndicateurCinq={noteIndicateurCinq}\n              validateIndicateurCinq={validateIndicateurCinq}\n            />\n          )\n        }\n      />\n    </PageIndicateurCinq>\n  )\n}\n\nfunction PageIndicateurCinq({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title=\"Indicateur nombre de salariés du sexe sous-représenté parmi les 10 plus hautes rémunérations\"\n      tagline=\"Renseignez le nombre de femmes et d'hommes parmi les 10 plus hautes rémunérations durant la période de référence.\"\n    >\n      {children}\n    </Page>\n  )\n}\n\nexport default IndicateurCinq\n","import IndicateurCinq from \"./IndicateurCinq\"\nexport default IndicateurCinq\n","/** @jsx jsx */\nimport { Fragment } from \"react\"\nimport { css, jsx } from \"@emotion/react\"\nimport { Field } from \"react-final-form\"\n\nimport globalStyles from \"../utils/globalStyles\"\n\nimport { required } from \"../utils/formHelpers\"\n\nfunction CodeNaf({ name, label, readOnly }: { name: string; label: string; readOnly: boolean }) {\n  return (\n    <Field name={name} validate={required} component=\"select\">\n      {({ input, meta }) => (\n        <div css={styles.formField}>\n          <label css={[styles.label, meta.error && meta.touched && styles.labelError]} htmlFor={input.name}>\n            {label}\n          </label>\n          {readOnly ? (\n            <div css={styles.fieldRow}>\n              <div css={styles.fakeInput}>{input.value}</div>\n            </div>\n          ) : (\n            <Fragment>\n              <div css={styles.fieldRow}>\n                <select {...input}>\n                  {listeCodeNaf.map((codeNaf: string) => (\n                    <option value={codeNaf} key={codeNaf}>\n                      {codeNaf}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              {meta.error && meta.touched && <p css={styles.error}>veuillez sélectionner un code NAF dans la liste</p>}\n            </Fragment>\n          )}\n        </div>\n      )}\n    </Field>\n  )\n}\n\nconst styles = {\n  formField: css({\n    marginBottom: 20,\n  }),\n  label: css({\n    fontSize: 14,\n    fontWeight: \"bold\",\n    lineHeight: \"17px\",\n  }),\n  labelError: css({\n    color: globalStyles.colors.error,\n  }),\n  fieldRow: css({\n    height: 38,\n    marginTop: 5,\n    marginBottom: 5,\n    display: \"flex\",\n    select: {\n      borderRadius: 4,\n      border: \"1px solid\",\n      width: \"100%\",\n    },\n  }),\n  error: css({\n    height: 18,\n    color: globalStyles.colors.error,\n    fontSize: 12,\n    textDecoration: \"underline\",\n    lineHeight: \"15px\",\n  }),\n  fakeInput: css({\n    flexGrow: 1,\n    flexShrink: 1,\n    flexBasis: \"auto\",\n    paddingLeft: 23,\n    paddingRight: 23,\n\n    backgroundColor: \"white\",\n    borderRadius: 5,\n\n    fontSize: 14,\n    lineHeight: \"38px\",\n\n    overflow: \"auto\",\n    cursor: \"not-allowed\",\n  }),\n}\n\nexport default CodeNaf\n\nconst listeCodeNaf = [\n  \"\",\n  \"01.11Z - Culture de céréales (à l'exception du riz), de légumineuses et de graines oléagineuses\",\n  \"01.12Z - Culture du riz\",\n  \"01.13Z - Culture de légumes, de melons, de racines et de tubercules\",\n  \"01.14Z - Culture de la canne à sucre\",\n  \"01.15Z - Culture du tabac\",\n  \"01.16Z - Culture de plantes à fibres\",\n  \"01.19Z - Autres cultures non permanentes\",\n  \"01.21Z - Culture de la vigne\",\n  \"01.22Z - Culture de fruits tropicaux et subtropicaux\",\n  \"01.23Z - Culture d'agrumes\",\n  \"01.24Z - Culture de fruits à pépins et à noyau\",\n  \"01.25Z - Culture d'autres fruits d'arbres ou d'arbustes et de fruits à coque\",\n  \"01.26Z - Culture de fruits oléagineux\",\n  \"01.27Z - Culture de plantes à boissons\",\n  \"01.28Z - Culture de plantes à épices, aromatiques, médicinales et pharmaceutiques\",\n  \"01.29Z - Autres cultures permanentes\",\n  \"01.30Z - Reproduction de plantes\",\n  \"01.41Z - Élevage de vaches laitières\",\n  \"01.42Z - Élevage d'autres bovins et de buffles\",\n  \"01.43Z - Élevage de chevaux et d'autres équidés\",\n  \"01.44Z - Élevage de chameaux et d'autres camélidés\",\n  \"01.45Z - Élevage d'ovins et de caprins\",\n  \"01.46Z - Élevage de porcins\",\n  \"01.47Z - Élevage de volailles\",\n  \"01.49Z - Élevage d'autres animaux\",\n  \"01.50Z - Culture et élevage associés\",\n  \"01.61Z - Activités de soutien aux cultures\",\n  \"01.62Z - Activités de soutien à la production animale\",\n  \"01.63Z - Traitement primaire des récoltes\",\n  \"01.64Z - Traitement des semences\",\n  \"01.70Z - Chasse, piégeage et services annexes\",\n  \"02.10Z - Sylviculture et autres activités forestières\",\n  \"02.20Z - Exploitation forestière\",\n  \"02.30Z - Récolte de produits forestiers non ligneux poussant à l'état sauvage\",\n  \"02.40Z - Services de soutien à l'exploitation forestière\",\n  \"03.11Z - Pêche en mer\",\n  \"03.12Z - Pêche en eau douce\",\n  \"03.21Z - Aquaculture en mer\",\n  \"03.22Z - Aquaculture en eau douce\",\n  \"05.10Z - Extraction de houille\",\n  \"05.20Z - Extraction de lignite\",\n  \"06.10Z - Extraction de pétrole brut\",\n  \"06.20Z - Extraction de gaz naturel\",\n  \"07.10Z - Extraction de minerais de fer\",\n  \"07.21Z - Extraction de minerais d'uranium et de thorium\",\n  \"07.29Z - Extraction d'autres minerais de métaux non ferreux\",\n  \"08.11Z - Extraction de pierres ornementales et de construction, de calcaire industriel, de gypse, de craie et d'ardoise\",\n  \"08.12Z - Exploitation de gravières et sablières, extraction d'argiles et de kaolin\",\n  \"08.91Z - Extraction des minéraux chimiques et d'engrais minéraux\",\n  \"08.92Z - Extraction de tourbe\",\n  \"08.93Z - Production de sel\",\n  \"08.99Z - Autres activités extractives n.c.a.\",\n  \"09.10Z - Activités de soutien à l'extraction d'hydrocarbures\",\n  \"09.90Z - Activités de soutien aux autres industries extractives\",\n  \"10.11Z - Transformation et conservation de la viande de boucherie\",\n  \"10.12Z - Transformation et conservation de la viande de volaille\",\n  \"10.13A - Préparation industrielle de produits à base de viande\",\n  \"10.13B - Charcuterie\",\n  \"10.20Z - Transformation et conservation de poisson, de crustacés et de mollusques\",\n  \"10.31Z - Transformation et conservation de pommes de terre\",\n  \"10.32Z - Préparation de jus de fruits et légumes\",\n  \"10.39A - Autre transformation et conservation de légumes\",\n  \"10.39B - Transformation et conservation de fruits\",\n  \"10.41A - Fabrication d'huiles et graisses brutes\",\n  \"10.41B - Fabrication d'huiles et graisses raffinées\",\n  \"10.42Z - Fabrication de margarine et graisses comestibles similaires\",\n  \"10.51A - Fabrication de lait liquide et de produits frais\",\n  \"10.51B - Fabrication de beurre\",\n  \"10.51C - Fabrication de fromage\",\n  \"10.51D - Fabrication d'autres produits laitiers\",\n  \"10.52Z - Fabrication de glaces et sorbets\",\n  \"10.61A - Meunerie\",\n  \"10.61B - Autres activités du travail des grains\",\n  \"10.62Z - Fabrication de produits amylacés\",\n  \"10.71A - Fabrication industrielle de pain et de pâtisserie fraîche\",\n  \"10.71B - Cuisson de produits de boulangerie\",\n  \"10.71C - Boulangerie et boulangerie-pâtisserie\",\n  \"10.71D - Pâtisserie\",\n  \"10.72Z - Fabrication de biscuits, biscottes et pâtisseries de conservation\",\n  \"10.73Z - Fabrication de pâtes alimentaires\",\n  \"10.81Z - Fabrication de sucre\",\n  \"10.82Z - Fabrication de cacao, chocolat et de produits de confiserie\",\n  \"10.83Z - Transformation du thé et du café\",\n  \"10.84Z - Fabrication de condiments et assaisonnements\",\n  \"10.85Z - Fabrication de plats préparés\",\n  \"10.86Z - Fabrication d'aliments homogénéisés et diététiques\",\n  \"10.89Z - Fabrication d'autres produits alimentaires n.c.a.\",\n  \"10.91Z - Fabrication d'aliments pour animaux de ferme\",\n  \"10.92Z - Fabrication d'aliments pour animaux de compagnie\",\n  \"11.01Z - Production de boissons alcooliques distillées\",\n  \"11.02A - Fabrication de vins effervescents\",\n  \"11.02B - Vinification\",\n  \"11.03Z - Fabrication de cidre et de vins de fruits\",\n  \"11.04Z - Production d'autres boissons fermentées non distillées\",\n  \"11.05Z - Fabrication de bière\",\n  \"11.06Z - Fabrication de malt\",\n  \"11.07A - Industrie des eaux de table\",\n  \"11.07B - Production de boissons rafraîchissantes\",\n  \"12.00Z - Fabrication de produits à base de tabac\",\n  \"13.10Z - Préparation de fibres textiles et filature\",\n  \"13.20Z - Tissage\",\n  \"13.30Z - Ennoblissement textile\",\n  \"13.91Z - Fabrication d'étoffes à mailles\",\n  \"13.92Z - Fabrication d'articles textiles, sauf habillement\",\n  \"13.93Z - Fabrication de tapis et moquettes\",\n  \"13.94Z - Fabrication de ficelles, cordes et filets\",\n  \"13.95Z - Fabrication de non-tissés, sauf habillement\",\n  \"13.96Z - Fabrication d'autres textiles techniques et industriels\",\n  \"13.99Z - Fabrication d'autres textiles n.c.a.\",\n  \"14.11Z - Fabrication de vêtements en cuir\",\n  \"14.12Z - Fabrication de vêtements de travail\",\n  \"14.13Z - Fabrication de vêtements de dessus\",\n  \"14.14Z - Fabrication de vêtements de dessous\",\n  \"14.19Z - Fabrication d'autres vêtements et accessoires\",\n  \"14.20Z - Fabrication d'articles en fourrure\",\n  \"14.31Z - Fabrication d'articles chaussants à mailles\",\n  \"14.39Z - Fabrication d'autres articles à mailles\",\n  \"15.11Z - Apprêt et tannage des cuirs ; préparation et teinture des fourrures\",\n  \"15.12Z - Fabrication d'articles de voyage, de maroquinerie et de sellerie\",\n  \"15.20Z - Fabrication de chaussures\",\n  \"16.10A - Sciage et rabotage du bois, hors imprégnation\",\n  \"16.10B - Imprégnation du bois\",\n  \"16.21Z - Fabrication de placage et de panneaux de bois\",\n  \"16.22Z - Fabrication de parquets assemblés\",\n  \"16.23Z - Fabrication de charpentes et d'autres menuiseries\",\n  \"16.24Z - Fabrication d'emballages en bois\",\n  \"16.29Z - Fabrication d'objets divers en bois ; fabrication d'objets en liège, vannerie et sparterie\",\n  \"17.11Z - Fabrication de pâte à papier\",\n  \"17.12Z - Fabrication de papier et de carton\",\n  \"17.21A - Fabrication de carton ondulé\",\n  \"17.21B - Fabrication de cartonnages\",\n  \"17.21C - Fabrication d'emballages en papier\",\n  \"17.22Z - Fabrication d'articles en papier à usage sanitaire ou domestique\",\n  \"17.23Z - Fabrication d'articles de papeterie\",\n  \"17.24Z - Fabrication de papiers peints\",\n  \"17.29Z - Fabrication d'autres articles en papier ou en carton\",\n  \"18.11Z - Imprimerie de journaux\",\n  \"18.12Z - Autre imprimerie (labeur)\",\n  \"18.13Z - Activités de pré-presse\",\n  \"18.14Z - Reliure et activités connexes\",\n  \"18.20Z - Reproduction d'enregistrements\",\n  \"19.10Z - Cokéfaction\",\n  \"19.20Z - Raffinage du pétrole\",\n  \"20.11Z - Fabrication de gaz industriels\",\n  \"20.12Z - Fabrication de colorants et de pigments\",\n  \"20.13A - Enrichissement et retraitement de matières nucléaires\",\n  \"20.13B - Fabrication d'autres produits chimiques inorganiques de base n.c.a.\",\n  \"20.14Z - Fabrication d'autres produits chimiques organiques de base\",\n  \"20.15Z - Fabrication de produits azotés et d'engrais\",\n  \"20.16Z - Fabrication de matières plastiques de base\",\n  \"20.17Z - Fabrication de caoutchouc synthétique\",\n  \"20.20Z - Fabrication de pesticides et d'autres produits agrochimiques\",\n  \"20.30Z - Fabrication de peintures, vernis, encres et mastics\",\n  \"20.41Z - Fabrication de savons, détergents et produits d'entretien\",\n  \"20.42Z - Fabrication de parfums et de produits pour la toilette\",\n  \"20.51Z - Fabrication de produits explosifs\",\n  \"20.52Z - Fabrication de colles\",\n  \"20.53Z - Fabrication d'huiles essentielles\",\n  \"20.59Z - Fabrication d'autres produits chimiques n.c.a.\",\n  \"20.60Z - Fabrication de fibres artificielles ou synthétiques\",\n  \"21.10Z - Fabrication de produits pharmaceutiques de base\",\n  \"21.20Z - Fabrication de préparations pharmaceutiques\",\n  \"22.11Z - Fabrication et rechapage de pneumatiques\",\n  \"22.19Z - Fabrication d'autres articles en caoutchouc\",\n  \"22.21Z - Fabrication de plaques, feuilles, tubes et profilés en matières plastiques\",\n  \"22.22Z - Fabrication d'emballages en matières plastiques\",\n  \"22.23Z - Fabrication d'éléments en matières plastiques pour la construction\",\n  \"22.29A - Fabrication de pièces techniques à base de matières plastiques\",\n  \"22.29B - Fabrication de produits de consommation courante en matières plastiques\",\n  \"23.11Z - Fabrication de verre plat\",\n  \"23.12Z - Façonnage et transformation du verre plat\",\n  \"23.13Z - Fabrication de verre creux\",\n  \"23.14Z - Fabrication de fibres de verre\",\n  \"23.19Z - Fabrication et façonnage d'autres articles en verre, y compris verre technique\",\n  \"23.20Z - Fabrication de produits réfractaires\",\n  \"23.31Z - Fabrication de carreaux en céramique\",\n  \"23.32Z - Fabrication de briques, tuiles et produits de construction, en terre cuite\",\n  \"23.41Z - Fabrication d'articles céramiques à usage domestique ou ornemental\",\n  \"23.42Z - Fabrication d'appareils sanitaires en céramique\",\n  \"23.43Z - Fabrication d'isolateurs et pièces isolantes en céramique\",\n  \"23.44Z - Fabrication d'autres produits céramiques à usage technique\",\n  \"23.49Z - Fabrication d'autres produits céramiques\",\n  \"23.51Z - Fabrication de ciment\",\n  \"23.52Z - Fabrication de chaux et plâtre\",\n  \"23.61Z - Fabrication d'éléments en béton pour la construction\",\n  \"23.62Z - Fabrication d'éléments en plâtre pour la construction\",\n  \"23.63Z - Fabrication de béton prêt à l'emploi\",\n  \"23.64Z - Fabrication de mortiers et bétons secs\",\n  \"23.65Z - Fabrication d'ouvrages en fibre-ciment\",\n  \"23.69Z - Fabrication d'autres ouvrages en béton, en ciment ou en plâtre\",\n  \"23.70Z - Taille, façonnage et finissage de pierres\",\n  \"23.91Z - Fabrication de produits abrasifs\",\n  \"23.99Z - Fabrication d'autres produits minéraux non métalliques n.c.a.\",\n  \"24.10Z - Sidérurgie\",\n  \"24.20Z - Fabrication de tubes, tuyaux, profilés creux et accessoires correspondants en acier\",\n  \"24.31Z - Étirage à froid de barres\",\n  \"24.32Z - Laminage à froid de feuillards\",\n  \"24.33Z - Profilage à froid par formage ou pliage\",\n  \"24.34Z - Tréfilage à froid\",\n  \"24.41Z - Production de métaux précieux\",\n  \"24.42Z - Métallurgie de l'aluminium\",\n  \"24.43Z - Métallurgie du plomb, du zinc ou de l'étain\",\n  \"24.44Z - Métallurgie du cuivre\",\n  \"24.45Z - Métallurgie des autres métaux non ferreux\",\n  \"24.46Z - Élaboration et transformation de matières nucléaires\",\n  \"24.51Z - Fonderie de fonte\",\n  \"24.52Z - Fonderie d'acier\",\n  \"24.53Z - Fonderie de métaux légers\",\n  \"24.54Z - Fonderie d'autres métaux non ferreux\",\n  \"25.11Z - Fabrication de structures métalliques et de parties de structures\",\n  \"25.12Z - Fabrication de portes et fenêtres en métal\",\n  \"25.21Z - Fabrication de radiateurs et de chaudières pour le chauffage central\",\n  \"25.29Z - Fabrication d'autres réservoirs, citernes et conteneurs métalliques\",\n  \"25.30Z - Fabrication de générateurs de vapeur, à l'exception des chaudières pour le chauffage central\",\n  \"25.40Z - Fabrication d'armes et de munitions\",\n  \"25.50A - Forge, estampage, matriçage ; métallurgie des poudres\",\n  \"25.50B - Découpage, emboutissage\",\n  \"25.61Z - Traitement et revêtement des métaux\",\n  \"25.62A - Décolletage\",\n  \"25.62B - Mécanique industrielle\",\n  \"25.71Z - Fabrication de coutellerie\",\n  \"25.72Z - Fabrication de serrures et de ferrures\",\n  \"25.73A - Fabrication de moules et modèles\",\n  \"25.73B - Fabrication d'autres outillages\",\n  \"25.91Z - Fabrication de fûts et emballages métalliques similaires\",\n  \"25.92Z - Fabrication d'emballages métalliques légers\",\n  \"25.93Z - Fabrication d'articles en fils métalliques, de chaînes et de ressorts\",\n  \"25.94Z - Fabrication de vis et de boulons\",\n  \"25.99A - Fabrication d'articles métalliques ménagers\",\n  \"25.99B - Fabrication d'autres articles métalliques\",\n  \"26.11Z - Fabrication de composants électroniques\",\n  \"26.12Z - Fabrication de cartes électroniques assemblées\",\n  \"26.20Z - Fabrication d'ordinateurs et d'équipements périphériques\",\n  \"26.30Z - Fabrication d'équipements de communication\",\n  \"26.40Z - Fabrication de produits électroniques grand public\",\n  \"26.51A - Fabrication d'équipements d'aide à la navigation\",\n  \"26.51B - Fabrication d'instrumentation scientifique et technique\",\n  \"26.52Z - Horlogerie\",\n  \"26.60Z - Fabrication d'équipements d'irradiation médicale, d'équipements électromédicaux et électrothérapeutiques\",\n  \"26.70Z - Fabrication de matériels optique et photographique\",\n  \"26.80Z - Fabrication de supports magnétiques et optiques\",\n  \"27.11Z - Fabrication de moteurs, génératrices et transformateurs électriques\",\n  \"27.12Z - Fabrication de matériel de distribution et de commande électrique\",\n  \"27.20Z - Fabrication de piles et d'accumulateurs électriques\",\n  \"27.31Z - Fabrication de câbles de fibres optiques\",\n  \"27.32Z - Fabrication d'autres fils et câbles électroniques ou électriques\",\n  \"27.33Z - Fabrication de matériel d'installation électrique\",\n  \"27.40Z - Fabrication d'appareils d'éclairage électrique\",\n  \"27.51Z - Fabrication d'appareils électroménagers\",\n  \"27.52Z - Fabrication d'appareils ménagers non électriques\",\n  \"27.90Z - Fabrication d'autres matériels électriques\",\n  \"28.11Z - Fabrication de moteurs et turbines, à l'exception des moteurs d'avions et de véhicules\",\n  \"28.12Z - Fabrication d'équipements hydrauliques et pneumatiques\",\n  \"28.13Z - Fabrication d'autres pompes et compresseurs\",\n  \"28.14Z - Fabrication d'autres articles de robinetterie\",\n  \"28.15Z - Fabrication d'engrenages et d'organes mécaniques de transmission\",\n  \"28.21Z - Fabrication de fours et brûleurs\",\n  \"28.22Z - Fabrication de matériel de levage et de manutention\",\n  \"28.23Z - Fabrication de machines et d'équipements de bureau (à l'exception des ordinateurs et équipements périphériques)\",\n  \"28.24Z - Fabrication d'outillage portatif à moteur incorporé\",\n  \"28.25Z - Fabrication d'équipements aérauliques et frigorifiques industriels\",\n  \"28.29A - Fabrication d'équipements d'emballage, de conditionnement et de pesage\",\n  \"28.29B - Fabrication d'autres machines d'usage général\",\n  \"28.30Z - Fabrication de machines agricoles et forestières\",\n  \"28.41Z - Fabrication de machines-outils pour le travail des métaux\",\n  \"28.49Z - Fabrication d'autres machines-outils\",\n  \"28.91Z - Fabrication de machines pour la métallurgie\",\n  \"28.92Z - Fabrication de machines pour l'extraction ou la construction\",\n  \"28.93Z - Fabrication de machines pour l'industrie agro-alimentaire\",\n  \"28.94Z - Fabrication de machines pour les industries textiles\",\n  \"28.95Z - Fabrication de machines pour les industries du papier et du carton\",\n  \"28.96Z - Fabrication de machines pour le travail du caoutchouc ou des plastiques\",\n  \"28.99A - Fabrication de machines d'imprimerie\",\n  \"28.99B - Fabrication d'autres machines spécialisées\",\n  \"29.10Z - Construction de véhicules automobiles\",\n  \"29.20Z - Fabrication de carrosseries et remorques\",\n  \"29.31Z - Fabrication d'équipements électriques et électroniques automobiles\",\n  \"29.32Z - Fabrication d'autres équipements automobiles\",\n  \"30.11Z - Construction de navires et de structures flottantes\",\n  \"30.12Z - Construction de bateaux de plaisance\",\n  \"30.20Z - Construction de locomotives et d'autre matériel ferroviaire roulant\",\n  \"30.30Z - Construction aéronautique et spatiale\",\n  \"30.40Z - Construction de véhicules militaires de combat\",\n  \"30.91Z - Fabrication de motocycles\",\n  \"30.92Z - Fabrication de bicyclettes et de véhicules pour invalides\",\n  \"30.99Z - Fabrication d'autres équipements de transport n.c.a.\",\n  \"31.01Z - Fabrication de meubles de bureau et de magasin\",\n  \"31.02Z - Fabrication de meubles de cuisine\",\n  \"31.03Z - Fabrication de matelas\",\n  \"31.09A - Fabrication de sièges d'ameublement d'intérieur\",\n  \"31.09B - Fabrication d'autres meubles et industries connexes de l'ameublement\",\n  \"32.11Z - Frappe de monnaie\",\n  \"32.12Z - Fabrication d'articles de joaillerie et bijouterie\",\n  \"32.13Z - Fabrication d'articles de bijouterie fantaisie et articles similaires\",\n  \"32.20Z - Fabrication d'instruments de musique\",\n  \"32.30Z - Fabrication d'articles de sport\",\n  \"32.40Z - Fabrication de jeux et jouets\",\n  \"32.50A - Fabrication de matériel médico-chirurgical et dentaire\",\n  \"32.50B - Fabrication de lunettes\",\n  \"32.91Z - Fabrication d'articles de brosserie\",\n  \"32.99Z - Autres activités manufacturières n.c.a.\",\n  \"33.11Z - Réparation d'ouvrages en métaux\",\n  \"33.12Z - Réparation de machines et équipements mécaniques\",\n  \"33.13Z - Réparation de matériels électroniques et optiques\",\n  \"33.14Z - Réparation d'équipements électriques\",\n  \"33.15Z - Réparation et maintenance navale\",\n  \"33.16Z - Réparation et maintenance d'aéronefs et d'engins spatiaux\",\n  \"33.17Z - Réparation et maintenance d'autres équipements de transport\",\n  \"33.19Z - Réparation d'autres équipements\",\n  \"33.20A - Installation de structures métalliques, chaudronnées et de tuyauterie\",\n  \"33.20B - Installation de machines et équipements mécaniques\",\n  \"33.20C - Conception d'ensemble et assemblage sur site industriel d'équipements de contrôle des processus industriels\",\n  \"33.20D - Installation d'équipements électriques, de matériels électroniques et optiques ou d'autres matériels\",\n  \"35.11Z - Production d'électricité\",\n  \"35.12Z - Transport d'électricité\",\n  \"35.13Z - Distribution d'électricité\",\n  \"35.14Z - Commerce d'électricité\",\n  \"35.21Z - Production de combustibles gazeux\",\n  \"35.22Z - Distribution de combustibles gazeux par conduites\",\n  \"35.23Z - Commerce de combustibles gazeux par conduites\",\n  \"35.30Z - Production et distribution de vapeur et d'air conditionné\",\n  \"36.00Z - Captage, traitement et distribution d'eau\",\n  \"37.00Z - Collecte et traitement des eaux usées\",\n  \"38.11Z - Collecte des déchets non dangereux\",\n  \"38.12Z - Collecte des déchets dangereux\",\n  \"38.21Z - Traitement et élimination des déchets non dangereux\",\n  \"38.22Z - Traitement et élimination des déchets dangereux\",\n  \"38.31Z - Démantèlement d'épaves\",\n  \"38.32Z - Récupération de déchets triés\",\n  \"39.00Z - Dépollution et autres services de gestion des déchets\",\n  \"41.10A - Promotion immobilière de logements\",\n  \"41.10B - Promotion immobilière de bureaux\",\n  \"41.10C - Promotion immobilière d'autres bâtiments\",\n  \"41.10D - Supports juridiques de programmes\",\n  \"41.20A - Construction de maisons individuelles\",\n  \"41.20B - Construction d'autres bâtiments\",\n  \"42.11Z - Construction de routes et autoroutes\",\n  \"42.12Z - Construction de voies ferrées de surface et souterraines\",\n  \"42.13A - Construction d'ouvrages d'art\",\n  \"42.13B - Construction et entretien de tunnels\",\n  \"42.21Z - Construction de réseaux pour fluides\",\n  \"42.22Z - Construction de réseaux électriques et de télécommunications\",\n  \"42.91Z - Construction d'ouvrages maritimes et fluviaux\",\n  \"42.99Z - Construction d'autres ouvrages de génie civil n.c.a.\",\n  \"43.11Z - Travaux de démolition\",\n  \"43.12A - Travaux de terrassement courants et travaux préparatoires\",\n  \"43.12B - Travaux de terrassement spécialisés ou de grande masse\",\n  \"43.13Z - Forages et sondages\",\n  \"43.21A - Travaux d'installation électrique dans tous locaux\",\n  \"43.21B - Travaux d'installation électrique sur la voie publique\",\n  \"43.22A - Travaux d'installation d'eau et de gaz en tous locaux\",\n  \"43.22B - Travaux d'installation d'équipements thermiques et de climatisation\",\n  \"43.29A - Travaux d'isolation\",\n  \"43.29B - Autres travaux d'installation n.c.a.\",\n  \"43.31Z - Travaux de plâtrerie\",\n  \"43.32A - Travaux de menuiserie bois et PVC\",\n  \"43.32B - Travaux de menuiserie métallique et serrurerie\",\n  \"43.32C - Agencement de lieux de vente\",\n  \"43.33Z - Travaux de revêtement des sols et des murs\",\n  \"43.34Z - Travaux de peinture et vitrerie\",\n  \"43.39Z - Autres travaux de finition\",\n  \"43.91A - Travaux de charpente\",\n  \"43.91B - Travaux de couverture par éléments\",\n  \"43.99A - Travaux d'étanchéification\",\n  \"43.99B - Travaux de montage de structures métalliques\",\n  \"43.99C - Travaux de maçonnerie générale et gros œuvre de bâtiment\",\n  \"43.99D - Autres travaux spécialisés de construction\",\n  \"43.99E - Location avec opérateur de matériel de construction\",\n  \"45.11Z - Commerce de voitures et de véhicules automobiles légers\",\n  \"45.19Z - Commerce d'autres véhicules automobiles\",\n  \"45.20A - Entretien et réparation de véhicules automobiles légers\",\n  \"45.20B - Entretien et réparation d'autres véhicules automobiles\",\n  \"45.31Z - Commerce de gros d'équipements automobiles\",\n  \"45.32Z - Commerce de détail d'équipements automobiles\",\n  \"45.40Z - Commerce et réparation de motocycles\",\n  \"46.11Z - Intermédiaires du commerce en matières premières agricoles, animaux vivants, matières premières textiles et produits semi-finis\",\n  \"46.12A - Centrales d'achat de carburant\",\n  \"46.12B - Autres intermédiaires du commerce en combustibles, métaux, minéraux et produits chimiques\",\n  \"46.13Z - Intermédiaires du commerce en bois et matériaux de construction\",\n  \"46.14Z - Intermédiaires du commerce en machines, équipements industriels, navires et avions\",\n  \"46.15Z - Intermédiaires du commerce en meubles, articles de ménage et quincaillerie\",\n  \"46.16Z - Intermédiaires du commerce en textiles, habillement, fourrures, chaussures et articles en cuir\",\n  \"46.17A - Centrales d'achat alimentaires\",\n  \"46.17B - Autres intermédiaires du commerce en denrées, boissons et tabac\",\n  \"46.18Z - Intermédiaires spécialisés dans le commerce d'autres produits spécifiques\",\n  \"46.19A - Centrales d'achat non alimentaires\",\n  \"46.19B - Autres intermédiaires du commerce en produits divers\",\n  \"46.21Z - Commerce de gros (commerce interentreprises) de céréales, de tabac non manufacturé, de semences et d'aliments pour le bétail\",\n  \"46.22Z - Commerce de gros (commerce interentreprises) de fleurs et plantes\",\n  \"46.23Z - Commerce de gros (commerce interentreprises) d'animaux vivants\",\n  \"46.24Z - Commerce de gros (commerce interentreprises) de cuirs et peaux\",\n  \"46.31Z - Commerce de gros (commerce interentreprises) de fruits et légumes\",\n  \"46.32A - Commerce de gros (commerce interentreprises) de viandes de boucherie\",\n  \"46.32B - Commerce de gros (commerce interentreprises) de produits à base de viande\",\n  \"46.32C - Commerce de gros (commerce interentreprises) de volailles et gibier\",\n  \"46.33Z - Commerce de gros (commerce interentreprises) de produits laitiers, œufs, huiles et matières grasses comestibles\",\n  \"46.34Z - Commerce de gros (commerce interentreprises) de boissons\",\n  \"46.35Z - Commerce de gros (commerce interentreprises) de produits à base de tabac\",\n  \"46.36Z - Commerce de gros (commerce interentreprises) de sucre, chocolat et confiserie\",\n  \"46.37Z - Commerce de gros (commerce interentreprises) de café, thé, cacao et épices\",\n  \"46.38A - Commerce de gros (commerce interentreprises) de poissons, crustacés et mollusques\",\n  \"46.38B - Commerce de gros (commerce interentreprises) alimentaire spécialisé divers\",\n  \"46.39A - Commerce de gros (commerce interentreprises) de produits surgelés\",\n  \"46.39B - Commerce de gros (commerce interentreprises) alimentaire non spécialisé\",\n  \"46.41Z - Commerce de gros (commerce interentreprises) de textiles\",\n  \"46.42Z - Commerce de gros (commerce interentreprises) d'habillement et de chaussures\",\n  \"46.43Z - Commerce de gros (commerce interentreprises) d'appareils électroménagers\",\n  \"46.44Z - Commerce de gros (commerce interentreprises) de vaisselle, verrerie et produits d'entretien\",\n  \"46.45Z - Commerce de gros (commerce interentreprises) de parfumerie et de produits de beauté\",\n  \"46.46Z - Commerce de gros (commerce interentreprises) de produits pharmaceutiques\",\n  \"46.47Z - Commerce de gros (commerce interentreprises) de meubles, de tapis et d'appareils d'éclairage\",\n  \"46.48Z - Commerce de gros (commerce interentreprises) d'articles d'horlogerie et de bijouterie\",\n  \"46.49Z - Commerce de gros (commerce interentreprises) d'autres biens domestiques\",\n  \"46.51Z - Commerce de gros (commerce interentreprises) d'ordinateurs, d'équipements informatiques périphériques et de logiciels\",\n  \"46.52Z - Commerce de gros (commerce interentreprises) de composants et d'équipements électroniques et de télécommunication\",\n  \"46.61Z - Commerce de gros (commerce interentreprises) de matériel agricole\",\n  \"46.62Z - Commerce de gros (commerce interentreprises) de machines-outils\",\n  \"46.63Z - Commerce de gros (commerce interentreprises) de machines pour l'extraction, la construction et le génie civil\",\n  \"46.64Z - Commerce de gros (commerce interentreprises) de machines pour l'industrie textile et l'habillement\",\n  \"46.65Z - Commerce de gros (commerce interentreprises) de mobilier de bureau\",\n  \"46.66Z - Commerce de gros (commerce interentreprises) d'autres machines et équipements de bureau\",\n  \"46.69A - Commerce de gros (commerce interentreprises) de matériel électrique\",\n  \"46.69B - Commerce de gros (commerce interentreprises) de fournitures et équipements industriels divers\",\n  \"46.69C - Commerce de gros (commerce interentreprises) de fournitures et équipements divers pour le commerce et les services\",\n  \"46.71Z - Commerce de gros (commerce interentreprises) de combustibles et de produits annexes\",\n  \"46.72Z - Commerce de gros (commerce interentreprises) de minerais et métaux\",\n  \"46.73A - Commerce de gros (commerce interentreprises) de bois et de matériaux de construction\",\n  \"46.73B - Commerce de gros (commerce interentreprises) d'appareils sanitaires et de produits de décoration\",\n  \"46.74A - Commerce de gros (commerce interentreprises) de quincaillerie\",\n  \"46.74B - Commerce de gros (commerce interentreprises) de fournitures pour la plomberie et le chauffage\",\n  \"46.75Z - Commerce de gros (commerce interentreprises) de produits chimiques\",\n  \"46.76Z - Commerce de gros (commerce interentreprises) d'autres produits intermédiaires\",\n  \"46.77Z - Commerce de gros (commerce interentreprises) de déchets et débris\",\n  \"46.90Z - Commerce de gros (commerce interentreprises) non spécialisé\",\n  \"47.11A - Commerce de détail de produits surgelés\",\n  \"47.11B - Commerce d'alimentation générale\",\n  \"47.11C - Supérettes\",\n  \"47.11D - Supermarchés\",\n  \"47.11E - Magasins multi-commerces\",\n  \"47.11F - Hypermarchés\",\n  \"47.19A - Grands magasins\",\n  \"47.19B - Autres commerces de détail en magasin non spécialisé\",\n  \"47.21Z - Commerce de détail de fruits et légumes en magasin spécialisé\",\n  \"47.22Z - Commerce de détail de viandes et de produits à base de viande en magasin spécialisé\",\n  \"47.23Z - Commerce de détail de poissons, crustacés et mollusques en magasin spécialisé\",\n  \"47.24Z - Commerce de détail de pain, pâtisserie et confiserie en magasin spécialisé\",\n  \"47.25Z - Commerce de détail de boissons en magasin spécialisé\",\n  \"47.26Z - Commerce de détail de produits à base de tabac en magasin spécialisé\",\n  \"47.29Z - Autres commerces de détail alimentaires en magasin spécialisé\",\n  \"47.30Z - Commerce de détail de carburants en magasin spécialisé\",\n  \"47.41Z - Commerce de détail d'ordinateurs, d'unités périphériques et de logiciels en magasin spécialisé\",\n  \"47.42Z - Commerce de détail de matériels de télécommunication en magasin spécialisé\",\n  \"47.43Z - Commerce de détail de matériels audio et vidéo en magasin spécialisé\",\n  \"47.51Z - Commerce de détail de textiles en magasin spécialisé\",\n  \"47.52A - Commerce de détail de quincaillerie, peintures et verres en petites surfaces (moins de 400 m²)\",\n  \"47.52B - Commerce de détail de quincaillerie, peintures et verres en grandes surfaces (400 m² et plus)\",\n  \"47.53Z - Commerce de détail de tapis, moquettes et revêtements de murs et de sols en magasin spécialisé\",\n  \"47.54Z - Commerce de détail d'appareils électroménagers en magasin spécialisé\",\n  \"47.59A - Commerce de détail de meubles\",\n  \"47.59B - Commerce de détail d'autres équipements du foyer\",\n  \"47.61Z - Commerce de détail de livres en magasin spécialisé\",\n  \"47.62Z - Commerce de détail de journaux et papeterie en magasin spécialisé\",\n  \"47.63Z - Commerce de détail d'enregistrements musicaux et vidéo en magasin spécialisé\",\n  \"47.64Z - Commerce de détail d'articles de sport en magasin spécialisé\",\n  \"47.65Z - Commerce de détail de jeux et jouets en magasin spécialisé\",\n  \"47.71Z - Commerce de détail d'habillement en magasin spécialisé\",\n  \"47.72A - Commerce de détail de la chaussure\",\n  \"47.72B - Commerce de détail de maroquinerie et d'articles de voyage\",\n  \"47.73Z - Commerce de détail de produits pharmaceutiques en magasin spécialisé\",\n  \"47.74Z - Commerce de détail d'articles médicaux et orthopédiques en magasin spécialisé\",\n  \"47.75Z - Commerce de détail de parfumerie et de produits de beauté en magasin spécialisé\",\n  \"47.76Z - Commerce de détail de fleurs, plantes, graines, engrais, animaux de compagnie et aliments pour ces animaux en magasin spécialisé\",\n  \"47.77Z - Commerce de détail d'articles d'horlogerie et de bijouterie en magasin spécialisé\",\n  \"47.78A - Commerces de détail d'optique\",\n  \"47.78B - Commerces de détail de charbons et combustibles\",\n  \"47.78C - Autres commerces de détail spécialisés divers\",\n  \"47.79Z - Commerce de détail de biens d'occasion en magasin\",\n  \"47.81Z - Commerce de détail alimentaire sur éventaires et marchés\",\n  \"47.82Z - Commerce de détail de textiles, d'habillement et de chaussures sur éventaires et marchés\",\n  \"47.89Z - Autres commerces de détail sur éventaires et marchés\",\n  \"47.91A - Vente à distance sur catalogue général\",\n  \"47.91B - Vente à distance sur catalogue spécialisé\",\n  \"47.99A - Vente à domicile\",\n  \"47.99B - Vente par automates et autres commerces de détail hors magasin, éventaires ou marchés n.c.a.\",\n  \"49.10Z - Transport ferroviaire interurbain de voyageurs\",\n  \"49.20Z - Transports ferroviaires de fret\",\n  \"49.31Z - Transports urbains et suburbains de voyageurs\",\n  \"49.32Z - Transports de voyageurs par taxis\",\n  \"49.39A - Transports routiers réguliers de voyageurs\",\n  \"49.39B - Autres transports routiers de voyageurs\",\n  \"49.39C - Téléphériques et remontées mécaniques\",\n  \"49.41A - Transports routiers de fret interurbains\",\n  \"49.41B - Transports routiers de fret de proximité\",\n  \"49.41C - Location de camions avec chauffeur\",\n  \"49.42Z - Services de déménagement\",\n  \"49.50Z - Transports par conduites\",\n  \"50.10Z - Transports maritimes et côtiers de passagers\",\n  \"50.20Z - Transports maritimes et côtiers de fret\",\n  \"50.30Z - Transports fluviaux de passagers\",\n  \"50.40Z - Transports fluviaux de fret\",\n  \"51.10Z - Transports aériens de passagers\",\n  \"51.21Z - Transports aériens de fret\",\n  \"51.22Z - Transports spatiaux\",\n  \"52.10A - Entreposage et stockage frigorifique\",\n  \"52.10B - Entreposage et stockage non frigorifique\",\n  \"52.21Z - Services auxiliaires des transports terrestres\",\n  \"52.22Z - Services auxiliaires des transports par eau\",\n  \"52.23Z - Services auxiliaires des transports aériens\",\n  \"52.24A - Manutention portuaire\",\n  \"52.24B - Manutention non portuaire\",\n  \"52.29A - Messagerie, fret express\",\n  \"52.29B - Affrètement et organisation des transports\",\n  \"53.10Z - Activités de poste dans le cadre d'une obligation de service universel\",\n  \"53.20Z - Autres activités de poste et de courrier\",\n  \"55.10Z - Hôtels et hébergement similaire\",\n  \"55.20Z - Hébergement touristique et autre hébergement de courte durée\",\n  \"55.30Z - Terrains de camping et parcs pour caravanes ou véhicules de loisirs\",\n  \"55.90Z - Autres hébergements\",\n  \"56.10A - Restauration traditionnelle\",\n  \"56.10B - Cafétérias et autres libres-services\",\n  \"56.10C - Restauration de type rapide\",\n  \"56.21Z - Services des traiteurs\",\n  \"56.29A - Restauration collective sous contrat\",\n  \"56.29B - Autres services de restauration n.c.a.\",\n  \"56.30Z - Débits de boissons\",\n  \"58.11Z - Édition de livres\",\n  \"58.12Z - Édition de répertoires et de fichiers d'adresses\",\n  \"58.13Z - Édition de journaux\",\n  \"58.14Z - Édition de revues et périodiques\",\n  \"58.19Z - Autres activités d'édition\",\n  \"58.21Z - Édition de jeux électroniques\",\n  \"58.29A - Édition de logiciels système et de réseau\",\n  \"58.29B - Édition de logiciels outils de développement et de langages\",\n  \"58.29C - Édition de logiciels applicatifs\",\n  \"59.11A - Production de films et de programmes pour la télévision\",\n  \"59.11B - Production de films institutionnels et publicitaires\",\n  \"59.11C - Production de films pour le cinéma\",\n  \"59.12Z - Post-production de films cinématographiques, de vidéo et de programmes de télévision\",\n  \"59.13A - Distribution de films cinématographiques\",\n  \"59.13B - Édition et distribution vidéo\",\n  \"59.14Z - Projection de films cinématographiques\",\n  \"59.20Z - Enregistrement sonore et édition musicale\",\n  \"60.10Z - Édition et diffusion de programmes radio\",\n  \"60.20A - Édition de chaînes généralistes\",\n  \"60.20B - Édition de chaînes thématiques\",\n  \"61.10Z - Télécommunications filaires\",\n  \"61.20Z - Télécommunications sans fil\",\n  \"61.30Z - Télécommunications par satellite\",\n  \"61.90Z - Autres activités de télécommunication\",\n  \"62.01Z - Programmation informatique\",\n  \"62.02A - Conseil en systèmes et logiciels informatiques\",\n  \"62.02B - Tierce maintenance de systèmes et d'applications informatiques\",\n  \"62.03Z - Gestion d'installations informatiques\",\n  \"62.09Z - Autres activités informatiques\",\n  \"63.11Z - Traitement de données, hébergement et activités connexes\",\n  \"63.12Z - Portails Internet\",\n  \"63.91Z - Activités des agences de presse\",\n  \"63.99Z - Autres services d'information n.c.a.\",\n  \"64.11Z - Activités de banque centrale\",\n  \"64.19Z - Autres intermédiations monétaires\",\n  \"64.20Z - Activités des sociétés holding\",\n  \"64.30Z - Fonds de placement et entités financières similaires\",\n  \"64.91Z - Crédit-bail\",\n  \"64.92Z - Autre distribution de crédit\",\n  \"64.99Z - Autres activités des services financiers, hors assurance et caisses de retraite, n.c.a.\",\n  \"65.11Z - Assurance vie\",\n  \"65.12Z - Autres assurances\",\n  \"65.20Z - Réassurance\",\n  \"65.30Z - Caisses de retraite\",\n  \"66.11Z - Administration de marchés financiers\",\n  \"66.12Z - Courtage de valeurs mobilières et de marchandises\",\n  \"66.19A - Supports juridiques de gestion de patrimoine mobilier\",\n  \"66.19B - Autres activités auxiliaires de services financiers, hors assurance et caisses de retraite, n.c.a.\",\n  \"66.21Z - Évaluation des risques et dommages\",\n  \"66.22Z - Activités des agents et courtiers d'assurances\",\n  \"66.29Z - Autres activités auxiliaires d'assurance et de caisses de retraite\",\n  \"66.30Z - Gestion de fonds\",\n  \"68.10Z - Activités des marchands de biens immobiliers\",\n  \"68.20A - Location de logements\",\n  \"68.20B - Location de terrains et d'autres biens immobiliers\",\n  \"68.31Z - Agences immobilières\",\n  \"68.32A - Administration d'immeubles et autres biens immobiliers\",\n  \"68.32B - Supports juridiques de gestion de patrimoine immobilier\",\n  \"69.10Z - Activités juridiques\",\n  \"69.20Z - Activités comptables\",\n  \"70.10Z - Activités des sièges sociaux\",\n  \"70.21Z - Conseil en relations publiques et communication\",\n  \"70.22Z - Conseil pour les affaires et autres conseils de gestion\",\n  \"71.11Z - Activités d'architecture\",\n  \"71.12A - Activité des géomètres\",\n  \"71.12B - Ingénierie, études techniques\",\n  \"71.20A - Contrôle technique automobile\",\n  \"71.20B - Analyses, essais et inspections techniques\",\n  \"72.11Z - Recherche-développement en biotechnologie\",\n  \"72.19Z - Recherche-développement en autres sciences physiques et naturelles\",\n  \"72.20Z - Recherche-développement en sciences humaines et sociales\",\n  \"73.11Z - Activités des agences de publicité\",\n  \"73.12Z - Régie publicitaire de médias\",\n  \"73.20Z - Études de marché et sondages\",\n  \"74.10Z - Activités spécialisées de design\",\n  \"74.20Z - Activités photographiques\",\n  \"74.30Z - Traduction et interprétation\",\n  \"74.90A - Activité des économistes de la construction\",\n  \"74.90B - Activités spécialisées, scientifiques et techniques diverses\",\n  \"75.00Z - Activités vétérinaires\",\n  \"77.11A - Location de courte durée de voitures et de véhicules automobiles légers\",\n  \"77.11B - Location de longue durée de voitures et de véhicules automobiles légers\",\n  \"77.12Z - Location et location-bail de camions\",\n  \"77.21Z - Location et location-bail d'articles de loisirs et de sport\",\n  \"77.22Z - Location de vidéocassettes et disques vidéo\",\n  \"77.29Z - Location et location-bail d'autres biens personnels et domestiques\",\n  \"77.31Z - Location et location-bail de machines et équipements agricoles\",\n  \"77.32Z - Location et location-bail de machines et équipements pour la construction\",\n  \"77.33Z - Location et location-bail de machines de bureau et de matériel informatique\",\n  \"77.34Z - Location et location-bail de matériels de transport par eau\",\n  \"77.35Z - Location et location-bail de matériels de transport aérien\",\n  \"77.39Z - Location et location-bail d'autres machines, équipements et biens matériels n.c.a.\",\n  \"77.40Z - Location-bail de propriété intellectuelle et de produits similaires, à l'exception des œuvres soumises à copyright\",\n  \"78.10Z - Activités des agences de placement de main-d'œuvre\",\n  \"78.20Z - Activités des agences de travail temporaire\",\n  \"78.30Z - Autre mise à disposition de ressources humaines\",\n  \"79.11Z - Activités des agences de voyage\",\n  \"79.12Z - Activités des voyagistes\",\n  \"79.90Z - Autres services de réservation et activités connexes\",\n  \"80.10Z - Activités de sécurité privée\",\n  \"80.20Z - Activités liées aux systèmes de sécurité\",\n  \"80.30Z - Activités d'enquête\",\n  \"81.10Z - Activités combinées de soutien lié aux bâtiments\",\n  \"81.21Z - Nettoyage courant des bâtiments\",\n  \"81.22Z - Autres activités de nettoyage des bâtiments et nettoyage industriel\",\n  \"81.29A - Désinfection, désinsectisation, dératisation\",\n  \"81.29B - Autres activités de nettoyage n.c.a.\",\n  \"81.30Z - Services d'aménagement paysager\",\n  \"82.11Z - Services administratifs combinés de bureau\",\n  \"82.19Z - Photocopie, préparation de documents et autres activités spécialisées de soutien de bureau\",\n  \"82.20Z - Activités de centres d'appels\",\n  \"82.30Z - Organisation de foires, salons professionnels et congrès\",\n  \"82.91Z - Activités des agences de recouvrement de factures et des sociétés d'information financière sur la clientèle\",\n  \"82.92Z - Activités de conditionnement\",\n  \"82.99Z - Autres activités de soutien aux entreprises n.c.a.\",\n  \"84.11Z - Administration publique générale\",\n  \"84.12Z - Administration publique (tutelle) de la santé, de la formation, de la culture et des services sociaux, autre que sécurité sociale\",\n  \"84.13Z - Administration publique (tutelle) des activités économiques\",\n  \"84.21Z - Affaires étrangères\",\n  \"84.22Z - Défense\",\n  \"84.23Z - Justice\",\n  \"84.24Z - Activités d'ordre public et de sécurité\",\n  \"84.25Z - Services du feu et de secours\",\n  \"84.30A - Activités générales de sécurité sociale\",\n  \"84.30B - Gestion des retraites complémentaires\",\n  \"84.30C - Distribution sociale de revenus\",\n  \"85.10Z - Enseignement pré-primaire\",\n  \"85.20Z - Enseignement primaire\",\n  \"85.31Z - Enseignement secondaire général\",\n  \"85.32Z - Enseignement secondaire technique ou professionnel\",\n  \"85.41Z - Enseignement post-secondaire non supérieur\",\n  \"85.42Z - Enseignement supérieur\",\n  \"85.51Z - Enseignement de disciplines sportives et d'activités de loisirs\",\n  \"85.52Z - Enseignement culturel\",\n  \"85.53Z - Enseignement de la conduite\",\n  \"85.59A - Formation continue d'adultes\",\n  \"85.59B - Autres enseignements\",\n  \"85.60Z - Activités de soutien à l'enseignement\",\n  \"86.10Z - Activités hospitalières\",\n  \"86.21Z - Activité des médecins généralistes\",\n  \"86.22A - Activités de radiodiagnostic et de radiothérapie\",\n  \"86.22B - Activités chirurgicales\",\n  \"86.22C - Autres activités des médecins spécialistes\",\n  \"86.23Z - Pratique dentaire\",\n  \"86.90A - Ambulances\",\n  \"86.90B - Laboratoires d'analyses médicales\",\n  \"86.90C - Centres de collecte et banques d'organes\",\n  \"86.90D - Activités des infirmiers et des sages-femmes\",\n  \"86.90E - Activités des professionnels de la rééducation, de l'appareillage et des pédicures-podologues\",\n  \"86.90F - Activités de santé humaine non classées ailleurs\",\n  \"87.10A - Hébergement médicalisé pour personnes âgées\",\n  \"87.10B - Hébergement médicalisé pour enfants handicapés\",\n  \"87.10C - Hébergement médicalisé pour adultes handicapés et autre hébergement médicalisé\",\n  \"87.20A - Hébergement social pour handicapés mentaux et malades mentaux\",\n  \"87.20B - Hébergement social pour toxicomanes\",\n  \"87.30A - Hébergement social pour personnes âgées\",\n  \"87.30B - Hébergement social pour handicapés physiques\",\n  \"87.90A - Hébergement social pour enfants en difficultés\",\n  \"87.90B - Hébergement social pour adultes et familles en difficultés et autre hébergement social\",\n  \"88.10A - Aide à domicile\",\n  \"88.10B - Accueil ou accompagnement sans hébergement d'adultes handicapés ou de personnes âgées\",\n  \"88.10C - Aide par le travail\",\n  \"88.91A - Accueil de jeunes enfants\",\n  \"88.91B - Accueil ou accompagnement sans hébergement d'enfants handicapés\",\n  \"88.99A - Autre accueil ou accompagnement sans hébergement d'enfants et d'adolescents\",\n  \"88.99B - Action sociale sans hébergement n.c.a.\",\n  \"90.01Z - Arts du spectacle vivant\",\n  \"90.02Z - Activités de soutien au spectacle vivant\",\n  \"90.03A - Création artistique relevant des arts plastiques\",\n  \"90.03B - Autre création artistique\",\n  \"90.04Z - Gestion de salles de spectacles\",\n  \"91.01Z - Gestion des bibliothèques et des archives\",\n  \"91.02Z - Gestion des musées\",\n  \"91.03Z - Gestion des sites et monuments historiques et des attractions touristiques similaires\",\n  \"91.04Z - Gestion des jardins botaniques et zoologiques et des réserves naturelles\",\n  \"92.00Z - Organisation de jeux de hasard et d'argent\",\n  \"93.11Z - Gestion d'installations sportives\",\n  \"93.12Z - Activités de clubs de sports\",\n  \"93.13Z - Activités des centres de culture physique\",\n  \"93.19Z - Autres activités liées au sport\",\n  \"93.21Z - Activités des parcs d'attractions et parcs à thèmes\",\n  \"93.29Z - Autres activités récréatives et de loisirs\",\n  \"94.11Z - Activités des organisations patronales et consulaires\",\n  \"94.12Z - Activités des organisations professionnelles\",\n  \"94.20Z - Activités des syndicats de salariés\",\n  \"94.91Z - Activités des organisations religieuses\",\n  \"94.92Z - Activités des organisations politiques\",\n  \"94.99Z - Autres organisations fonctionnant par adhésion volontaire\",\n  \"95.11Z - Réparation d'ordinateurs et d'équipements périphériques\",\n  \"95.12Z - Réparation d'équipements de communication\",\n  \"95.21Z - Réparation de produits électroniques grand public\",\n  \"95.22Z - Réparation d'appareils électroménagers et d'équipements pour la maison et le jardin\",\n  \"95.23Z - Réparation de chaussures et d'articles en cuir\",\n  \"95.24Z - Réparation de meubles et d'équipements du foyer\",\n  \"95.25Z - Réparation d'articles d'horlogerie et de bijouterie\",\n  \"95.29Z - Réparation d'autres biens personnels et domestiques\",\n  \"96.01A - Blanchisserie-teinturerie de gros\",\n  \"96.01B - Blanchisserie-teinturerie de détail\",\n  \"96.02A - Coiffure\",\n  \"96.02B - Soins de beauté\",\n  \"96.03Z - Services funéraires\",\n  \"96.04Z - Entretien corporel\",\n  \"96.09Z - Autres services personnels n.c.a.\",\n  \"97.00Z - Activités des ménages en tant qu'employeurs de personnel domestique\",\n  \"98.10Z - Activités indifférenciées des ménages en tant que producteurs de biens pour usage propre\",\n  \"98.20Z - Activités indifférenciées des ménages en tant que producteurs de services pour usage propre\",\n  \"99.00Z - Activités des organisations et organismes extraterritoriaux\",\n]\n\nexport const codeNafFromCode = (code: string) => listeCodeNaf.find((codeNaf) => codeNaf.startsWith(code)) || \"\"\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { useField } from \"react-final-form\"\nimport { Link } from \"@chakra-ui/react\"\n\nimport Input from \"./Input\"\nimport globalStyles from \"../utils/globalStyles\"\nimport { isEmpty } from \"../utils/object\"\nimport { composeValidators, required, simpleMemoize, ValidatorFunction } from \"../utils/formHelpers\"\nimport { ownersForSiren, validateSiren } from \"../utils/api\"\nimport { EntrepriseType } from \"../globals\"\nimport ActivityIndicator from \"./ActivityIndicator\"\nimport { useUser } from \"../utils/hooks\"\nimport { IconExternalLink } from \"./ds/Icons\"\nimport React from \"react\"\n\nconst nineDigits: ValidatorFunction = (value) =>\n  value.length === 9 ? undefined : \"Ce champ n’est pas valide, renseignez un numéro SIREN de 9 chiffres.\"\n\nconst memoizedValidateSiren = simpleMemoize(async (siren: string) => await validateSiren(siren))\n\nconst NOT_ALLOWED_MESSAGE = \"Vous n'êtes pas autorisé à déclarer pour ce SIREN.\"\nconst UNKNOWN_SIREN =\n  \"Ce Siren n'existe pas, veuillez vérifier votre saisie, sinon veuillez contacter votre référent de l'égalité professionnelle.\"\n\nexport const checkSiren = (updateSirenData: (data: EntrepriseType) => void) => async (siren: string) => {\n  let result\n  try {\n    result = await memoizedValidateSiren(siren)\n  } catch (error) {\n    console.error(error)\n    updateSirenData({})\n    return `Numéro SIREN invalide: ${siren}`\n  }\n\n  try {\n    await ownersForSiren(siren)\n  } catch (error) {\n    console.error(error)\n    updateSirenData({})\n    return NOT_ALLOWED_MESSAGE\n  }\n\n  if (isEmpty(result?.jsonBody)) {\n    updateSirenData({})\n    return UNKNOWN_SIREN\n  }\n\n  updateSirenData(result.jsonBody)\n}\n\nexport const sirenValidator = (updateSirenData: (data: EntrepriseType) => void) =>\n  composeValidators(required, nineDigits, checkSiren(updateSirenData))\n\nfunction FieldSiren({\n  name,\n  label,\n  readOnly,\n  updateSirenData,\n  validator,\n  customStyles,\n}: {\n  name: string\n  label: string\n  readOnly: boolean\n  updateSirenData: (sirenData: EntrepriseType) => void\n  validator?: ValidatorFunction\n  customStyles?: any\n}) {\n  const field = useField(name, {\n    validate: validator ? validator : sirenValidator(updateSirenData),\n  })\n  const { meta } = field\n\n  const { email } = useUser()\n\n  // For required and 9digits validators, we want to display errors onBlur or onSubmit.\n  // But for sirenValidator, we want to display errors as soon as the API answers us.\n  const error =\n    (meta?.error && meta?.submitFailed) ||\n    (meta?.error && meta?.touched) ||\n    meta?.error === NOT_ALLOWED_MESSAGE ||\n    meta?.error === UNKNOWN_SIREN\n\n  return (\n    <div css={[customStyles, styles.formField]}>\n      <label css={[styles.label, error && styles.labelError]} htmlFor={field.input.name}>\n        {label}\n      </label>\n      <div css={styles.fieldRow}>\n        <Input field={field} readOnly={readOnly} />\n        {field.meta.validating && (\n          <div css={styles.spinner}>\n            <ActivityIndicator size={30} color={globalStyles.colors.primary} />\n          </div>\n        )}\n      </div>\n      {error && (\n        <p css={styles.error}>\n          {field.meta.error}\n          {field.meta.error === NOT_ALLOWED_MESSAGE && (\n            <React.Fragment>\n              <br />\n              Pour faire une demande à l'équipe Egapro,&nbsp;\n              <Link\n                isExternal\n                textDecoration=\"underline\"\n                href={`mailto:dgt.ega-pro@travail.gouv.fr?subject=EgaPro - Demander à être déclarant d'un SIREN&body=Bonjour, je souhaite être déclarant pour le SIREN ${field.input.value}. Mon email de déclaration est ${email}. Cordialement.`}\n              >\n                cliquez ici&nbsp;\n                <IconExternalLink />\n              </Link>\n              .\n            </React.Fragment>\n          )}\n        </p>\n      )}\n    </div>\n  )\n}\n\nconst styles = {\n  formField: css({\n    marginBottom: 20,\n  }),\n  label: css({\n    fontSize: 14,\n    fontWeight: \"bold\",\n    lineHeight: \"17px\",\n  }),\n  labelError: css({\n    color: globalStyles.colors.error,\n  }),\n  fieldRow: css({\n    height: 38,\n    marginTop: 5,\n    marginBottom: 5,\n    display: \"flex\",\n    input: {\n      borderRadius: 4,\n      border: \"1px solid\",\n    },\n    \"input[readonly]\": { border: 0 },\n    position: \"relative\",\n  }),\n  error: css({\n    height: 18,\n    color: globalStyles.colors.error,\n    fontSize: 12,\n    lineHeight: \"15px\",\n  }),\n  spinner: css({\n    position: \"absolute\",\n    right: 4,\n    top: 4,\n  }),\n}\n\nexport default FieldSiren\n","export const isEmpty = (param: Record<string, unknown>): boolean => !Object.keys(param).length\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\n\nimport globalStyles from \"../../../utils/globalStyles\"\n\nimport ActionLink from \"../../../components/ActionLink\"\nimport ButtonAction from \"../../../components/ButtonAction\"\n\nimport { IconWarning } from \"../../../components/ds/Icons\"\nimport { useColumnsWidth, useLayoutType } from \"../../../components/GridContext\"\n\nfunction ModalConfirmDelete({ closeModal, sendChangeEvent }: { closeModal: () => void; sendChangeEvent: () => void }) {\n  const layoutType = useLayoutType()\n  const width = useColumnsWidth(layoutType === \"desktop\" ? 6 : 7)\n\n  return (\n    <div css={[styles.modalConfirm, css({ width })]}>\n      <div css={[styles.bloc]}>\n        <div css={styles.blocIcon}>\n          <IconWarning />\n        </div>\n\n        <div>\n          <p css={styles.blocTitle}>{`Êtes-vous sûr de vouloir réduire le nombre d'entreprises composant l'UES ?`}</p>\n          <p css={styles.blocText}>\n            toutes les données renseignées pour ces entreprises seront effacées définitivement.\n          </p>\n\n          <div css={styles.actionBar}>\n            <ButtonAction\n              onClick={() => {\n                sendChangeEvent()\n                closeModal()\n              }}\n              label=\"confirmer et supprimer les données\"\n            />\n            <div css={styles.spacerActionBarModal} />\n            <ActionLink onClick={closeModal}>annuler</ActionLink>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst styles = {\n  modalConfirm: css({\n    width: 616,\n    padding: \"17px 16px 18px\",\n    backgroundColor: \"#F6F7FF\",\n    borderRadius: 5,\n  }),\n\n  bloc: css({\n    display: \"flex\",\n  }),\n  blocIcon: {\n    marginRight: 22,\n    color: globalStyles.colors.primary,\n  },\n\n  blocTitle: css({\n    fontSize: 18,\n    lineHeight: \"22px\",\n    textTransform: \"uppercase\",\n    color: globalStyles.colors.primary,\n  }),\n  blocText: css({\n    fontSize: 18,\n    lineHeight: \"22px\",\n    color: globalStyles.colors.primary,\n  }),\n\n  actionBar: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    marginTop: 16,\n  }),\n\n  spacerActionBarModal: css({\n    width: 21,\n  }),\n}\n\nexport default ModalConfirmDelete\n","/** @jsx jsx */\nimport { useState } from \"react\"\nimport { css, jsx } from \"@emotion/react\"\nimport { Field } from \"react-final-form\"\n\nimport { EntrepriseUES } from \"../globals\"\n\nimport globalStyles from \"../utils/globalStyles\"\n\nimport {\n  composeValidators,\n  minNumber,\n  mustBeInteger,\n  mustBeNumber,\n  required,\n  ValidatorFunction,\n} from \"../utils/formHelpers\"\n\nimport ModalConfirmDelete from \"../views/InformationsEntreprise/components/EntrepriseUESModalConfirmDelete\"\nimport { Modal } from \"./ModalContext\"\n\nconst atLeastTwo: ValidatorFunction = (value) =>\n  minNumber(2)(value) ? \"le nombre d'entreprises composant l'UES doit être un nombre supérieur ou égal à 2\" : undefined\n\nexport const validator = composeValidators(required, mustBeNumber, mustBeInteger, atLeastTwo)\n\nfunction NombreEntreprises({\n  fieldName,\n  label,\n  entreprisesUES,\n  newNombreEntreprises,\n  readOnly,\n}: {\n  fieldName: string\n  label: string\n  entreprisesUES: Array<EntrepriseUES>\n  newNombreEntreprises: (fieldName: string, newValue: string) => undefined\n  readOnly: boolean\n}) {\n  const [newValue, setNewValue] = useState<string | undefined>(undefined)\n  const confirmChangeEvent = (newValue: string) => {\n    setNewValue(newValue)\n  }\n  const closeModal = () => {\n    setNewValue(undefined)\n  }\n\n  return (\n    <Field name={fieldName} validate={validator}>\n      {({ input, meta }) => (\n        <div css={styles.formField}>\n          <label css={[styles.label, meta.error && meta.touched && styles.labelError]} htmlFor={input.name}>\n            {label}\n          </label>\n          <div css={styles.fieldRow}>\n            <input\n              css={[styles.input, meta.error && meta.touched && styles.inputError]}\n              {...input}\n              readOnly={readOnly}\n              onChange={(event) => {\n                const newValue = event.target.value\n                const newSize = Number.isNaN(Number(newValue)) ? 0 : Number(newValue)\n                if (\n                  validator(newValue) !== undefined || // Si invalide, sera bloqué au niveau de la validation du champ dans RFF\n                  newSize >= entreprisesUES.length\n                ) {\n                  input.onChange(event)\n                } else {\n                  confirmChangeEvent(event.target.value)\n                }\n              }}\n            />\n          </div>\n          {meta.error && meta.touched && <p css={styles.error}>{meta.error}</p>}\n          <Modal isOpen={newValue !== undefined} onRequestClose={closeModal}>\n            <ModalConfirmDelete\n              closeModal={closeModal}\n              sendChangeEvent={() => {\n                if (newValue !== undefined) {\n                  newNombreEntreprises(fieldName, newValue)\n                }\n              }}\n            />\n          </Modal>\n        </div>\n      )}\n    </Field>\n  )\n}\n\nconst styles = {\n  formField: css({\n    marginBottom: 20,\n  }),\n  label: css({\n    fontSize: 14,\n    fontWeight: \"bold\",\n    lineHeight: \"17px\",\n  }),\n  labelError: css({\n    color: globalStyles.colors.error,\n  }),\n  input: css({\n    appearance: \"none\",\n    border: `solid ${globalStyles.colors.default} 1px`,\n    width: \"100%\",\n    fontSize: 14,\n    lineHeight: \"17px\",\n    paddingLeft: 22,\n    paddingRight: 22,\n  }),\n  inputError: css({\n    color: globalStyles.colors.error,\n    borderColor: globalStyles.colors.error,\n  }),\n  fieldRow: css({\n    height: 38,\n    marginTop: 5,\n    marginBottom: 5,\n    display: \"flex\",\n    input: {\n      borderRadius: 4,\n      border: \"1px solid\",\n    },\n    \"input[readonly]\": { border: 0 },\n  }),\n  error: css({\n    height: 18,\n    color: globalStyles.colors.error,\n    fontSize: 12,\n    textDecoration: \"underline\",\n    lineHeight: \"15px\",\n  }),\n}\n\nexport default NombreEntreprises\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { useField } from \"react-final-form\"\nimport Input, { hasFieldError } from \"./Input\"\n\nimport globalStyles from \"../utils/globalStyles\"\n\nfunction TextField({\n  errorText,\n  fieldName,\n  label,\n  readOnly,\n  customStyles,\n  autocomplete,\n}: {\n  errorText: string\n  fieldName: string\n  label: string\n  readOnly: boolean\n  customStyles?: any\n  autocomplete?: string\n}) {\n  const field = useField(fieldName)\n  const error = hasFieldError(field.meta)\n\n  return (\n    <div css={[customStyles, styles.formField]}>\n      <label css={[styles.label, error && styles.labelError]} htmlFor={field.input.name}>\n        {label}\n      </label>\n      <div css={styles.fieldRow}>\n        <Input field={field} readOnly={readOnly} autocomplete={autocomplete} />\n      </div>\n      <p css={styles.error}>{error && errorText}</p>\n    </div>\n  )\n}\n\nconst styles = {\n  formField: css({\n    marginBottom: 20,\n  }),\n  label: css({\n    fontSize: 14,\n    fontWeight: \"bold\",\n    lineHeight: \"17px\",\n  }),\n  labelError: css({\n    color: globalStyles.colors.error,\n  }),\n  fieldRow: css({\n    height: 38,\n    marginTop: 5,\n    marginBottom: 5,\n    display: \"flex\",\n    input: {\n      borderRadius: 4,\n      border: \"1px solid\",\n    },\n    \"input[readonly]\": { border: 0 },\n  }),\n  error: css({\n    height: 18,\n    color: globalStyles.colors.error,\n    fontSize: 12,\n    textDecoration: \"underline\",\n    lineHeight: \"15px\",\n  }),\n}\n\nexport default TextField\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { useField } from \"react-final-form\"\n\nimport globalStyles from \"../../../utils/globalStyles\"\n\nimport { hasFieldError } from \"../../../components/Input\"\nimport FieldSiren, { sirenValidator } from \"../../../components/FieldSiren\"\nimport TextField from \"../../../components/TextField\"\nimport { EntrepriseUES } from \"../../../globals\"\nimport { EntrepriseType } from \"../../../globals\"\nimport { composeValidators, required } from \"../../../utils/formHelpers\"\n\nfunction EntrepriseUESInput({\n  nom,\n  siren,\n  index,\n  readOnly,\n  updateSirenData,\n}: {\n  nom: string\n  siren: string\n  index: number\n  readOnly: boolean\n  updateSirenData: (sirenData: EntrepriseType) => void\n}) {\n  const checkDuplicates = (value: string, allValues: any) => {\n    const sirenList = allValues.entreprisesUES.map((entreprise: EntrepriseUES) => entreprise.siren)\n    sirenList.push(allValues.siren)\n    if (sirenList.filter((siren: string) => siren === value).length >= 2) {\n      return \"ce numéro SIREN est déjà utilisé\"\n    }\n    return undefined\n  }\n\n  const nomField = useField(nom, {\n    validate: required,\n    parse: (value) => value,\n    format: (value) => value,\n  })\n  const nomError = hasFieldError(nomField.meta)\n\n  return (\n    <div css={styles.inputField}>\n      <label css={[styles.label, nomError && styles.labelError]} htmlFor={nomField.input.name}>\n        {`Entreprise ${index + 1}`}\n      </label>\n\n      <div css={styles.fieldRow}>\n        <FieldSiren\n          label=\"Siren de l'entreprise\"\n          name={siren}\n          readOnly={readOnly}\n          updateSirenData={updateSirenData}\n          validator={composeValidators(checkDuplicates, sirenValidator(updateSirenData))}\n          customStyles={styles.siren}\n        />\n        <TextField\n          label=\"Nom de l'entreprise\"\n          fieldName={nom}\n          readOnly={true}\n          errorText=\"le nom n'est pas valide\"\n          customStyles={styles.nomEntreprise}\n        />\n      </div>\n    </div>\n  )\n}\n\nconst styles = {\n  inputField: css({\n    alignSelf: \"stretch\",\n  }),\n  label: css({\n    fontSize: 14,\n    lineHeight: \"17px\",\n  }),\n  labelError: css({\n    color: globalStyles.colors.error,\n  }),\n  fieldRow: css({\n    height: 100,\n    marginTop: 5,\n    display: \"flex\",\n    justifyContent: \"space-between\",\n  }),\n  siren: css({\n    marginRight: \"1em\",\n    width: \"9em\",\n  }),\n  nomEntreprise: css({\n    flexGrow: 2,\n  }),\n  delete: css({\n    marginLeft: globalStyles.grid.gutterWidth,\n  }),\n  error: css({\n    height: 18,\n    color: globalStyles.colors.error,\n    fontSize: 12,\n    fontStyle: \"italic\",\n    lineHeight: \"15px\",\n  }),\n}\n\nexport default EntrepriseUESInput\n","/** @jsx jsx */\nimport { Fragment } from \"react\"\nimport { css, jsx } from \"@emotion/react\"\nimport { MutableState, Tools } from \"final-form\"\nimport arrayMutators from \"final-form-arrays\"\nimport { Form } from \"react-final-form\"\nimport createDecorator from \"final-form-calculate\"\nimport { FieldArray } from \"react-final-form-arrays\"\n\nimport {\n  AppState,\n  FormState,\n  ActionInformationsEntrepriseData,\n  Structure,\n  EntrepriseUES,\n  EntrepriseType,\n} from \"../../globals\"\n\nimport globalStyles from \"../../utils/globalStyles\"\n\nimport { mustBeNumber, parseIntFormValue, parseIntStateValue, required } from \"../../utils/formHelpers\"\n\nimport ActionBar from \"../../components/ActionBar\"\nimport ActionLink from \"../../components/ActionLink\"\nimport CodeNaf, { codeNafFromCode } from \"../../components/CodeNaf\"\nimport FieldSiren from \"../../components/FieldSiren\"\nimport FormAutoSave from \"../../components/FormAutoSave\"\nimport FormSubmit from \"../../components/FormSubmit\"\nimport NombreEntreprises, { validator as validateNombreEntreprises } from \"../../components/NombreEntreprises\"\nimport RadioButtons from \"../../components/RadioButtons\"\nimport RegionsDepartements, { departementFromCode, regionFromCode } from \"../../components/RegionsDepartements\"\nimport { departementCode } from \"../../components/RegionsDepartements\"\nimport TextField from \"../../components/TextField\"\nimport { ButtonSimulatorLink } from \"../../components/SimulatorLink\"\nimport EntrepriseUESInput from \"./components/EntrepriseUESInputField\"\n\nconst validate = (value: string) => {\n  const requiredError = required(value)\n  if (!requiredError) {\n    return undefined\n  } else {\n    return {\n      required: requiredError,\n    }\n  }\n}\n\nconst validateCodePostal = (codePostal: string, departement: string) => {\n  let dptCode = departementCode[departement]\n  if (!dptCode) return undefined\n  if ([\"2A\", \"2B\"].includes(dptCode)) {\n    dptCode = \"20\"\n  }\n  const requiredError = required(codePostal)\n  const mustBeNumberError = mustBeNumber(codePostal)\n  const mustBe5DigitsError = codePostal && codePostal.length !== 5\n  const mustBeInDepartementError = codePostal && !codePostal.startsWith(dptCode)\n  if (!requiredError && !mustBeNumberError && !mustBe5DigitsError && !mustBeInDepartementError) {\n    return undefined\n  } else {\n    return {\n      required: requiredError,\n      mustBeNumber: mustBeNumberError,\n      mustBe5Digits: mustBe5DigitsError,\n      mustBeInDepartementError: mustBeInDepartementError,\n    }\n  }\n}\n\nconst validateForm = ({\n  nomEntreprise,\n  siren,\n  codeNaf,\n  region,\n  departement,\n  codePostal,\n  commune,\n  structure,\n  nomUES,\n}: {\n  nomEntreprise: string\n  siren: string\n  codeNaf: string\n  region: string\n  departement: string\n  codePostal: string\n  commune: string\n  structure: Structure\n  nomUES: string\n}) => ({\n  nomEntreprise: validate(nomEntreprise),\n  siren: validate(siren),\n  codeNaf: validate(codeNaf),\n  region: validate(region),\n  departement: validate(departement),\n  adresse: undefined, // address is not filled for some case returned by the API entreprise.\n  codePostal: validateCodePostal(codePostal, departement),\n  commune: validate(commune),\n  structure: validate(structure),\n  nomUES: structure === \"Unité Economique et Sociale (UES)\" ? validate(nomUES) : undefined,\n})\n\nconst calculator = createDecorator({\n  field: \"nombreEntreprises\",\n  updates: {\n    entreprisesUES: (nombreEntreprises, { entreprisesUES }: any) =>\n      adaptEntreprisesUESSize(nombreEntreprises, entreprisesUES),\n  },\n})\n\nconst adaptEntreprisesUESSize = (nombreEntreprises: string, entreprisesUES: Array<EntrepriseUES>) => {\n  if (validateNombreEntreprises(nombreEntreprises) === undefined) {\n    // Il faut une entreprise à déclarer de moins vu que l'entreprise déclarant pour le compte de l'UES a déjà renseigné ses infos\n    const newSize = Number(nombreEntreprises) - 1\n    while (newSize > entreprisesUES.length) {\n      // Augmenter la taille de l'array si nécessaire\n      entreprisesUES.push({ nom: \"\", siren: \"\" })\n    }\n    // Réduire la taille de l'array si nécessaire\n    entreprisesUES.length = newSize\n  }\n  return entreprisesUES\n}\n\ninterface Props {\n  informationsEntreprise: AppState[\"informationsEntreprise\"]\n  readOnly: boolean\n  updateInformationsEntreprise: (data: ActionInformationsEntrepriseData) => void\n  validateInformationsEntreprise: (valid: FormState) => void\n}\n\nfunction InformationsEntrepriseForm({\n  informationsEntreprise,\n  readOnly,\n  updateInformationsEntreprise,\n  validateInformationsEntreprise,\n}: Props) {\n  const initialValues = {\n    nomEntreprise: informationsEntreprise.nomEntreprise,\n    siren: informationsEntreprise.siren,\n    codeNaf: informationsEntreprise.codeNaf,\n    region: informationsEntreprise.region,\n    departement: informationsEntreprise.departement,\n    adresse: informationsEntreprise.adresse,\n    codePostal: informationsEntreprise.codePostal,\n    commune: informationsEntreprise.commune,\n    structure: informationsEntreprise.structure,\n    nomUES: informationsEntreprise.nomUES,\n    nombreEntreprises: parseIntStateValue(informationsEntreprise.nombreEntreprises),\n    entreprisesUES: informationsEntreprise.entreprisesUES,\n  }\n\n  const saveForm = (formData: any) => {\n    const {\n      nomEntreprise,\n      siren,\n      codeNaf,\n      region,\n      departement,\n      adresse,\n      codePostal,\n      commune,\n      structure,\n      nomUES,\n      nombreEntreprises,\n      entreprisesUES,\n    } = formData\n\n    updateInformationsEntreprise({\n      nomEntreprise: nomEntreprise,\n      siren: siren,\n      codeNaf: codeNaf,\n      region,\n      departement,\n      adresse,\n      codePostal,\n      commune,\n      structure,\n      nomUES,\n      nombreEntreprises: parseIntFormValue(nombreEntreprises),\n      entreprisesUES,\n    })\n  }\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData)\n    validateInformationsEntreprise(\"Valid\")\n  }\n\n  // Form mutator utilisé par le composant NombreEntreprise pour ne changer la\n  // valeur du state qu'une fois la confirmation validée\n  const newNombreEntreprises = (\n    [name, newValue]: [string, string],\n    state: MutableState<any>,\n    { changeValue }: Tools<any>,\n  ) => {\n    changeValue(state, name, () => newValue)\n  }\n\n  return (\n    <Form\n      onSubmit={onSubmit}\n      mutators={{\n        // potentially other mutators could be merged here\n        newNombreEntreprises,\n        ...arrayMutators,\n      }}\n      initialValues={initialValues}\n      validate={validateForm}\n      decorators={[calculator]}\n      // mandatory to not change user inputs\n      // because we want to keep wrong string inside the input\n      // we don't want to block string value\n      initialValuesEqual={() => true}\n    >\n      {({ form, handleSubmit, values, hasValidationErrors, errors, submitFailed }) => (\n        <form onSubmit={handleSubmit} css={styles.container}>\n          <FormAutoSave saveForm={saveForm} />\n          <RadioButtons\n            fieldName=\"structure\"\n            label=\"Vous déclarez en tant que\"\n            value={values.structure}\n            readOnly={readOnly}\n            choices={[\n              {\n                label: \"Entreprise\",\n                value: \"Entreprise\",\n              },\n              {\n                label: \"Unité Economique et Sociale (UES)\",\n                value: \"Unité Economique et Sociale (UES)\",\n              },\n            ]}\n          />\n\n          <FieldSiren\n            label=\"SIREN\"\n            name=\"siren\"\n            readOnly={readOnly}\n            updateSirenData={(sirenData: EntrepriseType) =>\n              form.batch(() => {\n                form.change(\"nomEntreprise\", sirenData.raison_sociale || \"\")\n                form.change(\"codeNaf\", codeNafFromCode(sirenData.code_naf || \"\"))\n                form.change(\"region\", regionFromCode(sirenData.région || \"\"))\n                form.change(\"departement\", departementFromCode(sirenData.département || \"\"))\n                form.change(\"adresse\", sirenData.adresse || \"\")\n                form.change(\"commune\", sirenData.commune || \"\")\n                form.change(\"codePostal\", sirenData.code_postal || \"\")\n              })\n            }\n          />\n\n          <TextField\n            label={\n              values.structure === \"Unité Economique et Sociale (UES)\"\n                ? \"Raison sociale de l'entreprise déclarant pour le compte de l'UES\"\n                : \"Raison sociale de l'entreprise\"\n            }\n            fieldName=\"nomEntreprise\"\n            errorText=\"le nom de l'entreprise n'est pas valide\"\n            readOnly={true}\n          />\n          <CodeNaf label=\"Code NAF\" name=\"codeNaf\" readOnly={true} />\n          <RegionsDepartements nameRegion=\"region\" nameDepartement=\"departement\" readOnly={true} />\n          <TextField label=\"Adresse\" fieldName=\"adresse\" errorText=\"l'adresse n’est pas valide\" readOnly={true} />\n          <TextField\n            label=\"Code Postal\"\n            fieldName=\"codePostal\"\n            errorText={\n              errors.codePostal &&\n              (errors.codePostal.required || errors.codePostal.mustBeNumber || errors.codePostal.mustBe5Digits)\n                ? \"le code postal doit être composé de 5 chiffres\"\n                : `le code postal ne correspond pas au département choisi (${departementCode[values.departement]})`\n            }\n            readOnly={true}\n          />\n          <TextField label=\"Commune\" fieldName=\"commune\" errorText=\"la commune n'est pas valide\" readOnly={true} />\n\n          {values.structure === \"Unité Economique et Sociale (UES)\" && (\n            <Fragment>\n              <TextField\n                label=\"Nom de l'UES\"\n                fieldName=\"nomUES\"\n                errorText=\"le nom de l'UES n'est pas valide\"\n                readOnly={readOnly}\n              />\n              <NombreEntreprises\n                fieldName=\"nombreEntreprises\"\n                label=\"Nombre d'entreprises composant l'UES (le déclarant compris)\"\n                entreprisesUES={informationsEntreprise.entreprisesUES}\n                newNombreEntreprises={form.mutators.newNombreEntreprises}\n                readOnly={readOnly}\n              />\n              <h3>Saisie du numéro Siren des entreprises composant l'UES (ne pas inclure l'entreprise déclarante)</h3>\n              <FieldArray name=\"entreprisesUES\">\n                {({ fields }) => {\n                  return (\n                    <Fragment>\n                      {fields.map((entrepriseUES, index) => (\n                        <EntrepriseUESInput\n                          key={entrepriseUES}\n                          nom={`${entrepriseUES}.nom`}\n                          siren={`${entrepriseUES}.siren`}\n                          index={index}\n                          readOnly={readOnly}\n                          updateSirenData={(sirenData: EntrepriseType) =>\n                            form.change(`${entrepriseUES}.nom`, sirenData.raison_sociale || \"\")\n                          }\n                        />\n                      ))}\n                    </Fragment>\n                  )\n                }}\n              </FieldArray>\n            </Fragment>\n          )}\n\n          {readOnly ? (\n            <ActionBar>\n              <ButtonSimulatorLink to=\"/informations-declarant\" label=\"suivant\" />\n              &emsp;\n              {informationsEntreprise.formValidated === \"Valid\" && (\n                <p css={styles.edit}>\n                  <ActionLink onClick={() => validateInformationsEntreprise(\"None\")}>\n                    modifier les données saisies\n                  </ActionLink>\n                </p>\n              )}\n            </ActionBar>\n          ) : (\n            <ActionBar>\n              <FormSubmit\n                hasValidationErrors={hasValidationErrors}\n                submitFailed={submitFailed}\n                errorMessage=\"Le formulaire ne peut pas être validé si tous les champs ne sont pas remplis.\"\n              />\n            </ActionBar>\n          )}\n        </form>\n      )}\n    </Form>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n  }),\n  edit: css({\n    marginTop: 14,\n    marginBottom: 14,\n    textAlign: \"center\",\n  }),\n  add: css({\n    display: \"flex\",\n    alignItems: \"center\",\n    marginTop: 46 - 18 - 5,\n    textDecoration: \"none\",\n  }),\n  addIcon: css({\n    width: 32,\n    height: 32,\n    marginRight: 16,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n\n    backgroundColor: globalStyles.colors.default,\n    borderRadius: 16,\n  }),\n  spacerAdd: css({\n    height: 32,\n    marginTop: 46 - 18 - 5,\n  }),\n}\n\nexport default InformationsEntrepriseForm\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/react\"\nimport { useCallback, ReactNode } from \"react\"\nimport { RouteComponentProps } from \"react-router-dom\"\n\nimport { AppState, FormState, ActionType, ActionInformationsEntrepriseData } from \"../../globals\"\n\nimport Page from \"../../components/Page\"\nimport LayoutFormAndResult from \"../../components/LayoutFormAndResult\"\n\nimport InformationsEntrepriseForm from \"./InformationsEntrepriseForm\"\nimport { useTitle } from \"../../utils/hooks\"\n\ninterface Props extends RouteComponentProps {\n  state: AppState\n  dispatch: (action: ActionType) => void\n}\n\nconst title = \"Informations entreprise/UES\"\n\nfunction InformationsEntreprise({ state, dispatch }: Props) {\n  useTitle(title)\n\n  const updateInformationsEntreprise = useCallback(\n    (data: ActionInformationsEntrepriseData) => dispatch({ type: \"updateInformationsEntreprise\", data }),\n    [dispatch],\n  )\n\n  const validateInformationsEntreprise = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateInformationsEntreprise\", valid }),\n    [dispatch],\n  )\n\n  return (\n    <PageInformationsEntreprise>\n      <LayoutFormAndResult\n        childrenForm={\n          <InformationsEntrepriseForm\n            informationsEntreprise={state.informationsEntreprise}\n            readOnly={state.informationsEntreprise.formValidated === \"Valid\"}\n            updateInformationsEntreprise={updateInformationsEntreprise}\n            validateInformationsEntreprise={validateInformationsEntreprise}\n          />\n        }\n        childrenResult={null}\n      />\n    </PageInformationsEntreprise>\n  )\n}\n\nfunction PageInformationsEntreprise({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title={title}\n      tagline={[\n        \"Renseignez le périmètre retenu pour le calcul de l'index (Entreprise ou UES), le numéro Siren de l'entreprise déclarante, ainsi que les informations concernant l'UES.\",\n        \"Les informations relatives à l'entreprise (Raison sociale, Code NAF, Adresse complète) sont renseignées automatiquement et sont non modifiables (source : Répertoire Sirene de l'INSEE).\",\n      ]}\n    >\n      {children}\n    </Page>\n  )\n}\n\nexport default InformationsEntreprise\n","import InformationsEntreprise from \"./InformationsEntreprise\"\nexport default InformationsEntreprise\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { Field, Form } from \"react-final-form\"\nimport { Link } from \"react-router-dom\"\n\nimport globalStyles from \"../../utils/globalStyles\"\n\nimport { AppState, FormState, ActionInformationsDeclarantData } from \"../../globals\"\n\nimport { mustBeNumber, required, validateEmail } from \"../../utils/formHelpers\"\n\nimport ActionBar from \"../../components/ActionBar\"\nimport ActionLink from \"../../components/ActionLink\"\nimport FormAutoSave from \"../../components/FormAutoSave\"\nimport FormSubmit from \"../../components/FormSubmit\"\nimport TextField from \"../../components/TextField\"\nimport { ButtonSimulatorLink } from \"../../components/SimulatorLink\"\n\n///////////////////\n\nconst validate = (value: string) => {\n  const requiredError = required(value)\n  if (!requiredError) {\n    return undefined\n  } else {\n    return {\n      required: requiredError,\n    }\n  }\n}\n\nconst validateTel = (value: string) => {\n  const requiredError = required(value)\n  const mustBeNumberError = mustBeNumber(value)\n  const mustBe10DigitsError = value && value.length !== 10\n  if (!requiredError && !mustBeNumberError && !mustBe10DigitsError) {\n    return undefined\n  } else {\n    return {\n      required: requiredError,\n      mustBeNumber: mustBeNumberError,\n      mustBe10Digits: mustBe10DigitsError,\n    }\n  }\n}\n\nconst validateForm = ({\n  nom,\n  prenom,\n  tel,\n  email,\n  acceptationCGU,\n}: {\n  nom: string\n  prenom: string\n  tel: string\n  email: string\n  acceptationCGU: boolean\n}) => ({\n  nom: validate(nom),\n  prenom: validate(prenom),\n  tel: validateTel(tel),\n  email: validateEmail(email) ? { invalid: true } : undefined,\n  acceptationCGU: acceptationCGU ? undefined : { invalid: true },\n})\n\ninterface Props {\n  informationsDeclarant: AppState[\"informationsDeclarant\"]\n  readOnly: boolean\n  updateInformationsDeclarant: (data: ActionInformationsDeclarantData) => void\n  validateInformationsDeclarant: (valid: FormState) => void\n}\n\nfunction InformationsDeclarantForm({\n  informationsDeclarant,\n  readOnly,\n  updateInformationsDeclarant,\n  validateInformationsDeclarant,\n}: Props) {\n  const initialValues: ActionInformationsDeclarantData = {\n    nom: informationsDeclarant.nom,\n    prenom: informationsDeclarant.prenom,\n    tel: informationsDeclarant.tel,\n    email: informationsDeclarant.email,\n    acceptationCGU: informationsDeclarant.acceptationCGU,\n  }\n\n  const saveForm = (formData: any) => {\n    const { nom, prenom, tel, email, acceptationCGU } = formData\n\n    updateInformationsDeclarant({\n      nom,\n      prenom,\n      tel,\n      email,\n      acceptationCGU,\n    })\n  }\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData)\n    validateInformationsDeclarant(\"Valid\")\n  }\n\n  return (\n    <Form\n      onSubmit={onSubmit}\n      initialValues={initialValues}\n      validate={validateForm}\n      // mandatory to not change user inputs\n      // because we want to keep wrong string inside the input\n      // we don't want to block string value\n      initialValuesEqual={() => true}\n    >\n      {({ handleSubmit, hasValidationErrors, submitFailed }) => (\n        <form onSubmit={handleSubmit} css={styles.container}>\n          <FormAutoSave saveForm={saveForm} />\n\n          <TextField\n            label=\"Nom du déclarant\"\n            fieldName=\"nom\"\n            errorText=\"le nom n’est pas valide\"\n            readOnly={readOnly}\n            autocomplete=\"family-name\"\n          />\n          <TextField\n            label=\"Prénom du déclarant\"\n            fieldName=\"prenom\"\n            errorText=\"le prénom n’est pas valide\"\n            readOnly={readOnly}\n            autocomplete=\"given-name\"\n          />\n          <TextField\n            label=\"Numéro de téléphone\"\n            fieldName=\"tel\"\n            errorText=\"le numéro de téléphone doit être composé de 10 chiffres\"\n            readOnly={readOnly}\n            autocomplete=\"tel-national\"\n          />\n          <TextField\n            label=\"Email (fourni lors de la demande de validation de l'email)\"\n            fieldName=\"email\"\n            errorText=\"l'email n’est pas valide\"\n            readOnly={true}\n          />\n          <Field name=\"acceptationCGU\" component=\"input\" type=\"checkbox\">\n            {({ input, meta }: { input: any; meta: any }) => (\n              <label css={styles.label}>\n                <input {...input} disabled={readOnly} /> J'accepte l'utilisation de mes données à caractère personnel\n                pour réaliser des statistiques et pour vérifier la validité de ma déclaration. Pour en savoir plus sur\n                l'usage de ces données, vous pouvez consulter nos{\" \"}\n                <Link to=\"/cgu\">Conditions Générales d'Utilisation</Link>\n                {meta.error && meta.touched && <p css={styles.error}>veuillez accepter les CGUs</p>}\n              </label>\n            )}\n          </Field>\n          {readOnly ? (\n            <ActionBar>\n              <ButtonSimulatorLink to=\"/declaration\" label=\"suivant\" />\n              &emsp;\n              {informationsDeclarant.formValidated === \"Valid\" && (\n                <p css={styles.edit}>\n                  <ActionLink onClick={() => validateInformationsDeclarant(\"None\")}>\n                    modifier les données saisies\n                  </ActionLink>\n                </p>\n              )}\n            </ActionBar>\n          ) : (\n            <ActionBar>\n              <FormSubmit\n                hasValidationErrors={hasValidationErrors}\n                submitFailed={submitFailed}\n                errorMessage=\"Le formulaire ne peut pas être validé si tous les champs ne sont pas remplis.\"\n              />\n            </ActionBar>\n          )}\n        </form>\n      )}\n    </Form>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n  }),\n  edit: css({\n    marginTop: 14,\n    marginBottom: 14,\n    textAlign: \"center\",\n  }),\n  label: css({\n    fontSize: 14,\n  }),\n  error: css({\n    height: 18,\n    color: globalStyles.colors.error,\n    fontSize: 12,\n    textDecoration: \"underline\",\n    lineHeight: \"15px\",\n  }),\n}\n\nexport default InformationsDeclarantForm\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/react\"\nimport { useCallback, ReactNode } from \"react\"\nimport { RouteComponentProps } from \"react-router-dom\"\n\nimport { AppState, FormState, ActionType, ActionInformationsDeclarantData } from \"../../globals\"\n\nimport Page from \"../../components/Page\"\nimport LayoutFormAndResult from \"../../components/LayoutFormAndResult\"\n\nimport InformationsDeclarantForm from \"./InformationsDeclarantForm\"\nimport { useTitle } from \"../../utils/hooks\"\n\ninterface Props extends RouteComponentProps {\n  state: AppState\n  dispatch: (action: ActionType) => void\n}\n\nconst title = \"Informations déclarant\"\n\nfunction InformationsDeclarant({ state, dispatch }: Props) {\n  useTitle(title)\n\n  const updateInformationsDeclarant = useCallback(\n    (data: ActionInformationsDeclarantData) => dispatch({ type: \"updateInformationsDeclarant\", data }),\n    [dispatch],\n  )\n\n  const validateInformationsDeclarant = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateInformationsDeclarant\", valid }),\n    [dispatch],\n  )\n\n  return (\n    <PageInformationsDeclarant>\n      <LayoutFormAndResult\n        childrenForm={\n          <InformationsDeclarantForm\n            informationsDeclarant={state.informationsDeclarant}\n            readOnly={state.informationsDeclarant.formValidated === \"Valid\"}\n            updateInformationsDeclarant={updateInformationsDeclarant}\n            validateInformationsDeclarant={validateInformationsDeclarant}\n          />\n        }\n        childrenResult={null}\n      />\n    </PageInformationsDeclarant>\n  )\n}\n\nfunction PageInformationsDeclarant({ children }: { children: ReactNode }) {\n  return (\n    <Page title={title} tagline=\"Renseignez le nom du déclarant, ainsi que son prénom, numéro de téléphone et email\">\n      {children}\n    </Page>\n  )\n}\n\nexport default InformationsDeclarant\n","import InformationsDeclarant from \"./InformationsDeclarant\"\nexport default InformationsDeclarant\n","/** @jsx jsx */\nimport { Fragment } from \"react\"\nimport { css, jsx } from \"@emotion/react\"\nimport { Field } from \"react-final-form\"\n\nimport globalStyles from \"../utils/globalStyles\"\n\nimport { required } from \"../utils/formHelpers\"\n\nfunction AnneeDeclaration({ name, label, readOnly }: { name: string; label: string; readOnly: boolean }) {\n  // TODO: ce code est correct mais peut prêter à confusion : les utilisateurs\n  // peuvent croire qu'il faut mettre \"2020\" pour une déclaration en février\n  // 2020, alors que leur période de référence se termine le 31 décembre 2019\n  // (et donc l'année au titre de laquelle les indicateurs sont calculés devrait\n  // être 2019). Cf https://github.com/SocialGouv/egapro/issues/503\n  // const currentYear = new Date().getFullYear();\n  // // 2018 est la première année pour laquelle il était possible de déclarer, et\n  // // il est possible de déclarer jusqu'à l'année n.\n  // const numYears = currentYear - 2018 + 1;\n  // const yearList = Array(numYears)\n  //   .fill(0)\n  //   .map((_item, index) => Number(2018 + index).toString())\n  //   .reverse();\n  // TODO: supprimer cette ligne et repasser au code ci-dessus, ou alors\n  // supprimer l'année au titre de laquelle les indicateurs sont calculés, et\n  // utiliser l'année de la date de fin de la période de référence.\n  const yearList = [\"2020\", \"2019\", \"2018\"]\n  return (\n    <Field name={name} validate={required} component=\"select\">\n      {({ input, meta }) => (\n        <div css={styles.formField}>\n          <label css={[styles.label, meta.error && meta.touched && styles.labelError]} htmlFor={input.name}>\n            {label}\n          </label>\n          {readOnly ? (\n            <div css={styles.fieldRow}>\n              <div css={styles.fakeInput}>{input.value}</div>\n            </div>\n          ) : (\n            <Fragment>\n              <div css={styles.fieldRow}>\n                <select {...input}>\n                  <option />\n                  {yearList.map((year: string) => (\n                    <option value={year} key={year}>\n                      {year}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              {meta.error && meta.touched && (\n                <p css={styles.error}>veuillez sélectionner une année de déclaration dans la liste</p>\n              )}\n            </Fragment>\n          )}\n        </div>\n      )}\n    </Field>\n  )\n}\n\nconst styles = {\n  formField: css({\n    marginBottom: 20,\n  }),\n  label: css({\n    fontSize: 14,\n    fontWeight: \"bold\",\n    lineHeight: \"17px\",\n  }),\n  labelError: css({\n    color: globalStyles.colors.error,\n  }),\n  fieldRow: css({\n    height: 38,\n    marginTop: 5,\n    marginBottom: 5,\n    display: \"flex\",\n    select: {\n      borderRadius: 4,\n      border: \"1px solid\",\n      width: \"100%\",\n    },\n  }),\n  error: css({\n    height: 18,\n    color: globalStyles.colors.error,\n    fontSize: 12,\n    textDecoration: \"underline\",\n    lineHeight: \"15px\",\n  }),\n  fakeInput: css({\n    flexGrow: 1,\n    flexShrink: 1,\n    flexBasis: \"auto\",\n    paddingLeft: 23,\n    paddingRight: 23,\n\n    backgroundColor: \"white\",\n    borderRadius: 5,\n\n    fontSize: 14,\n    lineHeight: \"38px\",\n    cursor: \"not-allowed\",\n  }),\n}\n\nexport default AnneeDeclaration\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { ReactNode } from \"react\"\nimport { useField } from \"react-final-form\"\n\nfunction RadioField({\n  fieldName,\n  label,\n  value,\n  choiceValue,\n  disabled,\n}: {\n  fieldName: string\n  label: ReactNode\n  value: string\n  choiceValue: string\n  disabled: boolean\n}) {\n  const { input } = useField(fieldName, { type: \"radio\", value: choiceValue })\n  return (\n    <label css={[styles.label, value === choiceValue && styles.labelChecked, disabled && styles.labelDisabled]}>\n      <input css={styles.radio} {...input} disabled={disabled} />\n      <span css={styles.labelText}>{label}</span>\n    </label>\n  )\n}\n\nexport type RadioLabelChoice = {\n  label: string\n  value: string\n}\n\ninterface Props {\n  readOnly: boolean\n  fieldName: string\n  label: string\n  value: string\n  choices: RadioLabelChoice[]\n}\n\nfunction RadioLabels({ readOnly, fieldName, label, value, choices }: Props) {\n  return (\n    <div css={styles.container}>\n      <p css={styles.inputLabel}>{label}</p>\n      <div css={[styles.radioField]}>\n        {choices.map(({ label: choiceLabel, value: choiceValue }) => (\n          <RadioField\n            key={choiceLabel}\n            fieldName={fieldName}\n            label={choiceLabel}\n            value={value}\n            choiceValue={choiceValue}\n            disabled={readOnly}\n          />\n        ))}\n      </div>\n    </div>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    fontSize: 14,\n    marginBottom: 40,\n  }),\n  radioField: css({\n    display: \"flex\",\n    marginTop: 5,\n  }),\n  inputLabel: css({\n    fontSize: 14,\n    fontWeight: \"bold\",\n    lineHeight: \"17px\",\n  }),\n  label: css({\n    backgroundColor: \"#fff\",\n    flex: 1,\n    fontSize: 14,\n    cursor: \"pointer\",\n    display: \"inline-block\",\n    padding: \"10px 20px\",\n    border: \"solid #191a49 1px\",\n    borderRight: 0,\n    textAlign: \"center\",\n    \"&:first-of-type\": {\n      borderRight: 0,\n      borderRadius: \"4px 0 0 4px\",\n    },\n    \"&:last-of-type\": {\n      borderRadius: \"0 4px 4px 0\",\n      borderRight: \"solid #191a49 1px\",\n    },\n  }),\n  labelChecked: css({\n    backgroundColor: \"#696CD1\",\n    color: \"#fff\",\n  }),\n  labelDisabled: css({\n    border: 0,\n    \"&:last-of-type\": {\n      borderRight: 0,\n    },\n  }),\n  labelText: css({\n    lineHeight: \"16px\",\n  }),\n  radio: css({\n    display: \"none\",\n  }),\n}\n\nexport default RadioLabels\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { Form, useField } from \"react-final-form\"\n\nimport { AppState, FormState, ActionInformationsSimulationData } from \"../../globals\"\n\nimport {\n  mustBeNumber,\n  parseIntFormValue,\n  parseIntStateValue,\n  parseTrancheEffectifsFormValue,\n  required,\n} from \"../../utils/formHelpers\"\nimport { parseDate } from \"../../utils/helpers\"\n\nimport ActionBar from \"../../components/ActionBar\"\nimport ActionLink from \"../../components/ActionLink\"\nimport AnneeDeclaration from \"../../components/AnneeDeclaration\"\nimport FieldDate from \"../../components/FieldDate\"\nimport FormAutoSave from \"../../components/FormAutoSave\"\nimport FormSubmit from \"../../components/FormSubmit\"\nimport Input, { hasFieldError } from \"../../components/Input\"\nimport RadioLabels from \"../../components/RadioLabels\"\nimport { ButtonSimulatorLink } from \"../../components/SimulatorLink\"\nimport globalStyles from \"../../utils/globalStyles\"\nimport ButtonAction from \"../../components/ButtonAction\"\n\n///////////////////\n\nconst validate = (value: string) => {\n  const requiredError = required(value)\n  if (!requiredError) {\n    return undefined\n  } else {\n    return {\n      required: requiredError,\n    }\n  }\n}\n\nconst validateInt = (value: string) => {\n  const requiredError = required(value)\n  const mustBeNumberError = mustBeNumber(value)\n  if (!requiredError && !mustBeNumberError) {\n    return undefined\n  } else {\n    return { required: requiredError, mustBeNumber: mustBeNumberError }\n  }\n}\n\nconst validateForm = ({\n  nomEntreprise,\n  anneeDeclaration,\n  finPeriodeReference,\n}: {\n  nomEntreprise: string\n  anneeDeclaration: string\n  finPeriodeReference: string\n}) => {\n  const parsedFinPeriodeReference = parseDate(finPeriodeReference)\n  return {\n    nomEntreprise: validate(nomEntreprise),\n    anneeDeclaration: validateInt(anneeDeclaration),\n    finPeriodeReference:\n      parsedFinPeriodeReference !== undefined && parsedFinPeriodeReference.getFullYear().toString() === anneeDeclaration\n        ? undefined\n        : {\n            correspondanceAnneeDeclaration:\n              \"L'année de fin de période de référence doit correspondre à l'année au titre de laquelle les indicateurs sont calculés\",\n          },\n  }\n}\n\ninterface Props {\n  informations: AppState[\"informations\"]\n  readOnly: boolean\n  updateInformationsSimulation: (data: ActionInformationsSimulationData) => void\n  validateInformationsSimulation: (valid: FormState) => void\n}\n\nfunction InformationsSimulationForm({\n  informations,\n  readOnly,\n  updateInformationsSimulation,\n  validateInformationsSimulation,\n}: Props) {\n  const initialValues = {\n    nomEntreprise: informations.nomEntreprise,\n    trancheEffectifs: informations.trancheEffectifs,\n    anneeDeclaration: parseIntStateValue(informations.anneeDeclaration),\n    finPeriodeReference: informations.finPeriodeReference,\n  }\n\n  const saveForm = (formData: any) => {\n    const { nomEntreprise, trancheEffectifs, anneeDeclaration, finPeriodeReference } = formData\n\n    updateInformationsSimulation({\n      nomEntreprise,\n      trancheEffectifs: parseTrancheEffectifsFormValue(trancheEffectifs),\n      anneeDeclaration: parseIntFormValue(anneeDeclaration),\n      finPeriodeReference,\n    })\n  }\n\n  const onSubmit = (formData: any) => {\n    saveForm(formData)\n    validateInformationsSimulation(\"Valid\")\n  }\n\n  return (\n    <Form\n      onSubmit={onSubmit}\n      initialValues={initialValues}\n      validate={validateForm}\n      // mandatory to not change user inputs\n      // because we want to keep wrong string inside the input\n      // we don't want to block string value\n      initialValuesEqual={() => true}\n      mutators={{\n        selectEndOfYear: (args, state, utils) => {\n          const anneeDeclaration = parseIntFormValue((state.formState.values as any).anneeDeclaration)\n          if (!anneeDeclaration) return\n          utils.changeValue(state, \"finPeriodeReference\", () => `31/12/${anneeDeclaration}`)\n        },\n      }}\n    >\n      {({ form, handleSubmit, hasValidationErrors, submitFailed, values }) => (\n        <form onSubmit={handleSubmit} css={styles.container}>\n          {/* pass `onlyWhenDirty={false}` because we want the form to always\n          auto save, as we update the left menu depending on the \"tranche\n          d'effectifs\". Otherwise it would not re-update the menu when\n          switching back to the original value */}\n          <FormAutoSave saveForm={saveForm} onlyWhenDirty={false} />\n          <FieldNomEntreprise readOnly={readOnly} />\n\n          <RadioLabels\n            fieldName=\"trancheEffectifs\"\n            label=\"Tranche d'effectifs assujettis de l'entreprise ou de l'unité économique et sociale (UES)\"\n            choices={[\n              {\n                label: \"Entre 50 et 250\",\n                value: \"50 à 250\",\n              },\n              {\n                label: \"Entre 251 et 999\",\n                value: \"251 à 999\",\n              },\n              {\n                label: \"1000 et plus\",\n                value: \"1000 et plus\",\n              },\n            ]}\n            value={values.trancheEffectifs}\n            readOnly={readOnly}\n          />\n\n          <AnneeDeclaration\n            label=\"Année au titre de laquelle les indicateurs sont calculés\"\n            name=\"anneeDeclaration\"\n            readOnly={readOnly}\n          />\n\n          <FieldPeriodeReference\n            readOnly={readOnly || !parseIntFormValue(values.anneeDeclaration)}\n            onClick={form.mutators.selectEndOfYear}\n          />\n\n          {readOnly ? (\n            <ActionBar>\n              <ButtonSimulatorLink to=\"/effectifs\" label=\"suivant\" />\n              &emsp;\n              {informations.formValidated === \"Valid\" && (\n                <p css={styles.edit}>\n                  <ActionLink onClick={() => validateInformationsSimulation(\"None\")}>\n                    modifier les données saisies\n                  </ActionLink>\n                </p>\n              )}\n            </ActionBar>\n          ) : (\n            <ActionBar>\n              <FormSubmit\n                hasValidationErrors={hasValidationErrors}\n                submitFailed={submitFailed}\n                errorMessage=\"Le formulaire ne peut pas être validé si tous les champs ne sont pas remplis.\"\n              />\n            </ActionBar>\n          )}\n        </form>\n      )}\n    </Form>\n  )\n}\n\nfunction FieldNomEntreprise({ readOnly }: { readOnly: boolean }) {\n  const field = useField(\"nomEntreprise\", { validate })\n  const error = hasFieldError(field.meta)\n\n  return (\n    <div css={styles.formField}>\n      <label css={[styles.label, error && styles.labelError]} htmlFor={field.input.name}>\n        Nom de la simulation (ex : nom_entreprise_date)\n      </label>\n      <div css={styles.fieldRow}>\n        <Input field={field} readOnly={readOnly} />\n      </div>\n      <p css={styles.error}>{error && \"le nom n’est pas valide\"}</p>\n    </div>\n  )\n}\n\nfunction FieldPeriodeReference({ readOnly, onClick }: { readOnly: boolean; onClick: () => void }) {\n  //TODO REFACTOR : j'ai ajouté htmlFor pour le label, mais en fait c'est le composant FieldDate qui devrait avoir ne\n  // pas avoir de label (à l'heure actuell, il ajoute une balise label sans contenu texte)\n  return (\n    <div>\n      <label css={styles.label} htmlFor=\"finPeriodeReference\">\n        Date de fin de la période de référence choisie pour le calcul de votre Index (jj/mm/aaaa)\n      </label>\n      <div css={styles.dates}>\n        <FieldDate name=\"finPeriodeReference\" readOnly={readOnly} label=\"\" />\n        <ButtonAction\n          label=\"sélectionner la fin de l'année civile\"\n          onClick={onClick}\n          variant={readOnly ? \"outline\" : \"solid\"}\n        />\n      </div>\n    </div>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n  }),\n  formField: css({\n    marginBottom: 20,\n  }),\n  label: css({\n    fontSize: 14,\n    fontWeight: \"bold\",\n    lineHeight: \"17px\",\n  }),\n  labelError: css({\n    color: globalStyles.colors.error,\n  }),\n  fieldRow: css({\n    height: 38,\n    marginTop: 5,\n    marginBottom: 5,\n    display: \"flex\",\n    input: {\n      borderRadius: 4,\n      border: \"1px solid\",\n    },\n    \"input[readonly]\": { border: 0 },\n  }),\n  error: css({\n    height: 18,\n    color: globalStyles.colors.error,\n    fontSize: 12,\n    textDecoration: \"underline\",\n    lineHeight: \"15px\",\n  }),\n  dates: css({\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    \"> *\": { width: \"48% !important\" },\n  }),\n  edit: css({\n    marginTop: 14,\n    marginBottom: 14,\n    textAlign: \"center\",\n  }),\n}\n\nexport default InformationsSimulationForm\n","/** @jsx jsx */\nimport { jsx } from \"@emotion/react\"\nimport { useCallback, ReactNode } from \"react\"\nimport { RouteComponentProps } from \"react-router-dom\"\n\nimport { AppState, FormState, ActionType, ActionInformationsSimulationData } from \"../../globals\"\n\nimport InfoBlock from \"../../components/ds/InfoBlock\"\nimport Page from \"../../components/Page\"\nimport LayoutFormAndResult from \"../../components/LayoutFormAndResult\"\n\nimport InformationsSimulationForm from \"./InformationsSimulationForm\"\nimport { useTitle } from \"../../utils/hooks\"\n\ninterface Props extends RouteComponentProps {\n  state: AppState\n  dispatch: (action: ActionType) => void\n}\n\nconst title = \"Informations calcul et période de référence\"\n\nfunction InformationsSimulation({ state, dispatch }: Props) {\n  useTitle(title)\n\n  const updateInformationsSimulation = useCallback(\n    (data: ActionInformationsSimulationData) => dispatch({ type: \"updateInformationsSimulation\", data }),\n    [dispatch],\n  )\n\n  const validateInformationsSimulation = useCallback(\n    (valid: FormState) => dispatch({ type: \"validateInformationsSimulation\", valid }),\n    [dispatch],\n  )\n\n  return (\n    <PageInformationsSimulation>\n      <LayoutFormAndResult\n        childrenForm={\n          <InformationsSimulationForm\n            informations={state.informations}\n            readOnly={state.informations.formValidated === \"Valid\"}\n            updateInformationsSimulation={updateInformationsSimulation}\n            validateInformationsSimulation={validateInformationsSimulation}\n          />\n        }\n        childrenResult={null}\n      />\n\n      {state.informations.formValidated === \"Valid\" &&\n        (state.effectif.formValidated === \"Invalid\" ||\n          state.indicateurUn.formValidated === \"Invalid\" ||\n          (state.informations.trancheEffectifs !== \"50 à 250\" &&\n            (state.indicateurDeux.formValidated === \"Invalid\" || state.indicateurTrois.formValidated === \"Invalid\")) ||\n          (state.informations.trancheEffectifs === \"50 à 250\" &&\n            state.indicateurDeuxTrois.formValidated === \"Invalid\") ||\n          state.indicateurQuatre.formValidated === \"Invalid\" ||\n          state.indicateurCinq.formValidated === \"Invalid\") && (\n          <InfoBlock\n            title=\"Vos informations ont été modifiées\"\n            type=\"success\"\n            text=\"Afin de s'assurer de la cohérence de votre index, merci de vérifier les données de vos indicateurs.\"\n          />\n        )}\n    </PageInformationsSimulation>\n  )\n}\n\nfunction PageInformationsSimulation({ children }: { children: ReactNode }) {\n  return (\n    <Page\n      title={title}\n      tagline=\"Renseignez la tranche d'effectifs assujettis de votre entreprise ou unité économique et sociale (UES), l'année au titre de laquelle les indicateurs sont calculés ainsi que la date de fin de la période de référence.\"\n    >\n      {children}\n    </Page>\n  )\n}\n\nexport default InformationsSimulation\n","import InformationsSimulation from \"./InformationsSimulation\"\nexport default InformationsSimulation\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { Fragment, ReactNode } from \"react\"\n\nimport { FormState, TrancheEffectifs } from \"../../globals\"\nimport { calendarYear, Year } from \"../../utils/helpers\"\n\nimport InfoBlock from \"../../components/ds/InfoBlock\"\nimport { TextSimulatorLink } from \"../../components/SimulatorLink\"\nimport { useColumnsWidth, useLayoutType } from \"../../components/GridContext\"\n\ninterface Props {\n  informationsFormValidated: FormState\n  trancheEffectifs: TrancheEffectifs\n  anneeDeclaration: number | undefined\n  finPeriodeReference: string\n  nombreSalaries: number | undefined\n}\n\nfunction RecapitulatifInformations({\n  informationsFormValidated,\n  trancheEffectifs,\n  anneeDeclaration,\n  finPeriodeReference,\n  nombreSalaries,\n}: Props) {\n  const layoutType = useLayoutType()\n  const width = useColumnsWidth(layoutType === \"desktop\" ? 6 : 7)\n\n  if (informationsFormValidated !== \"Valid\") {\n    return (\n      <div css={styles.container}>\n        <InfoBlock\n          type=\"warning\"\n          title=\"Informations\"\n          text={\n            <Fragment>\n              Nous ne pouvons pas afficher les informations de votre entreprise car vous n’avez pas encore validé vos\n              données saisies. <TextSimulatorLink to=\"/informations\" label=\"Valider les données\" />\n            </Fragment>\n          }\n        />\n      </div>\n    )\n  }\n\n  return (\n    <div css={[styles.container, css({ width })]}>\n      <DataDisplay header=\"Année au titre de laquelle les indicateurs sont calculés\" data={anneeDeclaration} />\n\n      <DataDisplay header=\"Période de référence\">\n        <div css={styles.dates}>\n          <div css={styles.dateField}>\n            <DataDisplay header=\"Date de début\" data={calendarYear(finPeriodeReference, Year.Subtract, 1)} />\n          </div>\n\n          <div css={styles.dateField}>\n            <DataDisplay header=\"Date de fin\" data={finPeriodeReference} />\n          </div>\n        </div>\n      </DataDisplay>\n\n      <DataDisplay header=\"Tranche d'effectifs de l'entreprise ou de l'UES\" data={trancheEffectifs} />\n\n      <DataDisplay header=\"Nombre de salariés pris en compte pour le calcul de l'index\" data={nombreSalaries} />\n    </div>\n  )\n}\n\ninterface DataDisplayProps {\n  header: string\n  children?: ReactNode\n  data?: any\n}\n\nfunction DataDisplay({ header, data, children }: DataDisplayProps) {\n  return (\n    <Fragment>\n      <p css={styles.header}>{header}</p>\n      {data ? <div css={styles.data}>{data}</div> : children}\n    </Fragment>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: 22,\n    marginBottom: 22,\n  }),\n  header: css({\n    fontWeight: \"bold\",\n    marginTop: 5,\n  }),\n  dates: css({\n    display: \"flex\",\n    justifyContent: \"space-between\",\n  }),\n  data: css({\n    backgroundColor: \"#fff\",\n    lineHeight: \"2.5em\",\n    paddingLeft: \"1em\",\n    marginBottom: 20,\n    marginLeft: 0,\n    marginTop: 5,\n    borderRadius: 4,\n  }),\n  dateField: css({ width: \"40%\" }),\n}\n\nexport default RecapitulatifInformations\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { ReactNode } from \"react\"\n\nimport globalStyles from \"../../../utils/globalStyles\"\n\nimport ResultBubble, { Props as ResultBubbleProps } from \"../../../components/ResultBubble\"\n\nimport { useColumnsWidth, useLayoutType } from \"../../../components/GridContext\"\n\ninterface Props {\n  title: string\n  children: ReactNode\n  resultBubble: ResultBubbleProps\n}\n\nexport function RecapBloc({ title, children, resultBubble }: Props) {\n  const layoutType = useLayoutType()\n  const width = useColumnsWidth(layoutType === \"desktop\" ? 4 : 5)\n\n  return (\n    <div css={styles.container}>\n      <div css={[styles.blocInfo, css({ width }), styles.blocInfoPrint]}>\n        <div css={styles.title}>{title}</div>\n\n        {children && (\n          <div css={styles.bloc}>\n            <div css={styles.background} />\n\n            <div css={styles.bloc}>{children}</div>\n          </div>\n        )}\n\n        <div css={[styles.borderBottomBloc, !children && styles.borderNoChildren]} />\n        <div css={[styles.borderLeftBloc, !children && styles.borderNoChildren]} />\n      </div>\n\n      <div css={styles.blocResult}>\n        <div css={[styles.borderBottomResult, !children && styles.borderNoChildren]} />\n        <div css={[styles.borderRightResult, !children && styles.borderNoChildren]} />\n        <ResultBubble {...resultBubble} />\n      </div>\n    </div>\n  )\n}\n\nconst styles = {\n  container: css({\n    position: \"relative\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    pageBreakInside: \"avoid\", // doesn't seems to work…\n    breakInside: \"avoid\",\n  }),\n  background: css({\n    backgroundColor: \"#FFF\",\n    position: \"absolute\",\n    top: -20,\n    bottom: -20,\n    left: -38,\n    right: -38,\n    borderRadius: \"100%\",\n    border: \"1px solid #E3E4ED\",\n    \"@media print\": {\n      display: \"none\",\n    },\n  }),\n\n  blocInfo: css({\n    position: \"relative\",\n    flexShrink: 0,\n    paddingLeft: globalStyles.grid.gutterWidth,\n    \"@media print\": {\n      flexShrink: 1,\n      flexGrow: 1,\n    },\n  }),\n  blocInfoPrint: css({\n    \"@media print\": {\n      width: \"auto\",\n    },\n  }),\n  title: css({\n    marginBottom: 20,\n    fontSize: 18,\n    lineHeight: \"22px\",\n    textTransform: \"uppercase\",\n  }),\n\n  bloc: css({\n    position: \"relative\",\n  }),\n  borderBottomBloc: css({\n    position: \"absolute\",\n    height: 1,\n    backgroundColor: globalStyles.colors.default,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    \"@media print\": {\n      borderBottom: `solid ${globalStyles.colors.default} 1px`,\n      background: \"none\",\n    },\n  }),\n  borderLeftBloc: css({\n    position: \"absolute\",\n    width: 1,\n    backgroundColor: globalStyles.colors.default,\n    bottom: 0,\n    top: 0,\n    left: 0,\n    \"@media print\": {\n      borderLeft: `solid ${globalStyles.colors.default} 1px`,\n      background: \"none\",\n    },\n  }),\n\n  borderBottomResult: css({\n    position: \"absolute\",\n    height: 1,\n    backgroundColor: globalStyles.colors.default,\n    bottom: 0,\n    left: -globalStyles.grid.gutterWidth,\n    right: \"50%\",\n    \"@media print\": {\n      borderBottom: `solid ${globalStyles.colors.default} 1px`,\n      background: \"none\",\n    },\n  }),\n  borderRightResult: css({\n    position: \"absolute\",\n    width: 1,\n    backgroundColor: globalStyles.colors.default,\n    bottom: 0,\n    top: 0,\n    right: \"50%\",\n    \"@media print\": {\n      borderRight: `solid ${globalStyles.colors.default} 1px`,\n      background: \"none\",\n    },\n  }),\n  blocResult: css({\n    position: \"relative\",\n    maxWidth: 250,\n    flexGrow: 1,\n    flexShrink: 1,\n    flexBasis: \"auto\",\n    marginLeft: globalStyles.grid.gutterWidth,\n    display: \"flex\",\n    flexDirection: \"column\",\n    \"@media print\": {\n      minWidth: 250,\n      flexShrink: 0,\n    },\n  }),\n\n  borderNoChildren: css({\n    bottom: \"50%\",\n  }),\n}\n\nexport default RecapBloc\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { ReactNode } from \"react\"\n\nimport globalStyles from \"../../../utils/globalStyles\"\n\nimport { displayFractionPercent } from \"../../../utils/helpers\"\n\nimport { CellHead, Cell } from \"../../../components/Cell\"\n\nfunction RowData({\n  name,\n  data,\n  asPercent,\n  message,\n}: {\n  name: string\n  data: Array<number | undefined>\n  asPercent?: boolean\n  message?: string\n}) {\n  return (\n    <div css={styles.container}>\n      <div css={styles.row}>\n        <CellHead style={styles.cellHead}>{name}</CellHead>\n\n        {data.map((datum, index) => (\n          <Cell\n            key={index}\n            style={[\n              styles.cell,\n              datum !== undefined && Math.sign(datum) > 0 ? styles.cellMen : styles.cellWomen,\n              datum === undefined && styles.cellEmpty,\n            ]}\n          >\n            {datum !== undefined ? (asPercent ? displayFractionPercent(datum, 1) : datum) : \"nc\"}\n          </Cell>\n        ))}\n      </div>\n      <p css={css({ fontSize: \"0.8em\" })}>{message}</p>\n    </div>\n  )\n}\n\nexport function RowDataFull({ name, data, asPercent }: { name: string; data: number | undefined; asPercent: boolean }) {\n  return (\n    <div css={styles.container}>\n      <div css={styles.row}>\n        <CellHead style={styles.cellHead}>{name}</CellHead>\n\n        <Cell\n          style={[\n            styles.cell,\n            styles.cellFull,\n            data !== undefined && Math.sign(data) > 0 ? styles.cellMen : styles.cellWomen,\n            data === undefined && styles.cellEmpty,\n          ]}\n        >\n          {data !== undefined ? (asPercent ? displayFractionPercent(data, 1) : data) : \"nc\"}\n        </Cell>\n      </div>\n    </div>\n  )\n}\n\nexport function RowLabels({ labels }: { labels: Array<string> }) {\n  return (\n    <div css={[styles.row, styles.rowLabel]}>\n      <CellHead />\n\n      {labels.map((label, index) => (\n        <Cell key={index} style={[styles.cell, styles.cellLabel]}>\n          {label}\n        </Cell>\n      ))}\n    </div>\n  )\n}\n\nexport function RowLabelFull({ label }: { label: ReactNode }) {\n  return (\n    <div css={[styles.row, styles.rowLabel]}>\n      <CellHead />\n\n      <Cell style={[styles.cell, styles.cellLabel, styles.cellFull]}>{label}</Cell>\n    </div>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"stretch\",\n    height: 51,\n    marginBottom: 10,\n  }),\n  row: css({\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-start\",\n  }),\n  rowLabel: css({\n    marginBottom: 10,\n  }),\n  cellHead: css({\n    paddingBottom: 2,\n    display: \"flex\",\n    alignItems: \"flex-end\",\n    borderBottom: `solid ${globalStyles.colors.default} 1px`,\n    fontSize: 14,\n  }),\n  cellHeadInvalid: css({\n    color: globalStyles.colors.invalid,\n    borderColor: \"transparent\",\n  }),\n\n  cell: css({\n    marginLeft: 4,\n    width: 48,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    fontSize: 14,\n  }),\n  cellMen: css({\n    color: globalStyles.colors.men,\n  }),\n  cellWomen: css({\n    color: globalStyles.colors.women,\n  }),\n  cellEmpty: css({\n    color: globalStyles.colors.invalid,\n  }),\n  cellLabel: css({\n    fontSize: 12,\n    fontStyle: \"italic\",\n    textAlign: \"center\",\n  }),\n  cellFull: css({\n    width: 48 * 4 + 3 * 4,\n  }),\n}\n\nexport default RowData\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { Fragment } from \"react\"\n\nimport { FormState, TranchesAges } from \"../../globals\"\nimport { effectifEtEcartRemuGroupCsp, effectifEtEcartRemuGroupCoef } from \"../../utils/calculsEgaProIndicateurUn\"\n\nimport {\n  displayNameTranchesAges,\n  displayNameCategorieSocioPro,\n  displayPercent,\n  displaySexeSurRepresente,\n} from \"../../utils/helpers\"\n\nimport InfoBlock from \"../../components/ds/InfoBlock\"\nimport RecapBloc from \"./components/RecapBloc\"\nimport { TextSimulatorLink } from \"../../components/SimulatorLink\"\n\nimport RowData, { RowLabels, RowLabelFull } from \"./components/RowData\"\n\ninterface Props {\n  indicateurUnFormValidated: FormState\n  effectifsIndicateurUnCalculable: boolean\n  effectifEtEcartRemuParTranche: Array<effectifEtEcartRemuGroupCsp> | Array<effectifEtEcartRemuGroupCoef>\n  indicateurEcartRemuneration: number | undefined\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined\n  indicateurUnParCSP: boolean\n  noteIndicateurUn: number | undefined\n}\n\nfunction RecapitulatifIndicateurUn({\n  indicateurUnFormValidated,\n  effectifsIndicateurUnCalculable,\n  effectifEtEcartRemuParTranche,\n  indicateurEcartRemuneration,\n  indicateurSexeSurRepresente,\n  indicateurUnParCSP,\n  noteIndicateurUn,\n}: Props) {\n  if (!effectifsIndicateurUnCalculable) {\n    const messageCalculParCSP = indicateurUnParCSP ? (\n      \"\"\n    ) : (\n      <TextSimulatorLink to=\"/indicateur1\" label=\"Vous devez calculer par CSP\" />\n    )\n    return (\n      <div css={styles.container}>\n        <InfoBlock\n          type=\"warning\"\n          title=\"Indicateur écart de rémunération entre les femmes et les hommes\"\n          text={`Malheureusement votre indicateur n’est pas calculable car l’ensemble des groupes valables (c’est-à-dire comptant au moins 3 femmes et 3 hommes), représentent moins de 40% des effectifs. ${messageCalculParCSP}`}\n        />\n      </div>\n    )\n  }\n\n  if (indicateurUnFormValidated !== \"Valid\") {\n    return (\n      <div css={styles.container}>\n        <InfoBlock\n          type=\"warning\"\n          title=\"Indicateur écart de rémunération entre les femmes et les hommes\"\n          text={\n            <Fragment>\n              Nous ne pouvons pas calculer votre indicateur car vous n’avez pas encore validé vos données saisies.{\" \"}\n              <TextSimulatorLink to=\"/indicateur1\" label=\"Valider les données\" />\n            </Fragment>\n          }\n        />\n      </div>\n    )\n  }\n\n  // @ts-ignore\n  const groupEffectifEtEcartRemuParTranche = effectifEtEcartRemuParTranche.reduce(\n    // @ts-ignore\n    (acc, el, index) => {\n      const newEl =\n        el.categorieSocioPro !== undefined\n          ? {\n              id: el.categorieSocioPro,\n              name: displayNameCategorieSocioPro(el.categorieSocioPro),\n              ...el,\n            }\n          : el\n      if (index % 4 === 0) {\n        acc.push([newEl])\n      } else {\n        acc[acc.length - 1].push(newEl)\n      }\n      return acc\n    },\n    [],\n  )\n\n  return (\n    <div css={styles.container}>\n      <RecapBloc\n        title=\"Indicateur écart de rémunération entre les femmes et les hommes\"\n        resultBubble={{\n          firstLineLabel: \"votre résultat final est\",\n          firstLineData: indicateurEcartRemuneration !== undefined ? displayPercent(indicateurEcartRemuneration) : \"--\",\n          firstLineInfo: displaySexeSurRepresente(indicateurSexeSurRepresente),\n          secondLineLabel: \"votre note obtenue est\",\n          secondLineData: (noteIndicateurUn !== undefined ? noteIndicateurUn : \"--\") + \"/40\",\n          indicateurSexeSurRepresente,\n        }}\n      >\n        <RowLabelFull\n          label={\n            <Fragment>\n              écart de rémunération par {indicateurUnParCSP ? \"csp\" : \"niveau ou coefficient hiérarchique\"}\n              <br />\n              (avant seuil de pertinence)\n            </Fragment>\n          }\n        />\n        <RowLabels\n          labels={[\n            displayNameTranchesAges(TranchesAges.MoinsDe30ans),\n            displayNameTranchesAges(TranchesAges.De30a39ans),\n            displayNameTranchesAges(TranchesAges.De40a49ans),\n            displayNameTranchesAges(TranchesAges.PlusDe50ans),\n          ]}\n        />\n\n        {groupEffectifEtEcartRemuParTranche.map(\n          (\n            effectifEtEcartRemuParTranche: Array<{\n              id: any\n              name: string\n              ecartRemunerationMoyenne: number | undefined\n            }>,\n          ) => (\n            <RowData\n              key={effectifEtEcartRemuParTranche[0].id}\n              name={effectifEtEcartRemuParTranche[0].name}\n              data={[\n                effectifEtEcartRemuParTranche[0].ecartRemunerationMoyenne,\n                effectifEtEcartRemuParTranche[1].ecartRemunerationMoyenne,\n                effectifEtEcartRemuParTranche[2].ecartRemunerationMoyenne,\n                effectifEtEcartRemuParTranche[3].ecartRemunerationMoyenne,\n              ]}\n              asPercent={true}\n            />\n          ),\n        )}\n      </RecapBloc>\n    </div>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: 22,\n    marginBottom: 22,\n  }),\n}\n\nexport default RecapitulatifIndicateurUn\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { Fragment } from \"react\"\n\nimport { FormState, CategorieSocioPro } from \"../../globals\"\n\nimport { displayNameCategorieSocioPro, displayPercent, displaySexeSurRepresente } from \"../../utils/helpers\"\n\nimport InfoBlock from \"../../components/ds/InfoBlock\"\nimport RecapBloc from \"./components/RecapBloc\"\nimport { TextSimulatorLink } from \"../../components/SimulatorLink\"\n\nimport { RowDataFull, RowLabelFull } from \"./components/RowData\"\n\ninterface Props {\n  indicateurDeuxFormValidated: FormState\n  effectifsIndicateurDeuxCalculable: boolean\n  indicateurDeuxCalculable: boolean\n  effectifEtEcartAugmentParGroupe: Array<{\n    categorieSocioPro: CategorieSocioPro\n    ecartTauxAugmentation: number | undefined\n  }>\n  indicateurEcartAugmentation: number | undefined\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined\n  noteIndicateurDeux: number | undefined\n  correctionMeasure: boolean\n}\n\nfunction RecapitulatifIndicateurDeux({\n  indicateurDeuxFormValidated,\n  effectifsIndicateurDeuxCalculable,\n  indicateurDeuxCalculable,\n  effectifEtEcartAugmentParGroupe,\n  indicateurEcartAugmentation,\n  indicateurSexeSurRepresente,\n  noteIndicateurDeux,\n  correctionMeasure,\n}: Props) {\n  if (!effectifsIndicateurDeuxCalculable) {\n    return (\n      <div css={styles.container}>\n        <InfoBlock\n          type=\"warning\"\n          title=\"Indicateur écart de taux d’augmentations entre les femmes et les hommes\"\n          text=\"Malheureusement votre indicateur n’est pas calculable car l’ensemble des groupes valables (c’est-à-dire comptant au moins 10 femmes et 10 hommes), représentent moins de 40% des effectifs.\"\n        />\n      </div>\n    )\n  }\n\n  if (indicateurDeuxFormValidated !== \"Valid\") {\n    return (\n      <div css={styles.container}>\n        <InfoBlock\n          type=\"warning\"\n          title=\"Indicateur écart de taux d’augmentations entre les femmes et les hommes\"\n          text={\n            <Fragment>\n              Nous ne pouvons pas calculer votre indicateur car vous n’avez pas encore validé vos données saisies.{\" \"}\n              <TextSimulatorLink to=\"/indicateur2\" label=\"valider les données\" />\n            </Fragment>\n          }\n        />\n      </div>\n    )\n  }\n\n  if (!indicateurDeuxCalculable) {\n    return (\n      <div css={styles.container}>\n        <InfoBlock\n          type=\"warning\"\n          title=\"Indicateur écart de taux d’augmentations entre les femmes et les hommes\"\n          text=\"Malheureusement votre indicateur n’est pas calculable car il n’y a pas eu d’augmentation durant la période de référence\"\n        />\n      </div>\n    )\n  }\n\n  return (\n    <div css={styles.container}>\n      <RecapBloc\n        title=\"Indicateur écart de taux d’augmentations entre les femmes et les hommes\"\n        resultBubble={{\n          firstLineLabel: \"votre résultat final est\",\n          firstLineData: indicateurEcartAugmentation !== undefined ? displayPercent(indicateurEcartAugmentation) : \"--\",\n          firstLineInfo: displaySexeSurRepresente(indicateurSexeSurRepresente),\n          secondLineLabel: \"votre note obtenue est\",\n          secondLineData: (noteIndicateurDeux !== undefined ? noteIndicateurDeux : \"--\") + \"/20\",\n          secondLineInfo: correctionMeasure ? \"** mesures de correction prises en compte\" : undefined,\n          indicateurSexeSurRepresente,\n        }}\n      >\n        <RowLabelFull label=\"écart de taux d’augmentations par csp\" />\n\n        {effectifEtEcartAugmentParGroupe.map(({ categorieSocioPro, ecartTauxAugmentation }) => (\n          <RowDataFull\n            key={categorieSocioPro}\n            name={displayNameCategorieSocioPro(categorieSocioPro)}\n            data={ecartTauxAugmentation}\n            asPercent={true}\n          />\n        ))}\n      </RecapBloc>\n    </div>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: 22,\n    marginBottom: 22,\n  }),\n}\n\nexport default RecapitulatifIndicateurDeux\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { Fragment } from \"react\"\n\nimport { FormState, CategorieSocioPro } from \"../../globals\"\n\nimport { displayNameCategorieSocioPro, displayPercent, displaySexeSurRepresente } from \"../../utils/helpers\"\n\nimport InfoBlock from \"../../components/ds/InfoBlock\"\nimport RecapBloc from \"./components/RecapBloc\"\nimport { TextSimulatorLink } from \"../../components/SimulatorLink\"\n\nimport { RowDataFull, RowLabelFull } from \"./components/RowData\"\n\ninterface Props {\n  indicateurTroisFormValidated: FormState\n  effectifsIndicateurTroisCalculable: boolean\n  indicateurTroisCalculable: boolean\n  effectifEtEcartPromoParGroupe: Array<{\n    categorieSocioPro: CategorieSocioPro\n    ecartTauxPromotion: number | undefined\n  }>\n  indicateurEcartPromotion: number | undefined\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined\n  noteIndicateurTrois: number | undefined\n  correctionMeasure: boolean\n}\n\nfunction RecapitulatifIndicateurTrois({\n  indicateurTroisFormValidated,\n  effectifsIndicateurTroisCalculable,\n  indicateurTroisCalculable,\n  effectifEtEcartPromoParGroupe,\n  indicateurEcartPromotion,\n  indicateurSexeSurRepresente,\n  noteIndicateurTrois,\n  correctionMeasure,\n}: Props) {\n  if (!effectifsIndicateurTroisCalculable) {\n    return (\n      <div css={styles.container}>\n        <InfoBlock\n          type=\"warning\"\n          title=\"Indicateur écart de taux de promotions entre les femmes et les hommes\"\n          text=\"Malheureusement votre indicateur n’est pas calculable car l’ensemble des groupes valables (c’est-à-dire comptant au moins 10 femmes et 10 hommes), représentent moins de 40% des effectifs.\"\n        />\n      </div>\n    )\n  }\n\n  if (indicateurTroisFormValidated !== \"Valid\") {\n    return (\n      <div css={styles.container}>\n        <InfoBlock\n          type=\"warning\"\n          title=\"Indicateur écart de taux de promotions entre les femmes et les hommes\"\n          text={\n            <Fragment>\n              Nous ne pouvons pas calculer votre indicateur car vous n’avez pas encore validé vos données saisies.{\" \"}\n              <TextSimulatorLink to=\"/indicateur3\" label=\"valider les données\" />\n            </Fragment>\n          }\n        />\n      </div>\n    )\n  }\n\n  if (!indicateurTroisCalculable) {\n    return (\n      <div css={styles.container}>\n        <InfoBlock\n          type=\"warning\"\n          title=\"Indicateur écart de taux de promotions entre les femmes et les hommes\"\n          text=\"Malheureusement votre indicateur n’est pas calculable car il n’y a pas eu de promotion durant la période de référence\"\n        />\n      </div>\n    )\n  }\n\n  return (\n    <div css={styles.container}>\n      <RecapBloc\n        title=\"Indicateur écart de taux de promotions entre les femmes et les hommes\"\n        resultBubble={{\n          firstLineLabel: \"votre résultat final est\",\n          firstLineData: indicateurEcartPromotion !== undefined ? displayPercent(indicateurEcartPromotion) : \"--\",\n          firstLineInfo: displaySexeSurRepresente(indicateurSexeSurRepresente),\n          secondLineLabel: \"votre note obtenue est\",\n          secondLineData: (noteIndicateurTrois !== undefined ? noteIndicateurTrois : \"--\") + \"/15\",\n          secondLineInfo: correctionMeasure ? \"** mesures de correction prises en compte\" : undefined,\n          indicateurSexeSurRepresente,\n        }}\n      >\n        <RowLabelFull label=\"écart de taux de promotions par csp\" />\n\n        {effectifEtEcartPromoParGroupe.map(({ categorieSocioPro, ecartTauxPromotion }) => (\n          <RowDataFull\n            key={categorieSocioPro}\n            name={displayNameCategorieSocioPro(categorieSocioPro)}\n            data={ecartTauxPromotion}\n            asPercent={true}\n          />\n        ))}\n      </RecapBloc>\n    </div>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: 22,\n    marginBottom: 22,\n  }),\n}\n\nexport default RecapitulatifIndicateurTrois\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { Fragment } from \"react\"\n\nimport { FormState } from \"../../globals\"\nimport { displaySexeSurRepresente } from \"../../utils/helpers\"\n\nimport InfoBlock from \"../../components/ds/InfoBlock\"\nimport RecapBloc from \"./components/RecapBloc\"\nimport { TextSimulatorLink } from \"../../components/SimulatorLink\"\n\nimport RowData, { RowLabels, RowLabelFull } from \"./components/RowData\"\n\nimport { getResults, AdditionalInfo } from \"../Indicateur2et3/IndicateurDeuxTrois\"\n\ninterface Props {\n  indicateurDeuxTroisFormValidated: FormState\n  effectifsIndicateurDeuxTroisCalculable: boolean\n  indicateurDeuxTroisCalculable: boolean\n  indicateurEcartAugmentationPromotion: number | undefined\n  indicateurEcartNombreEquivalentSalaries: number | undefined\n  indicateurSexeSurRepresente: \"hommes\" | \"femmes\" | undefined\n  noteIndicateurDeuxTrois: number | undefined\n  correctionMeasure: boolean\n  tauxAugmentationPromotionFemmes: number | undefined\n  tauxAugmentationPromotionHommes: number | undefined\n  plusPetitNombreSalaries: \"hommes\" | \"femmes\" | undefined\n}\n\nfunction RecapitulatifIndicateurDeuxTrois({\n  indicateurDeuxTroisFormValidated,\n  effectifsIndicateurDeuxTroisCalculable,\n  indicateurDeuxTroisCalculable,\n  indicateurEcartAugmentationPromotion,\n  indicateurEcartNombreEquivalentSalaries,\n  indicateurSexeSurRepresente,\n  noteIndicateurDeuxTrois,\n  correctionMeasure,\n  tauxAugmentationPromotionFemmes,\n  tauxAugmentationPromotionHommes,\n  plusPetitNombreSalaries,\n}: Props) {\n  if (!effectifsIndicateurDeuxTroisCalculable) {\n    return (\n      <div css={styles.container}>\n        <InfoBlock\n          type=\"warning\"\n          title=\"Indicateur écart de taux d'augmentations entre les femmes et les hommes\"\n          text=\"Malheureusement votre indicateur n’est pas calculable car les effectifs comprennent moins de 5 femmes ou moins de 5 hommes.\"\n        />\n      </div>\n    )\n  }\n\n  if (indicateurDeuxTroisFormValidated !== \"Valid\") {\n    return (\n      <div css={styles.container}>\n        <InfoBlock\n          type=\"warning\"\n          title=\"Indicateur écart de taux d'augmentations entre les femmes et les hommes\"\n          text={\n            <Fragment>\n              Nous ne pouvons pas calculer votre indicateur car vous n’avez pas encore validé vos données saisies.{\" \"}\n              <TextSimulatorLink to=\"/indicateur2et3\" label=\"Valider les données\" />\n            </Fragment>\n          }\n        />\n      </div>\n    )\n  }\n\n  if (!indicateurDeuxTroisCalculable) {\n    return (\n      <div css={styles.container}>\n        <InfoBlock\n          type=\"warning\"\n          title=\"Indicateur écart de taux d'augmentations entre les femmes et les hommes\"\n          text=\"Malheureusement votre indicateur n’est pas calculable car il n’y a pas eu d'augmentation durant la période de référence\"\n        />\n      </div>\n    )\n  }\n\n  const results = getResults(indicateurEcartAugmentationPromotion, indicateurEcartNombreEquivalentSalaries)\n\n  return (\n    <div css={styles.container}>\n      <RecapBloc\n        title=\"Indicateur écart de taux d'augmentations entre les femmes et les hommes\"\n        resultBubble={{\n          firstLineLabel: results.best.label,\n          firstLineData: results.best.result,\n          firstLineInfo: displaySexeSurRepresente(indicateurSexeSurRepresente),\n          secondLineLabel: \"votre note obtenue est\",\n          secondLineData: (noteIndicateurDeuxTrois !== undefined ? noteIndicateurDeuxTrois : \"--\") + \"/35\",\n          secondLineInfo: correctionMeasure ? \"** mesures de correction prises en compte\" : undefined,\n          indicateurSexeSurRepresente,\n        }}\n      >\n        <RowLabelFull label=\"taux d'augmentation\" />\n        <RowLabels labels={[\"femmes\", \"hommes\"]} />\n        <RowData\n          name=\"taux de salariés augmentés\"\n          data={[tauxAugmentationPromotionFemmes, tauxAugmentationPromotionHommes]}\n          asPercent={true}\n        />\n      </RecapBloc>\n      <AdditionalInfo\n        results={results}\n        indicateurSexeSurRepresente={indicateurSexeSurRepresente}\n        plusPetitNombreSalaries={plusPetitNombreSalaries}\n        correctionMeasure={correctionMeasure}\n      />\n    </div>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: 22,\n    marginBottom: 22,\n  }),\n  message: css({}),\n}\n\nexport default RecapitulatifIndicateurDeuxTrois\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { Fragment } from \"react\"\n\nimport { FormState } from \"../../globals\"\n\nimport { displayPercent } from \"../../utils/helpers\"\n\nimport InfoBlock from \"../../components/ds/InfoBlock\"\nimport RecapBloc from \"./components/RecapBloc\"\nimport { TextSimulatorLink } from \"../../components/SimulatorLink\"\n\ninterface Props {\n  indicateurQuatreFormValidated: FormState\n  indicateurQuatreCalculable: boolean\n  indicateurEcartNombreSalarieesAugmentees: number | undefined\n  presenceCongeMat: boolean\n  nombreSalarieesPeriodeAugmentation: number | undefined\n  noteIndicateurQuatre: number | undefined\n}\n\nfunction RecapitulatifIndicateurQuatre({\n  indicateurQuatreFormValidated,\n  indicateurQuatreCalculable,\n  indicateurEcartNombreSalarieesAugmentees,\n  presenceCongeMat,\n  nombreSalarieesPeriodeAugmentation,\n  noteIndicateurQuatre,\n}: Props) {\n  if (indicateurQuatreFormValidated !== \"Valid\") {\n    return (\n      <div css={styles.container}>\n        <InfoBlock\n          type=\"warning\"\n          title=\"Indicateur pourcentage de salariées augmentées dans l'année suivant leur retour de congé maternité\"\n          text={\n            <Fragment>\n              Nous ne pouvons pas calculer votre indicateur car vous n’avez pas encore validé vos données saisies.{\" \"}\n              <TextSimulatorLink to=\"/indicateur4\" label=\"Valider les données\" />\n            </Fragment>\n          }\n        />\n      </div>\n    )\n  }\n\n  if (!indicateurQuatreCalculable) {\n    const messageNonCalculable =\n      presenceCongeMat && nombreSalarieesPeriodeAugmentation !== undefined && nombreSalarieesPeriodeAugmentation === 0\n        ? \"d’augmentations salariales pendant la durée du ou des congés maternité\"\n        : \"de retour de congé maternité pendant la période de référence.\"\n    return (\n      <div css={styles.container}>\n        <InfoBlock\n          type=\"warning\"\n          title=\"Indicateur pourcentage de salariées augmentées dans l'année suivant leur retour de congé maternité\"\n          text={`Malheureusement votre indicateur n’est pas calculable car il n'y a pas eu ${messageNonCalculable}`}\n        />\n      </div>\n    )\n  }\n\n  return (\n    <div css={styles.container}>\n      <RecapBloc\n        title=\"Indicateur pourcentage de salariées augmentées dans l'année suivant leur retour de congé maternité\"\n        resultBubble={{\n          firstLineLabel: \"votre résultat final est\",\n          firstLineData:\n            indicateurEcartNombreSalarieesAugmentees !== undefined\n              ? displayPercent(indicateurEcartNombreSalarieesAugmentees)\n              : \"--\",\n          secondLineLabel: \"votre note obtenue est\",\n          secondLineData: (noteIndicateurQuatre !== undefined ? noteIndicateurQuatre : \"--\") + \"/15\",\n          indicateurSexeSurRepresente: \"femmes\",\n        }}\n      >\n        {null}\n      </RecapBloc>\n    </div>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: 22,\n    marginBottom: 22,\n  }),\n}\n\nexport default RecapitulatifIndicateurQuatre\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { Fragment } from \"react\"\n\nimport { FormState } from \"../../globals\"\n\nimport InfoBlock from \"../../components/ds/InfoBlock\"\nimport RecapBloc from \"./components/RecapBloc\"\nimport { TextSimulatorLink } from \"../../components/SimulatorLink\"\n\ninterface Props {\n  indicateurCinqFormValidated: FormState\n  indicateurSexeSousRepresente: \"hommes\" | \"femmes\" | \"egalite\" | undefined\n  indicateurNombreSalariesSexeSousRepresente: number | undefined\n  noteIndicateurCinq: number | undefined\n}\n\nfunction RecapitulatifIndicateurCinq({\n  indicateurCinqFormValidated,\n  indicateurSexeSousRepresente,\n  indicateurNombreSalariesSexeSousRepresente,\n  noteIndicateurCinq,\n}: Props) {\n  if (indicateurCinqFormValidated !== \"Valid\") {\n    return (\n      <div css={styles.container}>\n        <InfoBlock\n          type=\"warning\"\n          title=\"Indicateur nombre de salariés du sexe sous-représenté parmi les 10 plus hautes rémunérations\"\n          text={\n            <Fragment>\n              Nous ne pouvons pas calculer votre indicateur car vous n’avez pas encore validé vos données saisies.{\" \"}\n              <TextSimulatorLink to=\"/indicateur5\" label=\"Valider les données\" />\n            </Fragment>\n          }\n        />\n      </div>\n    )\n  }\n\n  const firstLineInfo =\n    indicateurSexeSousRepresente === undefined\n      ? undefined\n      : indicateurSexeSousRepresente === \"egalite\"\n      ? \"les femmes et les hommes sont à égalité\"\n      : indicateurSexeSousRepresente === \"hommes\"\n      ? \"les femmes sont sur-représentées\"\n      : \"les hommes sont sur-représentés\"\n\n  return (\n    <div css={styles.container}>\n      <RecapBloc\n        title=\"Indicateur nombre de salariés du sexe sous-représenté parmi les 10 plus hautes rémunérations\"\n        resultBubble={{\n          firstLineLabel: \"votre résultat final est\",\n          firstLineData:\n            indicateurNombreSalariesSexeSousRepresente !== undefined\n              ? String(indicateurNombreSalariesSexeSousRepresente)\n              : \"--\",\n          firstLineInfo,\n          secondLineLabel: \"votre note obtenue est\",\n          secondLineData: (noteIndicateurCinq !== undefined ? noteIndicateurCinq : \"--\") + \"/10\",\n          indicateurSexeSurRepresente:\n            indicateurSexeSousRepresente === undefined || indicateurSexeSousRepresente === \"egalite\"\n              ? undefined\n              : indicateurSexeSousRepresente === \"hommes\"\n              ? \"femmes\"\n              : \"hommes\",\n        }}\n      >\n        {null}\n      </RecapBloc>\n    </div>\n  )\n}\n\nconst styles = {\n  container: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginTop: 22,\n    marginBottom: 22,\n  }),\n}\n\nexport default RecapitulatifIndicateurCinq\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { Fragment } from \"react\"\nimport { RouteComponentProps } from \"react-router-dom\"\n\nimport { AppState } from \"../../globals\"\n\nimport calculIndicateurUn from \"../../utils/calculsEgaProIndicateurUn\"\nimport calculIndicateurDeux from \"../../utils/calculsEgaProIndicateurDeux\"\nimport calculIndicateurTrois from \"../../utils/calculsEgaProIndicateurTrois\"\nimport calculIndicateurDeuxTrois from \"../../utils/calculsEgaProIndicateurDeuxTrois\"\nimport calculIndicateurQuatre from \"../../utils/calculsEgaProIndicateurQuatre\"\nimport calculIndicateurCinq from \"../../utils/calculsEgaProIndicateurCinq\"\nimport { calculNoteIndex } from \"../../utils/calculsEgaProIndex\"\nimport totalNombreSalaries from \"../../utils/totalNombreSalaries\"\n\nimport Page from \"../../components/Page\"\nimport ActionBar from \"../../components/ActionBar\"\nimport ButtonAction from \"../../components/ButtonAction\"\nimport { ButtonSimulatorLink } from \"../../components/SimulatorLink\"\n\nimport RecapitulatifIndex from \"./RecapitulatifIndex\"\nimport RecapitulatifInformations from \"./RecapitulatifInformations\"\nimport RecapitulatifIndicateurUn from \"./RecapitulatifIndicateurUn\"\nimport RecapitulatifIndicateurDeux from \"./RecapitulatifIndicateurDeux\"\nimport RecapitulatifIndicateurTrois from \"./RecapitulatifIndicateurTrois\"\nimport RecapitulatifIndicateurDeuxTrois from \"./RecapitulatifIndicateurDeuxTrois\"\nimport RecapitulatifIndicateurQuatre from \"./RecapitulatifIndicateurQuatre\"\nimport RecapitulatifIndicateurCinq from \"./RecapitulatifIndicateurCinq\"\nimport { useTitle } from \"../../utils/hooks\"\n\ninterface Props extends RouteComponentProps {\n  state: AppState\n}\n\nconst title = \"Récapitulatif\"\n\nfunction Recapitulatif({ state }: Props) {\n  useTitle(title)\n\n  const trancheEffectifs = state.informations.trancheEffectifs\n\n  const {\n    effectifsIndicateurCalculable: effectifsIndicateurUnCalculable,\n    effectifEtEcartRemuParTranche,\n    indicateurEcartRemuneration,\n    indicateurSexeSurRepresente: indicateurUnSexeSurRepresente,\n    noteIndicateurUn,\n  } = calculIndicateurUn(state)\n\n  const {\n    effectifsIndicateurCalculable: effectifsIndicateurDeuxCalculable,\n    indicateurCalculable: indicateurDeuxCalculable,\n    effectifEtEcartAugmentParGroupe,\n    indicateurEcartAugmentation,\n    indicateurSexeSurRepresente: indicateurDeuxSexeSurRepresente,\n    noteIndicateurDeux,\n    correctionMeasure: correctionMeasureIndicateurDeux,\n  } = calculIndicateurDeux(state)\n\n  const {\n    effectifsIndicateurCalculable: effectifsIndicateurTroisCalculable,\n    indicateurCalculable: indicateurTroisCalculable,\n    effectifEtEcartPromoParGroupe,\n    indicateurEcartPromotion,\n    indicateurSexeSurRepresente: indicateurTroisSexeSurRepresente,\n    noteIndicateurTrois,\n    correctionMeasure: correctionMeasureIndicateurTrois,\n  } = calculIndicateurTrois(state)\n\n  const {\n    effectifsIndicateurCalculable: effectifsIndicateurDeuxTroisCalculable,\n    indicateurCalculable: indicateurDeuxTroisCalculable,\n    indicateurEcartAugmentationPromotion,\n    indicateurEcartNombreEquivalentSalaries,\n    indicateurSexeSurRepresente: indicateurDeuxTroisSexeSurRepresente,\n    noteIndicateurDeuxTrois,\n    correctionMeasure: correctionMeasureIndicateurDeuxTrois,\n    tauxAugmentationPromotionHommes,\n    tauxAugmentationPromotionFemmes,\n    plusPetitNombreSalaries,\n  } = calculIndicateurDeuxTrois(state)\n\n  const {\n    indicateurCalculable: indicateurQuatreCalculable,\n    indicateurEcartNombreSalarieesAugmentees,\n    noteIndicateurQuatre,\n  } = calculIndicateurQuatre(state)\n\n  const {\n    indicateurSexeSousRepresente: indicateurCinqSexeSousRepresente,\n    indicateurNombreSalariesSexeSousRepresente,\n    noteIndicateurCinq,\n  } = calculIndicateurCinq(state)\n\n  const allIndicateurValid =\n    (state.indicateurUn.formValidated === \"Valid\" ||\n      // Si l'indicateurUn n'est pas calculable par coefficient, forcer le calcul par CSP\n      (!effectifsIndicateurUnCalculable && state.indicateurUn.csp)) &&\n    (trancheEffectifs !== \"50 à 250\"\n      ? (state.indicateurDeux.formValidated === \"Valid\" || !effectifsIndicateurDeuxCalculable) &&\n        (state.indicateurTrois.formValidated === \"Valid\" || !effectifsIndicateurTroisCalculable)\n      : state.indicateurDeuxTrois.formValidated === \"Valid\" || !effectifsIndicateurDeuxTroisCalculable) &&\n    state.indicateurQuatre.formValidated === \"Valid\" &&\n    state.indicateurCinq.formValidated === \"Valid\"\n\n  const { noteIndex, totalPoint, totalPointCalculable } = calculNoteIndex(\n    trancheEffectifs,\n    noteIndicateurUn,\n    noteIndicateurDeux,\n    noteIndicateurTrois,\n    noteIndicateurDeuxTrois,\n    noteIndicateurQuatre,\n    noteIndicateurCinq,\n  )\n\n  const { totalNombreSalariesHomme, totalNombreSalariesFemme } = totalNombreSalaries(state.effectif.nombreSalaries)\n\n  return (\n    <Page title=\"Récapitulatif des résultats de vos indicateurs\">\n      <RecapitulatifInformations\n        informationsFormValidated={state.informations.formValidated}\n        trancheEffectifs={state.informations.trancheEffectifs}\n        anneeDeclaration={state.informations.anneeDeclaration}\n        finPeriodeReference={state.informations.finPeriodeReference}\n        nombreSalaries={totalNombreSalariesHomme + totalNombreSalariesFemme}\n      />\n      <RecapitulatifIndex\n        allIndicateurValid={allIndicateurValid}\n        noteIndex={noteIndex}\n        totalPoint={totalPoint}\n        totalPointCalculable={totalPointCalculable}\n      />\n      <RecapitulatifIndicateurUn\n        indicateurUnFormValidated={state.indicateurUn.formValidated}\n        effectifsIndicateurUnCalculable={effectifsIndicateurUnCalculable}\n        effectifEtEcartRemuParTranche={effectifEtEcartRemuParTranche}\n        indicateurEcartRemuneration={indicateurEcartRemuneration}\n        indicateurSexeSurRepresente={indicateurUnSexeSurRepresente}\n        indicateurUnParCSP={state.indicateurUn.csp}\n        noteIndicateurUn={noteIndicateurUn}\n      />\n      {(trancheEffectifs !== \"50 à 250\" && (\n        <Fragment>\n          <RecapitulatifIndicateurDeux\n            indicateurDeuxFormValidated={state.indicateurDeux.formValidated}\n            effectifsIndicateurDeuxCalculable={effectifsIndicateurDeuxCalculable}\n            indicateurDeuxCalculable={indicateurDeuxCalculable}\n            effectifEtEcartAugmentParGroupe={effectifEtEcartAugmentParGroupe}\n            indicateurEcartAugmentation={indicateurEcartAugmentation}\n            indicateurSexeSurRepresente={indicateurDeuxSexeSurRepresente}\n            noteIndicateurDeux={noteIndicateurDeux}\n            correctionMeasure={correctionMeasureIndicateurDeux}\n          />\n          <RecapitulatifIndicateurTrois\n            indicateurTroisFormValidated={state.indicateurTrois.formValidated}\n            effectifsIndicateurTroisCalculable={effectifsIndicateurTroisCalculable}\n            indicateurTroisCalculable={indicateurTroisCalculable}\n            effectifEtEcartPromoParGroupe={effectifEtEcartPromoParGroupe}\n            indicateurEcartPromotion={indicateurEcartPromotion}\n            indicateurSexeSurRepresente={indicateurTroisSexeSurRepresente}\n            noteIndicateurTrois={noteIndicateurTrois}\n            correctionMeasure={correctionMeasureIndicateurTrois}\n          />\n        </Fragment>\n      )) || (\n        <RecapitulatifIndicateurDeuxTrois\n          indicateurDeuxTroisFormValidated={state.indicateurDeuxTrois.formValidated}\n          effectifsIndicateurDeuxTroisCalculable={effectifsIndicateurDeuxTroisCalculable}\n          indicateurDeuxTroisCalculable={indicateurDeuxTroisCalculable}\n          indicateurEcartAugmentationPromotion={indicateurEcartAugmentationPromotion}\n          indicateurEcartNombreEquivalentSalaries={indicateurEcartNombreEquivalentSalaries}\n          indicateurSexeSurRepresente={indicateurDeuxTroisSexeSurRepresente}\n          noteIndicateurDeuxTrois={noteIndicateurDeuxTrois}\n          correctionMeasure={correctionMeasureIndicateurDeuxTrois}\n          tauxAugmentationPromotionHommes={tauxAugmentationPromotionHommes}\n          tauxAugmentationPromotionFemmes={tauxAugmentationPromotionFemmes}\n          plusPetitNombreSalaries={plusPetitNombreSalaries}\n        />\n      )}\n      <RecapitulatifIndicateurQuatre\n        indicateurQuatreFormValidated={state.indicateurQuatre.formValidated}\n        indicateurQuatreCalculable={indicateurQuatreCalculable}\n        indicateurEcartNombreSalarieesAugmentees={indicateurEcartNombreSalarieesAugmentees}\n        presenceCongeMat={state.indicateurQuatre.presenceCongeMat}\n        nombreSalarieesPeriodeAugmentation={state.indicateurQuatre.nombreSalarieesPeriodeAugmentation}\n        noteIndicateurQuatre={noteIndicateurQuatre}\n      />\n      <RecapitulatifIndicateurCinq\n        indicateurCinqFormValidated={state.indicateurCinq.formValidated}\n        indicateurSexeSousRepresente={indicateurCinqSexeSousRepresente}\n        indicateurNombreSalariesSexeSousRepresente={indicateurNombreSalariesSexeSousRepresente}\n        noteIndicateurCinq={noteIndicateurCinq}\n      />\n      <p>\n        La simulation est terminée. Vous pouvez si vous le souhaitez déclarer ces indicateurs en renseignant d'autres\n        informations. Il vous sera demandé un email valide pour pouvoir poursuivre.\n      </p>\n      <ActionBar>\n        <ButtonSimulatorLink to=\"/informations-entreprise\" label=\"poursuivre vers la déclaration\" />\n      </ActionBar>\n      <ActionBar>\n        <ButtonAction label=\"imprimer\" variant=\"outline\" onClick={() => window.print()} />\n        <span css={styles.info}>(possible d'enregistrer en PDF depuis la fenêtre d'impression)</span>\n      </ActionBar>\n\n      <a\n        href=\"https://voxusagers.numerique.gouv.fr/Demarches/2240?&view-mode=formulaire-avis&nd_mode=en-ligne-enti%C3%A8rement&nd_source=button&key=73366ddb13d498f4c77d01c2983bab48\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        css={styles.monAvis}\n      >\n        <img\n          src=\"https://voxusagers.numerique.gouv.fr/static/bouton-blanc.svg\"\n          alt=\"Je donne mon avis\"\n          title=\"Je donne mon avis sur cette démarche\"\n        />\n      </a>\n    </Page>\n  )\n}\n\nconst styles = {\n  info: css({\n    marginLeft: 4,\n    fontSize: 12,\n  }),\n  monAvis: css({\n    \"@media print\": {\n      display: \"none\",\n    },\n  }),\n}\n\nexport default Recapitulatif\n","import Recapitulatif from \"./Recapitulatif\"\nexport default Recapitulatif\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\n\nimport globalStyles from \"../utils/globalStyles\"\n\nimport { useColumnsWidth, useLayoutType } from \"../components/GridContext\"\nimport Page from \"../components/Page\"\nimport ActionBar from \"../components/ActionBar\"\nimport { Fragment, useState } from \"react\"\nimport { Form, useField } from \"react-final-form\"\nimport FormSubmit from \"../components/FormSubmit\"\nimport { sendValidationEmail } from \"../utils/api\"\nimport Input, { hasFieldError } from \"../components/Input\"\nimport { required, validateEmail } from \"../utils/formHelpers\"\nimport ButtonAction from \"../components/ButtonAction\"\nimport { useTitle } from \"../utils/hooks\"\n\ninterface Props {\n  tagLine?: string\n  reason?: string\n}\n\nconst title = \"Validation de l'email\"\n\nfunction AskEmail({ tagLine, reason }: Props) {\n  useTitle(title)\n\n  const layoutType = useLayoutType()\n  const width = useColumnsWidth(layoutType === \"desktop\" ? 6 : 7)\n  const [loading, setLoading] = useState(false)\n  const [errorMessage, setErrorMessage] = useState<string | undefined>(undefined)\n  const [submitted, setSubmitted] = useState(false)\n\n  const onSubmit = (formData: any) => {\n    setLoading(true)\n    setErrorMessage(undefined)\n    sendValidationEmail(formData.email)\n      .then(() => {\n        setLoading(false)\n        setSubmitted(true)\n      })\n      .catch((error: Error) => {\n        console.error(error)\n        setLoading(false)\n        setSubmitted(false)\n        setErrorMessage(\"Erreur lors de l'envoi de l'email de validation, est-ce que l'email est valide ?\")\n      })\n  }\n\n  return (\n    <Page title={title}>\n      <div css={css({ width })}>\n        {tagLine && <h2>{tagLine}</h2>}\n        <Form onSubmit={onSubmit}>\n          {({ handleSubmit, hasValidationErrors, submitFailed, values }) =>\n            submitted ? (\n              <Fragment>\n                <p>Vous allez recevoir un mail sur l'adresse email que vous avez indiquée à l'étape précédente.</p>\n\n                <p css={styles.warning}>Ouvrez ce mail et cliquez sur le lien de validation.</p>\n\n                <p>\n                  Si vous ne recevez pas ce mail sous peu, il se peut que l'email saisi (<strong>{values.email}</strong>\n                  ) soit incorrect, ou bien que le mail ait été déplacé dans votre dossier de courriers indésirables ou\n                  dans le dossier SPAM.\n                  <br />\n                  <br />\n                  En cas d'échec, la procédure devra être reprise avec un autre email.\n                </p>\n                <br />\n                <br />\n                <ButtonAction onClick={() => setSubmitted(false)} label=\"Modifier l'email\" />\n              </Fragment>\n            ) : (\n              <Fragment>\n                {reason && (\n                  <Fragment>\n                    <p>{reason}</p>\n                    <br />\n                  </Fragment>\n                )}\n\n                <p>\n                  L’email saisi doit être valide. Il sera celui sur lequel sera adressé l’accusé de réception en fin de\n                  procédure et celui qui vous permettra d'accéder à votre déclaration une fois validée et transmise.\n                  <br />\n                  <br />\n                  Attention : en cas d'email erroné, vous ne pourrez pas remplir le formulaire ou accéder à votre\n                  déclaration déjà transmise.\n                </p>\n\n                <form onSubmit={handleSubmit} css={styles.body}>\n                  <FieldEmail />\n                  {errorMessage && <p css={styles.error}>{errorMessage}</p>}\n\n                  <ActionBar>\n                    <FormSubmit\n                      hasValidationErrors={hasValidationErrors}\n                      submitFailed={submitFailed}\n                      loading={loading}\n                    />\n                  </ActionBar>\n                </form>\n              </Fragment>\n            )\n          }\n        </Form>\n\n        <div css={styles.imageContainer}>\n          <div css={styles.image} />\n        </div>\n      </div>\n    </Page>\n  )\n}\n\nconst validate = (value: string) => {\n  const requiredError = required(value)\n  const emailError = validateEmail(value)\n\n  if (!requiredError && !emailError) {\n    return undefined\n  } else {\n    return { required: requiredError, validateEmail: emailError }\n  }\n}\n\nfunction FieldEmail() {\n  const field = useField(\"email\", { validate })\n  const error = hasFieldError(field.meta)\n\n  return (\n    <Fragment>\n      <label css={[styles.label, error && styles.labelError]} htmlFor={field.input.name}>\n        email\n      </label>\n      <div css={styles.fieldRow}>\n        <Input field={field} />\n      </div>\n      <p css={styles.error}>{error && \"l’adresse mail n’est pas valide\"}</p>\n    </Fragment>\n  )\n}\n\nconst styles = {\n  imageContainer: css({\n    marginTop: 160,\n    height: 151,\n    width: 384,\n    position: \"relative\",\n  }),\n  image: css({\n    position: \"absolute\",\n    right: 0,\n    top: 0,\n    bottom: 0,\n    left: -(globalStyles.grid.gutterWidth * 2),\n    backgroundImage: `url(${process.env.PUBLIC_URL}/illustration-home-simulator.svg)`,\n    backgroundRepeat: \"no-repeat\",\n    backgroundSize: \"contain\",\n  }),\n  body: css({\n    width: 405,\n    marginTop: 46,\n  }),\n  label: css({\n    fontSize: 14,\n    lineHeight: \"17px\",\n  }),\n  labelError: css({\n    color: globalStyles.colors.error,\n  }),\n  fieldRow: css({\n    height: 38,\n    marginTop: 5,\n    marginBottom: 5,\n    display: \"flex\",\n  }),\n  warning: css({\n    fontWeight: \"bold\",\n    margin: \"1em\",\n  }),\n  error: css({\n    height: 18,\n    color: globalStyles.colors.error,\n    fontSize: 12,\n    textDecoration: \"underline\",\n    lineHeight: \"15px\",\n  }),\n}\n\nexport default AskEmail\n","import { ownersForSiren } from \"./api\"\n\n/**\n * A SIREN is free if it has no owners already bound to it.\n */\nexport async function sirenIsFree(siren: string) {\n  let isFree = true\n\n  try {\n    const { jsonBody } = await ownersForSiren(siren)\n    console.log(\"jsonBody\", jsonBody)\n    isFree = jsonBody?.owners.length === 0\n  } catch (ignore) {\n    // the API is designed to return an error if the user is not granted for the siren. This is what we want to ensure.\n    isFree = false\n  }\n  console.log(\"isFree\", siren, isFree)\n\n  return isFree\n}\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { Fragment, useEffect, useState } from \"react\"\nimport { Route, Switch, useHistory } from \"react-router-dom\"\n\nimport { AppState, ActionType } from \"../globals\"\n\nimport { logToSentry } from \"../utils/helpers\"\n\nimport globalStyles from \"../utils/globalStyles\"\nimport { isUserGrantedForSiren } from \"../utils/user\"\nimport { getIndicatorsDatas, getTokenInfo, putIndicatorsDatas } from \"../utils/api\"\nimport { useDebounceEffect } from \"../utils/hooks\"\n\nimport ActivityIndicator from \"../components/ActivityIndicator\"\nimport ErrorMessage from \"../components/ErrorMessage\"\n\nimport Declaration from \"../views/Declaration\"\nimport Effectif from \"../views/Effectif\"\nimport HomeSimulateur from \"../views/HomeSimulateur\"\nimport IndicateurUn from \"../views/Indicateur1\"\nimport IndicateurDeux from \"../views/Indicateur2\"\nimport IndicateurTrois from \"../views/Indicateur3\"\nimport IndicateurDeuxTrois from \"../views/Indicateur2et3\"\nimport IndicateurQuatre from \"../views/Indicateur4\"\nimport IndicateurCinq from \"../views/Indicateur5\"\nimport InformationsEntreprise from \"../views/InformationsEntreprise\"\nimport InformationsDeclarant from \"../views/InformationsDeclarant\"\nimport InformationsSimulation from \"../views/InformationsSimulation\"\nimport Recapitulatif from \"../views/Recapitulatif\"\nimport AskEmail from \"../views/AskEmail\"\nimport { sirenIsFree } from \"../utils/siren\"\n\ninterface TokenInfo {\n  email: string\n  déclarations: [Declaration]\n  ownership: [string]\n}\n\ninterface Declaration {\n  declared_at: number\n  modified_at: number\n  name: string\n  siren: string\n  year: number\n}\n\ninterface Props {\n  code: string\n  state: AppState | undefined\n  dispatch: (action: ActionType) => void\n}\n\nfunction Simulateur({ code, state, dispatch }: Props) {\n  const [loading, setLoading] = useState(false)\n  const [errorMessage, setErrorMessage] = useState<string | undefined>(undefined)\n  const [tokenInfo, setTokenInfo] = useState<undefined | \"error\" | TokenInfo>(undefined)\n  const history = useHistory()\n\n  const urlParams = new URLSearchParams(window.location.search)\n  if (urlParams.has(\"token\")) {\n    localStorage.setItem(\"token\", urlParams.get(\"token\") || \"\")\n    // Reset the token in the search params so it won't be in the URL and won't be bookmarkable (which is a bad practice?)\n    history.push({ search: \"\" })\n  }\n  let token = localStorage.getItem(\"token\")\n\n  // useEffect de récupération du token et des données de la déclaration.\n  useEffect(() => {\n    async function runEffect() {\n      setLoading(true)\n      setErrorMessage(undefined)\n\n      let email = \"\"\n\n      try {\n        if (token) {\n          try {\n            const tokenInfo = await getTokenInfo()\n\n            if (tokenInfo) {\n              setTokenInfo(tokenInfo?.jsonBody)\n              localStorage.setItem(\"tokenInfo\", JSON.stringify(tokenInfo?.jsonBody) || \"\")\n\n              email = tokenInfo?.jsonBody?.email || email\n            }\n          } catch (error) {\n            // If token has expired, we remove it from localStorage and state.\n            console.error(error)\n            token = \"\"\n            localStorage.setItem(\"token\", \"\")\n            localStorage.setItem(\"tokenInfo\", \"\")\n            setTokenInfo(undefined)\n          }\n        }\n\n        const indicatorsData = await getIndicatorsDatas(code)\n        setLoading(false)\n\n        const simuData = indicatorsData?.jsonBody?.data\n\n        const siren =\n          simuData?.informationsEntreprise?.formValidated === \"Valid\" ? simuData?.informationsEntreprise?.siren : null\n\n        // a free siren is a siren that has no owners already bound to it.\n        const freeSiren = await sirenIsFree(siren)\n\n        if (siren) {\n          if (!token) {\n            // On ne peut pas voir une simulation avec un SIREN rempli et qu'on n'est pas authentifié.\n            // Renvoi sur le formulaire d'email (cf. plus bas).\n            setErrorMessage(\"Veuillez renseigner votre email pour accéder à cette simulation-déclaration.\")\n          } else if (!isUserGrantedForSiren(siren) && !freeSiren) {\n            // On ne peut pas voir une simulation avec un SIREN rempli, si on est authentifiée et qu'on n'a pas les droits.\n            setErrorMessage(\n              \"Vous n'êtes pas autorisé à accéder à cette simulation-déclaration, veuillez contacter votre référent de l'égalité professionnelle.\",\n            )\n          }\n        }\n\n        dispatch({\n          type: \"initiateState\",\n          data: {\n            ...simuData,\n            informationsDeclarant: {\n              ...simuData?.informationsDeclarant,\n              email: simuData?.informationsDeclarant?.email || email,\n            },\n          },\n        })\n      } catch (_error) {\n        const error = _error as { jsonBody: { error: string } }\n        console.error(error)\n        setLoading(false)\n        const message = error.jsonBody?.error\n          ? `Les données de votre déclaration n'ont pû être récupérées : ${error.jsonBody.error}`\n          : \"Erreur lors de la récupération des données\"\n        setErrorMessage(message)\n      }\n    }\n\n    runEffect()\n  }, [code, token, dispatch])\n\n  // useEffect pour synchroniser le state dans la db, de façon asynchrone (après 2 secondes de debounce).\n  useDebounceEffect(\n    state,\n    2000,\n    (debouncedState) => {\n      if (debouncedState) {\n        putIndicatorsDatas(code, debouncedState).catch((error) => {\n          setLoading(false)\n          const message =\n            error.jsonBody && error.jsonBody.error\n              ? `Votre déclaration ne peut être validée : ${error.jsonBody.error}`\n              : \"Erreur lors de la sauvegarde des données\"\n          setErrorMessage(message)\n          logToSentry(error, debouncedState)\n        })\n      }\n    },\n    [code],\n  )\n\n  if (!loading && errorMessage === \"Veuillez renseigner votre email pour accéder à cette simulation-déclaration.\") {\n    return <AskEmail reason={errorMessage} />\n  }\n\n  if (!loading && errorMessage) {\n    return ErrorMessage(errorMessage)\n  }\n\n  if (loading || !state) {\n    return (\n      <div css={styles.viewLoading}>\n        <ActivityIndicator size={30} color={globalStyles.colors.primary} />\n      </div>\n    )\n  }\n\n  return (\n    <Switch>\n      <Route\n        path=\"/simulateur/:code/\"\n        exact\n        render={() => {\n          return <HomeSimulateur />\n        }}\n      />\n      <Route\n        path=\"/simulateur/:code/informations\"\n        render={(props) => <InformationsSimulation {...props} state={state} dispatch={dispatch} />}\n      />\n      <Route\n        path=\"/simulateur/:code/effectifs\"\n        render={(props) => <Effectif {...props} state={state} dispatch={dispatch} />}\n      />\n      <Route\n        path=\"/simulateur/:code/indicateur1\"\n        render={(props) => <IndicateurUn {...props} state={state} dispatch={dispatch} />}\n      />\n      <Route\n        path=\"/simulateur/:code/indicateur2\"\n        render={(props) => <IndicateurDeux {...props} state={state} dispatch={dispatch} />}\n      />\n      <Route\n        path=\"/simulateur/:code/indicateur3\"\n        render={(props) => <IndicateurTrois {...props} state={state} dispatch={dispatch} />}\n      />\n      <Route\n        path=\"/simulateur/:code/indicateur2et3\"\n        render={(props) => <IndicateurDeuxTrois {...props} state={state} dispatch={dispatch} />}\n      />\n      <Route\n        path=\"/simulateur/:code/indicateur4\"\n        render={(props) => <IndicateurQuatre {...props} state={state} dispatch={dispatch} />}\n      />\n      <Route\n        path=\"/simulateur/:code/indicateur5\"\n        render={(props) => <IndicateurCinq {...props} state={state} dispatch={dispatch} />}\n      />\n      <Route path=\"/simulateur/:code/recapitulatif\" render={(props) => <Recapitulatif {...props} state={state} />} />\n      {tokenInfo === undefined ? (\n        <AskEmail />\n      ) : tokenInfo === \"error\" ? (\n        <Fragment>\n          <p></p>\n          <AskEmail />\n        </Fragment>\n      ) : (\n        <Fragment>\n          <Route\n            path=\"/simulateur/:code/informations-entreprise\"\n            render={(props) => <InformationsEntreprise {...props} state={state} dispatch={dispatch} />}\n          />\n          <Route\n            path=\"/simulateur/:code/informations-declarant\"\n            render={(props) => <InformationsDeclarant {...props} state={state} dispatch={dispatch} />}\n          />\n          <Route\n            path=\"/simulateur/:code/declaration\"\n            render={(props) => <Declaration {...props} code={code} state={state} dispatch={dispatch} />}\n          />\n        </Fragment>\n      )}\n    </Switch>\n  )\n}\n\nconst styles = {\n  viewLoading: css({\n    margin: \"auto\",\n    alignSelf: \"center\",\n  }),\n}\n\nexport default Simulateur\n","import React, { Fragment } from \"react\"\nimport { Switch, Route, Link as ReachLink } from \"react-router-dom\"\nimport { Box, Heading, List, ListItem, Link } from \"@chakra-ui/react\"\nimport { FormState, TrancheEffectifs } from \"../globals\"\nimport globalStyles from \"../utils/globalStyles\"\nimport { IconValid, IconInvalid } from \"./ds/Icons\"\n\ninterface CustomNavLinkProps {\n  title: string\n  label?: string\n  valid?: FormState\n  to: string\n  activeOnlyWhenExact?: boolean\n}\n\nfunction buildA11yTitle({\n  title,\n  label,\n  isValid,\n  isCurrentStep,\n}: {\n  title: string\n  label?: string\n  isValid?: boolean\n  isCurrentStep?: boolean\n}): string {\n  return `${title}${label ? ` ${label}` : \"\"}${isValid ? \" : étape complétée\" : \"\"}${\n    isCurrentStep ? \" : étape en cours\" : \"\"\n  }`\n}\n\nfunction CustomNavLink({ title, label, valid = \"None\", to, activeOnlyWhenExact = false }: CustomNavLinkProps) {\n  return (\n    <Route\n      path={to}\n      exact={activeOnlyWhenExact}\n      // eslint-disable-next-line react/no-children-prop\n      children={({ match }) => (\n        <Link\n          fontSize=\"sm\"\n          sx={{\n            lineHeight: 1.25,\n            display: \"inline-flex\",\n            color: match ? globalStyles.colors.primary : \"inherit\",\n          }}\n          as={ReachLink}\n          to={to}\n          aria-label={buildA11yTitle({\n            title,\n            label,\n            isValid: valid === \"Valid\",\n            isCurrentStep: Boolean(match),\n          })}\n        >\n          {valid === \"Valid\" ? (\n            <Box mr={1} pt={1} cx={{ flexShrink: 0 }}>\n              <IconValid />\n            </Box>\n          ) : valid === \"Invalid\" ? (\n            <Box mr={2} pt={1} cx={{ flexShrink: 0 }}>\n              <IconInvalid />\n            </Box>\n          ) : null}\n          <Box cx={{ flexGrow: 1 }}>\n            {title}\n            {label && <Box>{label}</Box>}\n          </Box>\n        </Link>\n      )}\n    />\n  )\n}\n\ninterface Props {\n  trancheEffectifs: TrancheEffectifs\n  informationsFormValidated: FormState\n  effectifFormValidated: FormState\n  indicateurUnFormValidated: FormState\n  indicateurDeuxFormValidated: FormState\n  indicateurTroisFormValidated: FormState\n  indicateurDeuxTroisFormValidated: FormState\n  indicateurQuatreFormValidated: FormState\n  indicateurCinqFormValidated: FormState\n  informationsEntrepriseFormValidated: FormState\n  informationsDeclarantFormValidated: FormState\n  declarationFormValidated: FormState\n}\n\nfunction Menu({\n  trancheEffectifs,\n  informationsFormValidated,\n  effectifFormValidated,\n  indicateurUnFormValidated,\n  indicateurDeuxFormValidated,\n  indicateurDeuxTroisFormValidated,\n  indicateurTroisFormValidated,\n  indicateurQuatreFormValidated,\n  indicateurCinqFormValidated,\n  informationsEntrepriseFormValidated,\n  informationsDeclarantFormValidated,\n  declarationFormValidated,\n}: Props) {\n  const listStyles = {\n    \"@media (max-width: 1279px)\": {\n      li: {\n        marginTop: \"0 !important\",\n      },\n      a: {\n        fontSize: \"13px !important\",\n      },\n      \"li:not(:last-child)\": {\n        marginRight: 4,\n      },\n    },\n  }\n  return (\n    <Box\n      as=\"nav\"\n      role=\"navigation\"\n      id=\"navigation\"\n      py={{ base: 4, xl: 8 }}\n      px={4}\n      sx={{\n        position: \"sticky\",\n        top: \"0\",\n      }}\n    >\n      <Switch>\n        <Route\n          path=\"/simulateur/:code\"\n          render={({\n            match: {\n              params: { code },\n            },\n          }) => (\n            <React.Fragment>\n              <CustomNavLink to={`/simulateur/${code}`} title=\"Vos informations\" activeOnlyWhenExact={true} />\n              <Heading as=\"div\" size=\"sm\" mb={2} mt={4}>\n                Calcul de l'index\n              </Heading>\n              <List spacing={2} sx={listStyles}>\n                <ListItem>\n                  <CustomNavLink\n                    to={`/simulateur/${code}/informations`}\n                    title=\"Informations calcul\"\n                    label=\"et période de référence\"\n                    valid={informationsFormValidated}\n                  />\n                </ListItem>\n                <ListItem>\n                  <CustomNavLink\n                    to={`/simulateur/${code}/effectifs`}\n                    title=\"Effectifs\"\n                    label=\"pris en compte\"\n                    valid={effectifFormValidated}\n                  />\n                </ListItem>\n                <ListItem>\n                  <CustomNavLink\n                    to={`/simulateur/${code}/indicateur1`}\n                    title=\"Indicateur\"\n                    label=\"écart de rémunération\"\n                    valid={indicateurUnFormValidated}\n                  />\n                </ListItem>\n                {(trancheEffectifs !== \"50 à 250\" && (\n                  <Fragment>\n                    <ListItem>\n                      <CustomNavLink\n                        to={`/simulateur/${code}/indicateur2`}\n                        title=\"Indicateur\"\n                        label=\"écart de taux d'augmentation\"\n                        valid={indicateurDeuxFormValidated}\n                      />\n                    </ListItem>\n                    <ListItem>\n                      <CustomNavLink\n                        to={`/simulateur/${code}/indicateur3`}\n                        title=\"Indicateur\"\n                        label=\"écart de taux de promotion\"\n                        valid={indicateurTroisFormValidated}\n                      />\n                    </ListItem>\n                  </Fragment>\n                )) || (\n                  <ListItem>\n                    <CustomNavLink\n                      to={`/simulateur/${code}/indicateur2et3`}\n                      title=\"Indicateur\"\n                      label=\"écart de taux d'augmentation\"\n                      valid={indicateurDeuxTroisFormValidated}\n                    />\n                  </ListItem>\n                )}\n                <ListItem>\n                  <CustomNavLink\n                    to={`/simulateur/${code}/indicateur4`}\n                    title=\"Indicateur\"\n                    label=\"retour congé maternité\"\n                    valid={indicateurQuatreFormValidated}\n                  />\n                </ListItem>\n                <ListItem>\n                  <CustomNavLink\n                    to={`/simulateur/${code}/indicateur5`}\n                    title=\"Indicateur\"\n                    label=\"hautes rémunérations\"\n                    valid={indicateurCinqFormValidated}\n                  />\n                </ListItem>\n                <ListItem>\n                  <CustomNavLink to={`/simulateur/${code}/recapitulatif`} title=\"Récapitulatif\" />\n                </ListItem>\n              </List>\n              <Heading as=\"div\" size=\"sm\" mb={2} mt={4}>\n                Déclaration\n              </Heading>\n              <List spacing={2} sx={listStyles}>\n                <ListItem>\n                  <CustomNavLink\n                    to={`/simulateur/${code}/informations-entreprise`}\n                    title=\"Informations entreprise/UES\"\n                    valid={informationsEntrepriseFormValidated}\n                  />\n                </ListItem>\n                <ListItem>\n                  <CustomNavLink\n                    to={`/simulateur/${code}/informations-declarant`}\n                    title=\"Informations déclarant\"\n                    valid={informationsDeclarantFormValidated}\n                  />\n                </ListItem>\n                <ListItem>\n                  <CustomNavLink\n                    to={`/simulateur/${code}/declaration`}\n                    title=\"Déclaration\"\n                    valid={declarationFormValidated}\n                  />\n                </ListItem>\n              </List>\n            </React.Fragment>\n          )}\n        />\n      </Switch>\n    </Box>\n  )\n}\n\nexport default Menu\n","import React, { FunctionComponent } from \"react\"\nimport { Box, Button, Heading } from \"@chakra-ui/react\"\nimport { Switch, Link, Route, RouteComponentProps } from \"react-router-dom\"\nimport { IconBack } from \"../../../components/ds/Icons\"\n\nexport type FAQHeaderProps = {\n  location: RouteComponentProps[\"location\"]\n  closeMenu?: () => void\n}\n\nconst FAQHeaderBackButton = ({ onClick }: { onClick: () => void }) => (\n  <Button onClick={onClick} size=\"xs\" leftIcon={<IconBack />} variant=\"link\">\n    Retour\n  </Button>\n)\n\nconst FAQHeaderHomeButton = () => (\n  <Button as={Link} to={{ state: { faq: \"/\" } }} size=\"xs\" leftIcon={<IconBack />} variant=\"link\">\n    Voir toute l’aide\n  </Button>\n)\n\nconst FAQHeader: FunctionComponent<FAQHeaderProps> = ({ location, closeMenu }) => (\n  <Box\n    height={20}\n    mx={6}\n    textAlign=\"center\"\n    borderBottom=\"1px solid\"\n    borderColor=\"gray.200\"\n    position=\"relative\"\n    display=\"flex\"\n    justifyContent=\"center\"\n    alignItems=\"center\"\n  >\n    <Box position=\"absolute\" top=\"50%\" left={0} transform=\"translateY(calc(-50% + .125rem))\" fontSize=\"xs\">\n      <Switch location={location}>\n        {closeMenu && <Route exact path=\"/\" render={() => <FAQHeaderBackButton onClick={closeMenu} />} />}\n        <Route exact path=\"/section/:section\" render={() => <FAQHeaderHomeButton />} />\n        <Route\n          exact\n          path={[\"/part/:part/question/:indexQuestion\", \"/contact\"]}\n          render={({ history }) => <FAQHeaderBackButton onClick={() => history.goBack()} />}\n        />\n        <Route\n          exact\n          path=\"/section/:section/detail-calcul\"\n          render={({ history }) => <FAQHeaderBackButton onClick={() => history.goBack()} />}\n        />\n      </Switch>\n    </Box>\n    <Heading as=\"h2\" fontFamily=\"custom\" fontWeight=\"medium\" size=\"md\" color=\"gray.700\">\n      Aide\n    </Heading>\n  </Box>\n)\n\nexport default FAQHeader\n","import React from \"react\"\nimport { Box, Text } from \"@chakra-ui/react\"\n\nimport TextLink from \"../../../components/ds/TextLink\"\n\nconst FAQFooter = () => (\n  <Box borderTop=\"1px solid\" borderColor=\"gray.200\" pt={6} mt={6}>\n    <Text fontSize=\"sm\">Vous n’avez pas trouvé l’aide que vous cherchiez&nbsp;?</Text>\n    <Text mt={1} fontSize=\"xs\">\n      <TextLink to=\"https://travail-emploi.gouv.fr/IMG/xlsx/referents_egalite_professionnelle.xlsx\" isExternal>\n        Télécharger la liste des référents Egapro (XLSX, 22 Ko)\n      </TextLink>\n    </Text>\n  </Box>\n)\n\nexport default FAQFooter\n","import { FAQPart, FAQSection } from \"../globals\"\n\nexport const faqData: FAQPart = {\n  champApplication: {\n    title: \"Champ d’application et entrée en vigueur\",\n    qr: [\n      {\n        question: \"À qui s'applique l'obligation de calcul et de publication de l'Index? \",\n        reponse: [\n          \"Le calcul de l’Index est obligatoire pour les entreprises, les associations et les syndicats, qui emploient au moins 50 salariés.\",\n          \"En ce qui concerne les employeurs publics, seuls les établissements publics à caractère industriel et commercial et certains établissements publics administratifs qui emploient au moins 50 salariés dans des conditions de droit privé sont assujettis à l'obligation de publier l'Index. En revanche, les collectivités territoriales ne sont pas assujetties à cette obligation.\",\n        ],\n      },\n      {\n        question:\n          \"Comment calcule-t-on les seuils d'effectifs des entreprises pour apprécier leur assujettissement à l'obligation de publication de l'Index ?\",\n        reponse: [\n          \"Pour apprécier le seuil d'effectifs de l'entreprise permettant de définir la date d'assujettissement à l'obligation de publication de l'Index, l'entreprise doit se fonder sur l'effectif à la date de l'obligation de publication de l'Index. Le calcul des effectifs de l'entreprise est celui prévu aux articles L.1111-2 et L.1111-3 du code du travail.\",\n          \"En revanche, il ne faut pas confondre les effectifs pris en compte pour le calcul des seuils avec les effectifs qui sont examinés pour le calcul de l'index (ex: les salariés absents plus de la moitié de la période de référence annuelle considérée sont exclus des effectifs étudiés pour les indicateurs ; cf. questions 1.3  et paragraphes 2 des annexes du décret du 8 janvier 2019). \",\n        ],\n      },\n      {\n        question:\n          \"À quel niveau l'Index doit-il être calculé, par exemple dans le cas d'une entreprise à établissements multiples, d'un groupe  ou d'une unité économique et sociale (UES)?\",\n        reponse: [\n          \"L’Index est calculé au niveau de chaque entreprise constituant une entité légale.\",\n          \"Lorsque l'entreprise comporte plusieurs établissements, le calcul des indicateurs est effectué au niveau de l'entreprise, et non de l'établissement.\",\n          \"Lorsque plusieurs sociétés forment un groupe, les indicateurs doivent être calculés au niveau de chaque entreprise composant le groupe.\",\n          \"En cas de constitution d’un comité social et économique (CSE) au niveau d’une unité économique et sociale (UES) reconnue par accord collectif, ou par décision de justice entre plusieurs entreprises juridiquement distinctes, les indicateurs sont calculés au niveau de l’UES.\",\n        ],\n      },\n      {\n        question:\n          \"Le seuil d'effectifs entraînant l'assujettissement à l'obligation de calculer l'Index s'apprécie-t-il au niveau de l'unité économique et sociale (UES) quand il en existe une ?\",\n        reponse: [\n          \"Oui. Dès lors que l'unité économique et sociale (UES) a été reconnue comme telle et comprend au moins 50 salariés à la date de l'obligation de publication de l'Index, elle est soumise à l'obligation de calcul de l'Index, quelle que soit la taille des entreprises qui la composent.\",\n          \"Par exemple, une UES comprenant 3 entreprises, respectivement de 100, 80 et 20 salariés est soumise à l'obligation de calculer l'Index. L'effectif pris en compte pour le calcul de l'Index sera alors l'effectif total de l'UES.\",\n          \"En revanche, l'obligation de publier l'Index repose sur chaque entreprise comprenant au moins 50 salariés, et non l'UES.\",\n        ],\n      },\n      {\n        question:\n          \"Une entreprise ayant déjà publié son Index en 2019 (sur une période de référence se terminant en 2018) est-elle tenue de le faire à nouveau au 1er mars 2020 (sur une période de référence se terminant en 2019) ?\",\n        reponse: [\n          \"Oui, toutes les entreprises d’au moins 50 salariés doivent publier leur Index au plus tard le 1er mars 2020 (sur une période de référence se terminant en 2019), même si elles ont déjà procédé à cette publication en 2019.\",\n        ],\n      },\n    ],\n  },\n  periodeReference: {\n    title: \"Période de référence\",\n    qr: [\n      {\n        question:\n          \"Les entreprises d'au moins 50 salariés assujetties à l'obligation de publication au 1er mars 2020 doivent-elles calculer leurs indicateurs sur la base des données de l'année 2019 ?\",\n        reponse: [\n          \"Les indicateurs sont calculés à partir des données de la période de référence annuelle que l’employeur a choisie. Cette période de référence, de 12 mois consécutifs, est celle qui précède l’année de publication : elle doit donc nécessairement s’achever au plus tard le 31 décembre 2019 pour un Index publié en 2020.\",\n          \"Ainsi, si l’entreprise d'au moins 50 salariés a choisi l’année civile comme année de référence, les données seront celles du 1er janvier 2019 au 31 décembre 2019, pour une publication au 1er mars 2020. La période de référence peut également aller du 1er juin 2018 au 31 mai 2019, mais pas du 1er janvier 2018 au 31 décembre 2018 pour une publication en 2020.\",\n\n          \"Attention : dans les entreprises de 50 à 250 salariés, l'employeur peut décider de calculer l’indicateur relatif à l'écart de taux augmentations individuelles sur une période de référence pluriannuelle, à partir des données des 2 ou 3 années précédentes. Son caractère pluriannuel peut alors être révisé tous les 3 ans.\",\n          \"Par exemple, si l’entreprise a choisi l’année civile 2019 comme période de référence pour le calcul de son Index en 2020, elle pourra calculer son indicateur relatif à l'écart de taux augmentations individuelles sur une période de référence de 2 ou 3 ans.\",\n          \"Cette période de référence pourra ainsi aller respectivement du 1er janvier 2018 au 31 décembre 2019, ou du 1er janvier 2017 au 31 décembre 2019. En 2023, elle pourra alors réviser le caractère pluriannuel de cette période de référence.\",\n        ],\n      },\n      {\n        question: \"Est-il possible de changer de période annuelle de référence d'une année sur l'autre ?\",\n        reponse: [\n          \"Non, le choix de la période annuelle de référence engage l'employeur d'une année sur l'autre ; sauf raisons particulières et exceptionnelles qu'il conviendra dès lors de justifier auprès de la Direccte (par exemple un changement dans la constitution de l'UES, avec ventes ou acquisition d'une des entreprises la composant, ou difficulté économique modifiant la configuration de l'entreprise). Cette stabilité permet une meilleure visibilité sur l'évolution de la note obtenue d'une année sur l'autre.\",\n        ],\n      },\n    ],\n  },\n  effectifs: {\n    title: \"Effectifs à prendre en compte pour le calcul des indicateurs\",\n    qr: [\n      {\n        question: \"Quels sont les effectifs à prendre en considération pour calculer les indicateurs ?\",\n        reponse: [\n          \"L’effectif des salariés à prendre en compte pour le calcul des indicateurs est apprécié sur la période de référence annuelle choisie par l’employeur.\",\n          \"Sont obligatoirement exclus de ce périmètre : les apprentis, les titulaires d’un contrat de professionnalisation, les salariés mis à la disposition de l’entreprise par une entreprise extérieure (dont les intérimaires), les salariés expatriés, ainsi que les salariés absents plus de la moitié de la période de référence annuelle considérée (sauf pour le calcul de l'indicateur relatif au retour de congé maternité - cf. rubrique G).\",\n          \"Les salariés en pré-retraite, bien qu’ils apparaissent dans les effectifs, sont rémunérés mais ne sont pas présents, sont par ailleurs exclus.\",\n        ],\n      },\n      {\n        question:\n          \"Les effectifs qui ont quitté l’entreprise avant la fin de la période de référence mais qui ont été présents plus de 6 mois doivent-ils être pris en compte pour le calcul des indicateurs ?\",\n        reponse: [\n          \"Oui, ils doivent être pris en compte. Leurs caractéristiques individuelles sont alors appréciées au dernier jour de présence dans l’entreprise. Par caractéristiques individuelles on entend l’âge, le niveau ou coefficient hiérarchique en application de la classification de branche, du niveau selon la méthode de cotation des postes de l’entreprise, ou de la catégorie socioprofessionnelle (CSP). Par exemple s’ils ont quitté l’entreprise au 1er septembre, ce sont leurs caractéristiques au 31 août qui seront prises en compte.\",\n          \"Un salarié promu avec un changement de catégorie socio-professionnelle en cours d’année sera pris en compte dans la CSP effective au 31 décembre (ou au dernier jour) de l’année étudiée.\",\n        ],\n      },\n      {\n        question:\n          \"L’obligation de présence du salarié pendant au moins 6 mois pour sa prise en compte dans les effectifs est-elle obligatoirement continue ?\",\n        reponse: [\"Non, cette période de présence d’au moins 6 mois peut être continue ou discontinue.\"],\n      },\n      {\n        question:\n          \"Qu’entend-on par une absence de plus de la moitié de la période de référence annuelle ? S’agit-il d’une période de suspension de rémunération et d’indemnisation ou de l’absence physique de la personne ?\",\n        reponse: [\n          \"Pour déterminer quels sont les salariés absents plus de la moitié de la période de référence, on exclut les salariés dont le contrat de travail a été suspendu pendant plus de six mois au cours de cette période. Cela amène à exclure les salariés en congé maladie, en congé maternité (sauf pour l'indicateur relatif au retour de congé maternité - cf. rubrique G), ou en congé sans solde et qui ont, à ce titre, été absents sur une durée de plus de 6 mois.\",\n          \"En revanche, les congés payés sont pris en compte comme du temps de présence.\",\n          \"Les salariés titulaires d’un contrat de travail à durée déterminée de moins de 6 mois sont également exclus.\",\n        ],\n      },\n      {\n        question:\n          \"Les salariés d’une société extérieure détachés au sein de l’entreprise sont-ils inclus dans le périmètre des effectifs à prendre en compte pour le calcul des indicateurs ?\",\n        reponse: [\n          \"Les salariés d’une société extérieure détachés au sein de l’entreprise ne sont pas pris en compte au même titre que les salariés mis à la disposition de l’entreprise par une entreprise extérieure (cf. paragraphe 2 des annexes du décret du 8 janvier 2019).\",\n        ],\n      },\n      {\n        question: \"Faut-il prendre en compte les salariés placés en activité partielle (chômage partiel) ?\",\n        reponse: [\n          \"Les salariés placés en activité partielle ne sont pas pris en compte dans les effectifs pour le calcul de l’Index pour les périodes où ils ne sont pas en activité.\",\n        ],\n      },\n      {\n        question:\n          \"Les effectifs sont-ils appréciés sur la totalité de la période de référence ou au dernier jour de celle-ci ?\",\n        reponse: [\n          \"L’effectif des salariés pris en compte pour le calcul des indicateurs est apprécié sur la période de référence annuelle et non au dernier jour de celle-ci. Ainsi, qu’il soit à temps partiel ou à temps plein, si le salarié était présent plus de la moitié de la période de référence et répond aux conditions du décret, il compte pour 1 (cf. 2. des annexes).\",\n        ],\n      },\n      {\n        question:\n          \"Les salariés d’une entreprise de travail temporaire en mission au sein d’une entreprise utilisatrice sont-ils inclus dans le périmètre des effectifs de l’entreprise de travail temporaire pour le calcul des indicateurs ?\",\n        reponse: [\n          \"Quand bien même l’entreprise de travail temporaire est l’employeur des salariés intérimaires, elle leur applique les politiques salariales des différentes entreprises utilisatrices. L’entreprise de travail temporaire doit donc mesurer son Index uniquement en se fondant sur ses salariés permanents.\",\n          \"De même, les salariés en portage salarial dans une entreprise cliente ne sont pas pris en compte dans le calcul de l’Index de cette entreprise.\",\n        ],\n      },\n      {\n        question:\n          \"Les cadres dirigeants sont-ils pris en compte dans l’effectif des salariés pour le calcul des indicateurs ? \",\n        reponse: [\n          \"Oui, les cadres dirigeants doivent être pris en compte pour le calcul des indicateurs dès lors qu’ils sont salariés de l’entité légale concernée.\",\n        ],\n      },\n      {\n        question:\n          \"Pour calculer les effectifs à prendre en compte, faut-il exclure les personnes absentes plus de 6 mois dont les absences sont injustifiées ?\",\n        reponse: [\"Oui, les personnes absentes plus de six mois pour absence injustifiée sont exclues du calcul.\"],\n      },\n      {\n        question:\n          \"Les alternants embauchés par la suite en CDI au cours de la période de référence, avec une reprise d’ancienneté au premier jour de leur alternance, sont-ils pris en compte dans l’effectif des salariés pour le calcul des indicateurs ?\",\n        reponse: [\n          \"Le décret précise que les apprentis et les titulaires d’un contrat de professionnalisation ne sont pas pris en compte pour le calcul des indicateurs.\",\n          \"S’ils sont embauchés en CDI à la suite de leur alternance, ils seront pris en compte uniquement si la période passée en CDI est supérieure à six mois. Dans cette hypothèse, l’assiette de rémunération prise en compte sera celle qui porte sur la période passée en CDI.\",\n        ],\n      },\n      {\n        question: \"Quelle est la définition des 4 catégories socioprofessionnelles (CSP) retenue dans le décret ?\",\n        reponse: [\n          \"La définition des quatre CSP retenues dans le décret correspond à la nomenclature de l’INSEE. Les 4 CSP prévues par le décret du 8 janvier 2019 étant les suivantes : Ouvriers / Employés / Techniciens et agents de maîtrise/ Ingénieurs et cadres.\",\n        ],\n      },\n    ],\n  },\n  remuneration: {\n    title: \"Éléments de la rémunération pris en compte\",\n    qr: [\n      {\n        question:\n          \"Pour le calcul de l’Index, le salaire de référence peut-il être le salaire contractuel de base versé ?\",\n        reponse: [\n          \"Non. Au sens de l’article L. 3221-3 du code du travail, la rémunération à prendre en compte comprend non seulement le salaire ou traitement ordinaire de base ou minimum, mais également tous les autres avantages et accessoires payés, directement ou indirectement, en espèces ou en nature, par l’employeur au salarié en raison de l’emploi de ce dernier.\",\n          \"Sont exclues de l’assiette de rémunération : les indemnités de licenciement (et de rupture conventionnelle) , les indemnités de fin CDD (notamment la prime de précarité), les indemnités de départ à la retraite, ainsi que les indemnités compensatrices de congés payés, versées en fin de contrat.\",\n          \"En revanche, les indemnités de congés payés sont prises en compte dans l'assiette de rémunération.\",\n          \"Sont par ailleurs exclus les primes liées à une sujétion particulière (qui ne concerne pas la personne du salarié), les primes d’ancienneté, les heures supplémentaires, les heures complémentaires (y compris effectuées dans le cadre de compléments d’heures) et les versements effectués au titre de l’intéressement et de la participation.\",\n        ],\n      },\n      {\n        question: \"Dans le détail, quels types de primes faut-il exclure ou prendre en compte ?\",\n        reponse: [\n          \"Sont exclues du calcul de l’index, les primes liées à une sujétion particulière qui ne concerne pas la personne du salarié. Ces primes se rapportent non pas à la personne du salarié ou à ses performances, mais aux contraintes ou caractéristiques liées à son poste de travail (ex : prime de salissure, prime de froid, prime d’ouverture / de fermeture d’un magasin, prime d’astreinte, etc.).\",\n          \"Les primes collectives attribuées à tous les salariés, quel que soit leur poste de travail, sont à inclure dans la rémunération (par exemple : prime de transport ou prime de vacances).\",\n          'Les \"bonus\", les commissions sur produits, les primes d’objectif liées aux performances individuelles du salarié, variables d’un individu à l’autre pour un même poste, sont prises en compte dans l’assiette de rémunération.',\n        ],\n      },\n      {\n        question:\n          \"Le salaire de référence à prendre en compte pour le calcul des indicateurs renvoie-t-il à une rémunération brute ?\",\n        reponse: [\n          \"Oui, la rémunération prise en compte pour le calcul des indicateurs correspond à la rémunération annuelle brute moyenne, reconstituée en équivalent temps plein sur la période de référence annuelle considérée.\",\n        ],\n      },\n      {\n        question: \"Comment traiter le cas des rémunérations et majorations versées un dimanche ou un jour férié ?\",\n        reponse: [\n          \"Pour les heures de travail réalisées un jour férié, le montant de base du salaire est pris en compte, mais pas la majoration, qui correspond à une sujétion particulière liée à la fonction.\",\n          \"Pour les heures travaillées le dimanche, incluses dans l’horaire hebdomadaire, le montant de base est pris en compte, mais pas la majoration (sujétion particulière liée à la fonction).\",\n          \"En revanche, dans le cas du travail dominical effectué en plus de l’horaire hebdomadaire prévu, l’intégralité de la rémunération est exclue au même titre que les heures complémentaires et supplémentaires.\",\n        ],\n      },\n      {\n        question: \"Faut-il reconstituer la rémunération d’une personne absente une partie de la période de référence ?\",\n        reponse: [\n          \"La rémunération de chaque salarié, au sens de l’article L. 3221-3, est reconstituée en équivalent temps plein sur la période de référence annuelle considérée.\",\n          \"Par exemple, un salarié parti en congé sabbatique pendant 4 mois sera bien inclus dans les effectifs pris en compte pour le calcul des indicateurs. Sa rémunération sera reconstituée en équivalent temps plein sur les 12 mois.\",\n        ],\n      },\n      {\n        question:\n          \"L’employeur doit-il prendre en compte la rémunération variable théorique au contrat ou la rémunération réellement versée ?\",\n        reponse: [\n          \"L’employeur doit prendre en compte la rémunération réellement versée, de laquelle sont exclus les indemnités de licenciement (ou de rupture conventionnelle), les indemnités de fin CDD (notamment la prime de précarité) , les indemnités de départ à la retraite, les primes liées à une sujétion particulière qui ne concerne pas la personne du salarié, les primes d’ancienneté, les heures supplémentaires, les heures complémentaires (y compris effectuées dans le cadre de compléments d’heures) ainsi que les versements effectués au titre de l’intéressement et de la participation.\",\n          \"Ainsi, les bonus ou les primes d’objectifs, variables d’une année sur l’autre ou d’un mois sur l’autre, dont le montant théorique est fixé à l’avance mais qui sont effectivement versés sur l’exercice suivant, ne sont pris en compte que lorsqu’ils sont effectivement versés.\",\n          \"Pour les salariés absents une partie de l’année de référence, et qui n’ont à ce titre pas touché de bonus ou de primes variables, il faut donc compter 0.\",\n        ],\n      },\n      {\n        question:\n          \"Dans le cas où les salariés ont le choix entre un véhicule de fonction et une indemnité ou crédit déplacement, doit-on exclure ces bénéfices de l’assiette de rémunération ?\",\n        reponse: [\n          \"Dans le cas où la voiture de fonction peut être utilisée à des fins personnelles, il s’agit d’un avantage en nature, qui doit être pris en compte dans l’assiette de rémunération. De même, l’indemnité ou crédit déplacement, qui est l’équivalent en espèces de l’avantage tiré d’une voiture de fonction pouvant être utilisée à des fins personnelles, relève des avantages en espèces devant être pris en compte dans l’assiette.\",\n        ],\n      },\n      {\n        question:\n          \"Les actions, stock-options ou compensations différées en actions perçues par certains salariés doivent-elles être prises en compte dans l’assiette de rémunération ?\",\n        reponse: [\n          \"Non, ces éléments ne doivent pas être pris en compte dans l’assiette de rémunération car ils ne sont pas attribués en contrepartie d’un travail, mais correspondent à des gains liés au statut d’actionnaire. Ces éléments de rémunération sont optionnels, le salarié ayant le choix d’y souscrire ou non. De plus, leur versement est effectué de manière différée dans le temps.\",\n        ],\n      },\n      {\n        question:\n          \"Faut-il reconstituer la rémunération d’un salarié absent pour maladie une partie de la période de référence (moins de six mois) mais dont l’absence bénéficie d’un maintien total de salaire ?\",\n        reponse: [\n          \"Pour mémoire, les périodes où le contrat de travail du salarié est suspendu ne sont pas prises en compte dans le calcul.\",\n          \"La rémunération du salarié absent pour maladie pendant une période inférieure à six mois est reconstituée en équivalent temps plein sur la période de référence.\",\n        ],\n      },\n      {\n        question:\n          \"La rémunération d’un salarié à temps partiel doit-elle être reconstituée en équivalent temps plein sur les 12 mois de la période de référence ?\",\n        reponse: [\n          \"Oui, la rémunération des salariés à temps partiel est reconstituée en équivalent temps plein sur la période de référence annuelle considérée.\",\n        ],\n      },\n      {\n        question:\n          \"Le compte épargne-temps (CET) doit-il être inclus dans les éléments de la rémunération à prendre en compte ?\",\n        reponse: [\n          \"Le compte épargne-temps (CET) permet au salarié d’accumuler des droits à congé rémunéré en contrepartie des périodes de congé ou de repos non pris ou des sommes qu’il y a affectées. Il peut également, en accord avec l’employeur et à sa demande, bénéficier d’une rémunération, immédiate ou différée.\",\n          \"Certaines de ces sommes peuvent correspondent à des heures supplémentaires, complémentaires qui sont exclues de l’assiette de rémunération. Dans la mesure où il n’est pas possible de faire la distinction au moment du versement, les sommes issues de la monétisation du CET ne doivent pas être prises en compte.\",\n        ],\n      },\n    ],\n  },\n  indicateur1: {\n    title: \"Indicateur - écart de rémunération\",\n    qr: [\n      {\n        question:\n          \"Est-il possible de répartir les salariés par ancienneté plutôt que par tranche d’âge, ou de modifier les tranches d’âge ?\",\n        reponse: [\n          \"Non, cela n’est pas possible d’adapter ce critère pour comparer les écarts de rémunération. La répartition par tranches d’âge facilite la collecte et le traitement de données objectives, contrairement à une répartition par ancienneté, plus difficile à définir. Les quatre tranches d’âge définies dans le décret sont les suivantes : - moins de 30 ans ; - de 30 à 39 ans ; - de 40 à 49 ans ; - et 50 ans et plus.\",\n          \"Il n’est pas non plus possible d’opter pour des tranches d’âge plus fines, par exemple de 0-5 ans / 6-10 ans etc.\",\n        ],\n      },\n      {\n        question:\n          \"S’agissant des catégories de postes équivalents, est-il possible de changer de méthode de répartition des salariés d’une année sur l’autre, notamment au sein d’une même période de 3 ans au cours de laquelle l’évolution de la note de l’Index sera examinée ? Ou le choix initial lie-t-il l’employeur ?\",\n        reponse: [\n          \"Le décret prévoit que les employeurs ont la possibilité de répartir les salariés selon la classification de branche ou selon « une autre méthode de cotation des postes » après consultation du comité social et économique (ou des anciennes instances représentatives du personnel si la mise en place du CSE n’a pas encore eu lieu).\",\n          \"L’employeur a la possibilité de changer de méthode de répartition des salariés d’une année sur l’autre, ses différents Index seront comparés au cours d’un cycle de 3 ans, peu importe que la méthode ait été modifiée\",\n        ],\n      },\n      {\n        question:\n          \"Est-il possible de retenir une méthode de cotation reposant sur les seuls intitulés de postes ou de fonctions des salariés, ou selon les catégories de métiers ?\",\n        reponse: [\n          \"La méthode de cotation des postes ne doit pas aboutir à une construction des catégories par métier ou par fonction. Les catégories doivent au contraire inclure plusieurs métiers afin de corriger les biais liés à la non mixité de certains métiers.\",\n          \"Dès lors, la répartition des salariés selon le seul intitulé des postes ou des fonctions ne correspond pas à l’esprit du décret. Le but est bien de mesurer les écarts de rémunération entre femmes et hommes effectuant un travail de valeur égale.\",\n          \"Ainsi, il n’est pas possible de procéder aux cotations de postes par filières si cela conduit à repartir les salariés par métiers.\",\n          \"Les échantillons peuvent se faire, par exemple, par niveau de responsabilité. Par exemple : un(e) technicien(ne) de maintenance peut se trouver dans le même échantillon qu’un(e) assistant(e) des ventes, si leur niveau de responsabilité est le même et qu’ils sont dans la même tranche d’âge.\",\n          'La méthode de cotation peut consister à segmenter une CSP existante, par exemple, dans la catégorie \"Cadre\", distinguer \"cadres dirigeants\", \"managers supérieurs\", et \"managers intermédiaires\", etc.)',\n        ],\n      },\n      {\n        question:\n          \"Les entreprises souhaitant utiliser la catégorisation par CSP, mais dont la convention de branche ne reprend pas les catégories de l’INSEE sont-elles contraintes de reconstituer les 4 CSP prévues au décret pour répartir leurs effectifs ?\",\n        reponse: [\n          'Parmi les 4 catégories socio-professionnelles (CSP) visées par le décret à défaut de cotation spécifique (Ouvriers / Employés / Techniciens et agents de maîtrise/ Ingénieurs et cadres), les entreprises peuvent regrouper des catégories pour en avoir 2 ou 3 (ex : employés et ouvriers) si cela correspond au premier échelon de leur convention collective de branche. Cependant elles ne peuvent pas \"créer\" des catégories distinctes de celles du décret.',\n        ],\n      },\n      {\n        question: \"Dans quels cas l’employeur doit-il obligatoirement consulter le comité social et économique (CSE) ?\",\n        reponse: [\n          \"La consultation du CSE mentionnée au paragraphe 4.1. des annexes du décret du 8 janvier 2019 est obligatoire si l’employeur choisit une catégorisation par niveau ou coefficient hiérarchique en application de la classification de branche, ou d’une autre méthode de cotation des postes. La consultation du CSE n’est en revanche pas obligatoire dans le cas d’une répartition des salariés par CSP ou s’il choisit de regrouper entre elles une des 4 CSP existantes. Par exemple : le calcul de l’indicateur écart de rémunérations, avec 2 catégories cadres / non cadres (comprenant ouvriers / employés / techniciens-agents de maitrise) est possible sans consultation (avec un seuil de pertinence de 5% et non 2%).\",\n          \"Une entreprise ayant déjà informé ses IRP par le passé sur la méthode de cotation des postes devra procéder à une nouvelle consultation dans le cadre du calcul de l’Index.\",\n        ],\n      },\n      {\n        question: \"Lorsque l’entreprise a plusieurs établissements, à quel niveau le CSE doit-il être consulté ?\",\n        reponse: [\"Lorsque l’entreprise a plusieurs établissements, c’est le CSE central qui doit être consulté.\"],\n      },\n      {\n        question: \"La consultation du comité social et économique implique-t-elle nécessairement un avis ?\",\n        reponse: [\n          \"Oui, la consultation du comité social et économique mentionnée aux paragraphes 4.1 des annexes du décret du 8 janvier 2019 implique un avis.\",\n        ],\n      },\n      {\n        question: \"Dans quel délai maximum le CSE doit-il rendre son avis ?\",\n        reponse: [\n          \"Les délais de consultation du CSE prévus par le code du travail (articles L. 2312-16 et R. 2312-6) sont les suivants :\",\n          \"1 mois à compter de la mise à disposition des informations ;\",\n          \"2 mois en cas d’intervention d’un expert (financé à 100% par le CSE). Ce dernier a 2 mois maximum à compter de sa désignation pour rendre son rapport ;\",\n          \"3 mois en cas d’intervention d’une ou plusieurs expertises dans le cadre de consultation se déroulant à la fois au niveau du comité social et économique central et d’un ou plusieurs comités sociaux économiques d’établissement.\",\n          \"À noter toutefois qu’il est possible de conclure un accord permettant de réduire ce délai. Celui-ci doit toutefois permettre au CSE ou, le cas échéant, au comité central d’exercer utilement sa compétence, en fonction de la nature et de l’importance des questions qui lui sont soumises.\",\n        ],\n      },\n      {\n        question:\n          \"Les VRP peuvent-ils constituer une cinquième CSP ? En cas de réponse négative, à quelle CSP les rattacher ?\",\n        reponse: [\n          'Non, il n’est pas possible de créer une cinquième CSP \"VRP\" car cela revient à créer une catégorie de poste par \"métier\" ce qui est contraire à la philosophie de l’index.',\n          \"Ainsi, l’employeur a deux possibilités :\",\n          \"Soit il rattache les VRP à une CSP existante, soit les TAM ou les cadres selon leur statut ;\",\n          \"Soit il répartit les salariés, après consultation du CSE, par niveau ou coefficient hiérarchique ou toute autre méthode de cotation des postes.\",\n        ],\n      },\n    ],\n  },\n  indicateur2: {\n    title: \"Indicateur - écart de taux d’augmentations\",\n    qr: [\n      {\n        question:\n          'Les \"écarts de taux d’augmentations individuelles\" correspondent-ils à des écarts de montants d’augmentations ou à des écarts de nombres de bénéficiaires d’augmentation ?',\n        reponse: [\n          \"La notion d’ « écarts de taux d’augmentations individuelles » renvoie à l’écart des taux de bénéficiaires d’augmentations individuelles. Ainsi, l’indicateur écart de taux d'augmentations est calculé en comparant le pourcentage de salariés augmentés, hors promotions, parmi les hommes à celui de salariées augmentées, hors promotions, parmi les femmes pour chacun des quatre groupes de CSP comptant 10 salariés ou plus de l’un et de l’autre sexe. Il en va de même pour le calcul de l'indicateur relatif à l’écart de taux de promotions.\",\n        ],\n      },\n      {\n        question:\n          \"Lorsqu’en application d’un accord d’entreprise, une entreprise augmente automatiquement au bout de trois ans les salariés qui n’ont pas eu sur les trois dernières années l’équivalent de 3% d’augmentation, de telle sorte que sur les trois ans ils ont effectivement une rémunération augmentée de 3%, est-ce une augmentation individuelle ?\",\n        reponse: [\n          \"Non, dès lors que l’augmentation est basée sur des critères pouvant englober plusieurs salariés, en application d’un accord collectif d’entreprise, elle doit être considérée comme une augmentation collective.\",\n        ],\n      },\n      {\n        question:\n          \"Pour l’indicateur relatif à l’écart de taux d'augmentations, est-il possible, comme pour l’indicateur écart de rémunérations, de répartir les salariés par CSP ou par niveau ou coefficient hiérarchique ?\",\n        reponse: [\n          \"Non. La répartition des salariés, après consultation du comité social et économique, par niveau ou coefficient hiérarchique, en application de la classification de branche ou d'une autre méthode de cotation des postes n'est possible que pour le calcul du 1er indicateur relatif à l'écart de rémunération.\",\n          \"Pour le calcul de l'indicateurs relatif à l'écart de taux d'augmentations, les salariés sont répartis selon les 4 catégories socioprofessionnelles définies en annexe du décret (ouvriers ; employés ; techniciens et agents de maîtrise ; ingénieurs et cadres).\",\n        ],\n      },\n    ],\n  },\n  indicateur3: {\n    title: \"Indicateur - écart de taux de promotions\",\n    qr: [\n      {\n        question:\n          'Pour les \"écarts de taux de promotions\", quelle est la définition d’une \"promotion\" au sens du décret ?',\n        reponse: [\n          \"La notion de promotion est définie en annexe du décret comme le passage à un niveau de classification ou coefficient supérieur, dans la classification de branche ou dans le système de cotation choisi par l’entreprise.\",\n          \"À noter que le passage à un niveau de classification ou coefficient supérieur n’est pas lié au choix retenu pour la répartition des salariés dans les catégories de postes pour le calcul de l’indicateur écart de rémunérations.\",\n          \"Il est conseillé à l’entreprise d’être la plus transparente possible sur la méthode de promotion, afin que les salariés et les représentants élus au CSE puissent identifier clairement la notion de promotion.\",\n        ],\n      },\n      {\n        question:\n          \"Quel est l’effectif à prendre en compte pour le calcul du pourcentage de promotions ? Les salariés qui ont été promus au cours de l’année de référence mais qui ont quitté l’entreprise avant la fin de cette période sont-ils pris en compte ?\",\n        reponse: [\n          \"Le calcul des effectifs à prendre en compte est le même pour tous les indicateurs (cf. rubrique C du questions/réponses). Ainsi les salariés promus au cours de l’année de référence mais qui ont quitté l’entreprise avant la fin de la période sont pris en compte dès lors qu’ils remplissent les critères prévus au paragraphe 2 des annexes du décret du 8 janvier 2019 (https://www.legifrance.gouv.fr/affichCodeArticle.do;jsessionid=26B8F4D02F6C0E60EC6708AD18D25B94.tplgfr23s_1?cidTexte=LEGITEXT000006072050&idArticle=LEGIARTI000038137262&dateTexte=20190225&categorieLien=id#LEGIARTI000038137262).\",\n        ],\n      },\n      {\n        question:\n          \"Pour le calcul de l’indicateur relatif aux taux de promotions, les changements automatiques de coefficient en application d’une convention collective nationale peuvent-ils être pris en compte ?\",\n        reponse: [\n          \"La notion de promotion est définie en annexes du décret comme le franchissement d’un niveau ou coefficient hiérarchique supérieur. Les changements automatiques de coefficient en application d’une convention collective nationale sont donc à prendre en compte pour le calcul de l’indicateur relatif aux taux de promotions.\",\n        ],\n      },\n      {\n        question:\n          \"Pour l’indicateur relatif à l’écart de taux de promotions, est-il possible, comme pour l’indicateur écart de rémunérations, de répartir les salariés par CSP ou par niveau ou coefficient hiérarchique ?\",\n        reponse: [\n          \"Non. La répartition des salariés, après consultation du comité social et économique, par niveau ou coefficient hiérarchique, en application de la classification de branche ou d'une autre méthode de cotation des postes n'est possible que pour le calcul du 1er indicateur relatif à l'écart de rémunération.\",\n          \"Pour le calcul de l'indicateurs relatif à l'écart de taux de promotions, les salariés sont répartis selon les 4 catégories socioprofessionnelles définies en annexe du décret (ouvriers ; employés ; techniciens et agents de maîtrise ; ingénieurs et cadres).\",\n        ],\n      },\n    ],\n  },\n  indicateur2et3: {\n    title: \"Indicateurs - écart de taux d’augmentations\",\n    qr: [\n      {\n        question:\n          \"Les « écarts de taux d’augmentations individuelles » correspondent-ils à des écarts de montants d’augmentations ou à des écarts de nombres de bénéficiaires d’augmentation ?\",\n        reponse: [\n          \"La notion d’ « écarts de taux d’augmentations individuelles » renvoie à l’écart des taux de bénéficiaires d’augmentations individuelles, qu’elles correspondent ou non à une promotion. Pour que l'indicateur soit calculable, l'entreprise doit comporter au moins 5 femmes et 5 hommes après retraitement des effectifs pour le calcul de l'ensemble des indicateurs.\",\n        ],\n      },\n      {\n        question:\n          \"Lorsqu’en application d’un accord d’entreprise, une entreprise augmente automatiquement au bout de trois ans les salariés qui n’ont pas eu sur les trois dernières années l’équivalent de 3% d’augmentation, de telle sorte que sur les trois ans ils ont effectivement une rémunération augmentée de 3%, est-ce une augmentation individuelle ?\",\n        reponse: [\n          \"Non, dès lors que l’augmentation est basée sur des critères pouvant englober plusieurs salariés, en application d’un accord collectif d’entreprise, elle doit être considérée comme une augmentation collective.\",\n        ],\n      },\n      {\n        question:\n          \"S’agissant de l’indicateur relatif à l’écart de taux d’augmentations, est-il possible d’apprécier cet indicateur sur une période de référence de trois ans ?\",\n        reponse: [\n          \"L’employeur peut décider de calculer l’indicateur relatif aux augmentations individuelles sur une période de référence pluriannuelle, à partir des données des deux ou trois années précédentes. Son caractère pluriannuel peut être révisé tous les trois ans.\",\n          \"Dans le cas où l’employeur choisit de calculer l’indicateur sur une période de référence pluriannuelle, il devra dans un premier temps retenir les effectifs pris en compte sur la période de référence annuelle retenue pour le calcul des autres indicateurs. Dans un second temps, pour le calcul de l’indicateur relatif à l'écart de taux d'augmentations, il regardera parmi ces effectifs combien ont bénéficié d’une augmentation individuelle sur les deux ou trois années considérées. Le choix d’une période de référence pluriannuelle revient à compter les salariés qui ont été augmentés au moins une fois sur les deux ou trois années considérées. Il convient ainsi de compter une seule fois un salarié augmenté chaque année sur la période de référence pluriannuelle retenue.\",\n        ],\n      },\n      {\n        question:\n          \"Pour l’indicateur relatif à l’écart de taux d’augmentations individuelles, est-il possible, comme pour l’indicateur écart de rémunérations, de répartir les salariés par CSP ou par niveau ou coefficient hiérarchique ?\",\n        reponse: [\n          \"Non. La répartition des salariés, après consultation du comité social et économique, par niveau ou coefficient hiérarchique, en application de la classification de branche ou d'une autre méthode de cotation des postes n'est possible que pour le calcul du 1er indicateur relatif à l'écart de rémunération.\",\n          \"Le calcul de l'indicateur relatif à l'écart de taux d'augmentations individuelles est effectué au niveau de l'entreprise.\",\n        ],\n      },\n    ],\n  },\n  indicateur4: {\n    title: \"Indicateur - congé maternité\",\n    qr: [\n      {\n        question:\n          \"Concernant l’indicateur relatif au retour de congé maternité, comment interpréter « l’année suivant » le retour de congé maternité ?\",\n        reponse: [\n          \"L’indicateur concerne les salariées qui sont revenues de congé maternité au cours de la période annuelle de référence. Parmi ces salariées, seules sont prises en compte, pour le calcul de l’indicateur, celles ayant eu un congé maternité durant lequel des augmentations salariales (générales ou individuelles) ont eu lieu. Pour elles, comme le prévoit la loi depuis 2006, il faut procéder à une réévaluation de leur rémunération.\",\n          \"Ainsi, si une salariée revient en décembre de congé maternité et que des augmentations ont été versées pendant la période de ce congé, elle devra avoir une augmentation à son retour avant la fin de l’année (si l’année civile est la période de référence).\",\n          \"L’indicateur est calculé en divisant le nombre de femmes augmentées à leur retour de congé maternité (lorsque ce retour a lieu pendant la période de référence), par le nombre de salariées revenues de congé maternité pendant la période de référence, et au cours duquel des augmentations salariales ont eu lieu.\",\n          \"Si plusieurs femmes sont revenues de congé maternité pendant l’année de référence, et qu’une seule d’entre elles n’a pas été augmentée alors qu’elle relève d’une catégorie profesionnelle où la rémunération a été augmentée, la note de l’indicateur est égale à 0.\",\n        ],\n      },\n      {\n        question: \"Comment calculer l’indicateur lorsque le congé maternité est suivi d’un congé parental ?\",\n        reponse: [\n          \"Lorsque le congé maternité est suivi d’un congé parental, l’indicateur est calculé en comparant le nombre de salariées ayant bénéficié d’une augmentation à leur retour physique dans l’entreprise, pendant l’année de référence, au nombre de salariées ayant béneficié d'un congé maternité pendant lequel des augmentations salariales ont eu lieu. Seules les augmentations intervenues pendant le congé de maternité sont prises en compte, et non celles intervenues pendant le congé parental.\",\n        ],\n      },\n      {\n        question:\n          \"Les salariées absentes plus de six mois mais qui sont revenuesavant la fin de la période de référence doivent-elles être prises en compte pour le calcul de l’indicateur relatif au retour de congé maternité ?\",\n        reponse: [\n          \"Oui, les salariées revenues de congé maternité pendant la période de référence et qui ont été absentes plus de 6 mois pendant cette même période, doivent être prises en compte uniquement pour le calcul de l’indicateur\",\n        ],\n      },\n      {\n        question:\n          \"En évaluant la période de référence du 1er janvier au 31 décembre 2019, si une salariée revient de congé maternité au 31 août 2019 et qu’elle est augmentée au 1er janvier 2020, alors que ses collègues ont été revalorisés au 1er juillet 2019, celle-ci est-elle considérée comme augmentée ou non au titre de l’indicateur relatif au retour de congé maternité ?\",\n        reponse: [\n          \"Non, elle n’est pas considérée comme augmentée, car le respect de l’obligation est apprécié sur l’année de référence, soit dans cet exemple sur l'année civile 2019.\",\n        ],\n      },\n      {\n        question:\n          \"Les augmentations salariales des salariées en congé maternité, accordées durant ce congé (et non au retour de la salariée) sont-elles prises en compte pour le calcul de l’indicateur relatif au retour de congé maternité ?\",\n        reponse: [\n          \"Oui. L’indicateur a pour objet de déterminer le pourcentage de salariées ayant bénéficié d’une augmentation à leur retour de congé maternité si des augmentations sont intervenues durant la durée de leur congé maternité. Or en pratique, beaucoup d’entreprises procèdent aux augmentations prévues par l’article L.1225-26 du code du travail simultanément aux augmentations générales prévues pour l’ensemble des salariés. Ces augmentations peuvent donc être effectives pendant le congé maternité et non à l’issue de celui-ci. Il est logique et conforme à l’esprit du texte de prendre en compte l’augmentation que les femmes ont connue au cours de leur congé de maternité si elle se situe pendant la période de référence pour le calcul de l’indicateur.\",\n        ],\n      },\n      {\n        question:\n          \"L’employeur doit-il verser à la salariée, à son retour de congé maternité, une moyenne des bonus qui ont été payés aux autres salariés en son absence ?\",\n        reponse: [\n          \"Non. L’article L. 1225-26 du code du travail prévoit qu’à leur retour de congé maternité, les salariées doivent bénéficier des augmentations générales ainsi que de la moyenne des augmentations individuelles perçues pendant la durée de ce congé par les salariés relevant de la même catégorie professionnelle ou, à défaut, de la moyenne des augmentations individuelles dans l’entreprise.\",\n          \"Selon la jurisprudence, dès lors qu’une prime est expressément subordonnée à la participation effective du salarié à une activité de l’entreprise et qu’elle répond à des critères d’attribution objectifs, mesurables et licites, elle n’est pas due à la salariée pendant son congé de maternité. (Cass. soc., 19 septembre 2018, nº 17-11.618 FS-PB : https://www.courdecassation.fr/jurisprudence_2/arrets_publies_2986/chambre_sociale_3168/2018_8506/septembre_8946/1294_19_40212.html)\",\n        ],\n      },\n      {\n        question:\n          \"Le congé d’adoption est-il pris en compte pour le calcul de l’indicateur relatif au retour de congé maternité ?\",\n        reponse: [\n          \"Oui, le congé d’adoption est pris en compte dans le calcul de l’indicateur, au même titre que le congé de maternité.\",\n        ],\n      },\n      {\n        question:\n          \"Obtient-on nécessairement 0 à l’indicateur relatif au retour de congé maternité dans le cas où seules 2 salariées n’ont pas bénéficié d’une augmentation durant l’année 2019 alors qu’elles étaient absentes pour congé maternité à l’occasion de l’exercice annuel de revalorisation, étant donné que ces deux salariées avaient bénéficié toutes deux d’une augmentation au second semestre 2018 ?\",\n        reponse: [\n          \"Le calcul de l’Index étant basé sur une période de référence annuelle, si la période choisie est l’année 2019, il n’est pas possible de déroger à la règle posée par le décret n° 2019-15 du 8 janvier 2019, car les deux salariées concernées ont bénéficié d’une revalorisation au second semestre de l’année 2018.\",\n        ],\n      },\n    ],\n  },\n  publication: {\n    title: \"Publication et transmission de l’index\",\n    qr: [\n      {\n        question: \"Faut-il publier uniquement l’Index ou également le détail des indicateurs ?\",\n        reponse: [\n          \"L’obligation de publicité concerne uniquement la note globale de l’Index. Le détail des indicateurs est quant à lui réservé au comité social et économique (CSE) et aux services de l’inspection du travail. Néanmoins, si l’entreprise souhaite publier le résultat de chaque indicateur sur son site Internet, rien ne l’en empêche.\",\n          \"Elle peut également y faire figurer les mesures de correction prévues.\",\n        ],\n      },\n      {\n        question: \"Sur quel site internet l’entreprise doit-elle publier son Index ?\",\n        reponse: [\n          \"La note globale de l’Index doit être publiée sur le site internet de l'entreprise, lorsqu'il en existe un (y compris lorsque l’entreprise fait partie d’un groupe ou d’une UES). Une publication sur le site Intranet de l'entreprise n'est donc pas suffisante.\",\n          \"La note globale pourra être publiée sur son site de présentation, il n'est pas pour autant obligatoire qu'elle figure sur la page d'accueil. \",\n          \"À défaut de site internet propre à l'entreprise, l'Index doit être publié sur le site du groupe (ou de l'UES) auquel l'entreprise appartient, s'il en existe un.\",\n          \"S'il n'y a aucun site Internet (au niveau de l'entreprise, du groupe ou de l'UES), la note globale sera portée à la connaissance des salariés par tout moyen (courrier papier ou électronique, affichage...).\",\n          \"L'employeur devra, dans tous les cas, communiquer aux services de l'inspection du travail et au CSE, en même temps que ses résultats, le lien du site internet sur lequel est publié son Index.\",\n        ],\n      },\n      {\n        question: \"Quelles sont les informations à transmettre au comité social et économique (CSE) ? \",\n        reponse: [\n          \"Les indicateurs ainsi que la note globale sont mis à la disposition du comité social et économique (CSE), via la base de données économiques et sociales. Les résultats sont présentés, pour le premier indicateur relatif à l’écart de rémunération entre les femmes et les hommes, par catégorie socioprofessionnelle, niveau ou coefficient hiérarchique ou selon les niveaux de la méthode de cotation des postes de l’entreprise, ainsi que par tranches d’âge. Les résultats des indicateurs relatifs au écarts de taux d’augmentations sont présentés par catégorie socioprofessionnelle. Le CSE est destinataire a minima de toutes les informations transmises à la DIRECCTE.\",\n          \"Conformément à l’article D. 1142-5 du code du travail, les informations mentionnées ci-dessus sont accompagnées de toutes les précisions utiles à leur compréhension, notamment relatives à la méthodologie appliquée, la répartition des salariés par catégorie socio-professionnelle ou selon les niveaux de la méthode de cotation des postes de l’entreprise et, le cas échéant, des mesures de correction envisagées ou déjà mises en œuvre.\",\n          \"Dans le cas où certains indicateurs ne peuvent pas être calculés, l’information du CSE sur les indicateurs doit quand même être assurée et est accompagnée de toutes les précisions expliquant les raisons pour lesquelles les indicateurs n’ont pas pu être calculés.\",\n        ],\n      },\n      {\n        question:\n          \"Comment les entreprises doivent-elles transmettre leurs résultats aux services de l’inspection du travail ?\",\n        reponse: [\n          \"Les entreprises doivent transmettre leurs indicateurs et leur note globale aux services de l’inspection du travail (Direccte et Dieccte) par le biais d’un formulaire en ligne, accessible sur le site du ministère du travail.\",\n          \"Ce formulaire reprend les informations listées dans l’arrêté du 31 janvier 2019 définissant les modèles de présentation et les modalités de transmission à l’administration des indicateurs et du niveau de résultat en matière d’écart de rémunération entre les femmes et les hommes dans l’entreprise.\",\n        ],\n      },\n      {\n        question:\n          \"Quelles sont les modalités de transmission des résultats au comité social et économique lorsque l’entreprise a plusieurs établissements ?\",\n        reponse: [\n          \"L’Index est calculé au niveau de l’entreprise : les résultats seront donc transmis au CSE central selon les modalités définies à l’article D.1142-5, via la base de données économiques et sociale (accessible a minima aux membres élus du CSE).\",\n        ],\n      },\n      {\n        question: \"Une entreprise créée en juillet 2019 doit-elle publier son Index en 2020 ?\",\n        reponse: [\n          \"Une entreprise créée en juillet 2019 doit publier son Index au 1er mars 2020 si, à cette date, son effectif comprend au moins 50 salariés. Néanmoins, si elle ne dispose pas de données sur douze mois consécutifs à la date d’assujettissement à l’obligation de publication, ses indicateurs et, partant, son Index ne seront pas calculables pour la première année. L’entreprise devra communiquer à la Direccte et au CSE les raisons pour lesquelles les indicateurs n’ont pas pu être calculés (article D. 1142-5).\",\n        ],\n      },\n      {\n        question:\n          \"À quelle date doit être publié l’Index d’une entreprise qui n’a actuellement aucun salarié et se verra transférer plus de 50 salariés au 1er mars 2020 ?\",\n        reponse: [\n          \"Il convient de dissocier l’assujettissement à l’obligation de publier l’Index et la période de référence. Dans le cas présent, l’entreprise aura l’obligation de publier l’Index au 1er mars 2020. En revanche, à défaut de données sur douze mois consécutifs, son Index ne sera pas calculable à cette date. Elle devra communiquer à la Direccte et au CSE les raisons pour lesquelles les indicateurs n’ont pas pu être calculés (article D. 1142-5).\",\n        ],\n      },\n      {\n        question:\n          \"Dans quels délais l’entreprise doit elle transmettre ses résultats à son CSE suite à la publication de l’Index ?\",\n        reponse: [\n          \"L’entreprise transmet les résultats à son CSE en amont de la première réunion qui suit la publication de l’Index. Un modèle de transmission des données au CSE sera mis à disposition sur le site du ministère du travail : ce modèle est facultatif, l’entreprise étant libre d’en choisir un autre dès lors qu’elle respecte les conditions posées par l’article D.1142-5 du code du travail.\",\n          \"En cas de modification des données transmises aux services de l’inspection du travail, le CSE doit être à nouveau informé.\",\n        ],\n      },\n    ],\n  },\n}\n\nexport const faqSections: FAQSection = {\n  champApplication: {\n    title: \"Champ d’application et entrée en vigueur\",\n    parts: [\"champApplication\"],\n  },\n  informations: {\n    title: \"Période de référence\",\n    parts: [\"periodeReference\"],\n  },\n  effectifs: {\n    title: \"Effectifs pris en compte\",\n    parts: [\"effectifs\"],\n  },\n  indicateur1: {\n    title: \"Indicateur - écart de rémunération\",\n    parts: [\"remuneration\", \"indicateur1\"],\n  },\n  indicateur2et3: {\n    title: \"Indicateur - écart d'augmentations (50 à 250 salariés)\",\n    parts: [\"indicateur2et3\"],\n  },\n  indicateur2: {\n    title: \"Indicateur - écart d’augmentations (plus de 250 salariés)\",\n    parts: [\"indicateur2\"],\n  },\n  indicateur3: {\n    title: \"Indicateur - écart de promotions (plus de 250 salariés)\",\n    parts: [\"indicateur3\"],\n  },\n  indicateur4: {\n    title: \"Indicateur - congé maternité\",\n    parts: [\"indicateur4\"],\n  },\n  indicateur5: {\n    title: \"Indicateur - hautes rémunérations\",\n    parts: [],\n  },\n  resultat: {\n    title: \"Résultat\",\n    parts: [\"publication\"],\n  },\n}\n","import React, { FunctionComponent } from \"react\"\nimport { Input, InputGroup, InputLeftElement, FormLabel, FormControl, VisuallyHidden } from \"@chakra-ui/react\"\nimport { IconSearch } from \"../../../components/ds/Icons\"\n\ninterface FAQSearchBoxProps {\n  searchTerm: string\n  setSearchTerm: (searchTerm: string) => void\n}\n\nconst FAQSearchBox: FunctionComponent<FAQSearchBoxProps> = ({ searchTerm, setSearchTerm }) => {\n  const onChange = (event: React.ChangeEvent<HTMLInputElement>) => setSearchTerm(event.target.value)\n  return (\n    <FormControl>\n      <FormLabel htmlFor=\"faq-search\">\n        <VisuallyHidden>Recherche par mot clef</VisuallyHidden>\n      </FormLabel>\n      <InputGroup>\n        <InputLeftElement pointerEvents=\"none\">\n          <IconSearch color=\"primary.500\" />\n        </InputLeftElement>\n        <Input\n          id=\"faq-search\"\n          variant=\"outlinePrimary\"\n          type=\"search\"\n          value={searchTerm}\n          onChange={onChange}\n          placeholder=\"Cherchez par mot clef\"\n          data-hj-whitelist\n        />\n      </InputGroup>\n    </FormControl>\n  )\n}\n\nexport default FAQSearchBox\n","import React, { FunctionComponent } from \"react\"\nimport { Text, Link } from \"@chakra-ui/react\"\nimport { Link as LinkRouter } from \"react-router-dom\"\n\ninterface FAQQuestionRowProps {\n  part: string\n  index: number\n  question: string\n}\n\nconst FAQQuestionRow: FunctionComponent<FAQQuestionRowProps> = ({ part, index, question }) => (\n  <Text fontSize=\"sm\">\n    <Link as={LinkRouter} to={{ state: { faq: `/part/${part}/question/${index}` } }} display=\"inline-block\">\n      {question}\n    </Link>\n  </Text>\n)\n\nexport default FAQQuestionRow\n","import React, { FunctionComponent } from \"react\"\nimport { Heading, HeadingProps } from \"@chakra-ui/react\"\n\nconst FAQTitle2: FunctionComponent<HeadingProps> = ({ children, ...rest }) => (\n  <Heading as=\"h3\" fontSize=\"sm\" color=\"primary.500\" fontWeight=\"bold\" {...rest}>\n    {children}\n  </Heading>\n)\n\nexport default FAQTitle2\n","import Fuse from \"fuse.js\"\n\nimport { faqData } from \"../../../data/faq\"\n\nexport const faqDataForFuse = Object.entries(faqData).reduce((acc, [part, { title, qr }]) => {\n  const newQr = qr.map((datum, index) => ({ part, title, index, ...datum }))\n  return acc.concat(newQr)\n}, [] as any[])\n\nconst fuseOption = {\n  shouldSort: true,\n  includeScore: true,\n  includeMatches: true,\n  threshold: 0.3,\n  tokenize: true,\n  minMatchCharLength: 2,\n  keys: [\"question\", \"reponse\"],\n}\n\nexport default new Fuse(faqDataForFuse, fuseOption)\n","import React, { FunctionComponent } from \"react\"\nimport { useState, ReactNode } from \"react\"\nimport { Box, VStack, StackDivider, Text } from \"@chakra-ui/react\"\n\nimport FAQSearchBox from \"./components/FAQSearchBox\"\nimport FAQQuestionRow from \"./components/FAQQuestionRow\"\nimport FAQTitle2 from \"./components/FAQTitle2\"\n\nimport faqDataFuse from \"./utils/faqFuse\"\n\ninterface FAQSearchProps {\n  children: ReactNode\n}\n\nconst FAQSearch: FunctionComponent<FAQSearchProps> = ({ children }) => {\n  const [searchTerm, setSearchTerm] = useState(\"\")\n\n  const fuseResults = searchTerm !== \"\" ? faqDataFuse.search(searchTerm) : null\n\n  return (\n    <React.Fragment>\n      <FAQSearchBox searchTerm={searchTerm} setSearchTerm={setSearchTerm} />\n      <Box mt={4}>\n        {searchTerm === \"\" ? (\n          children\n        ) : (\n          <VStack spacing={4} divider={<StackDivider borderColor=\"gray.100\" />}>\n            {fuseResults &&\n              fuseResults.map(({ item: { part, title, index, question } }) => (\n                <Box key={part + index}>\n                  <FAQTitle2 mb={1}>{title}</FAQTitle2>\n                  <FAQQuestionRow part={part} index={index} question={question} />\n                </Box>\n              ))}\n          </VStack>\n        )}\n        {searchTerm !== \"\" && fuseResults?.length === 0 && <Text fontSize=\"sm\">Aucun résultat trouvé</Text>}\n      </Box>\n    </React.Fragment>\n  )\n}\n\nexport default FAQSearch\n","import React, { FunctionComponent } from \"react\"\nimport { LinkBox, LinkOverlay, Text } from \"@chakra-ui/react\"\nimport { Link as LinkRouter } from \"react-router-dom\"\nimport { IconArrowRight } from \"../../../components/ds/Icons\"\n\ninterface FAQSectionRowProps {\n  section: string\n  title: string\n  detail: string\n}\n\nconst FAQSectionRow: FunctionComponent<FAQSectionRowProps> = ({ section, title, detail }) => (\n  <LinkBox\n    py={2}\n    px={2}\n    mx={-2}\n    borderRadius=\"md\"\n    sx={{\n      transition: \"background-color .1s ease-in-out\",\n      _hover: {\n        backgroundColor: \"primary.100\",\n        \".section-icon\": {\n          color: \"primary.600\",\n        },\n        \".section-detail\": {\n          color: \"primary.700\",\n        },\n      },\n    }}\n  >\n    <LinkOverlay\n      as={LinkRouter}\n      to={{ state: { faq: `/section/${section}` } }}\n      pr={4}\n      color=\"primary.500\"\n      fontWeight=\"bold\"\n      fontSize=\"sm\"\n      display=\"block\"\n      lineHeight={1.2}\n      sx={{\n        transition: \"color .1s ease-in-out\",\n        _hover: {\n          color: \"primary.700\",\n        },\n      }}\n    >\n      {title}\n    </LinkOverlay>\n    <IconArrowRight\n      boxSize=\"3\"\n      color=\"gray.400\"\n      className=\"section-icon\"\n      sx={{\n        position: \"absolute\",\n        top: 2.5,\n        right: 2,\n      }}\n    />\n    <Text\n      fontSize=\"sm\"\n      color=\"gray.600\"\n      className=\"section-detail\"\n      sx={{\n        transition: \"color .1s ease-in-out\",\n      }}\n    >\n      {detail}\n    </Text>\n  </LinkBox>\n)\n\nexport default FAQSectionRow\n","import React from \"react\"\nimport { List, ListItem } from \"@chakra-ui/react\"\n\nimport { faqSections, faqData } from \"../../data/faq\"\n\nimport FAQSearch from \"./FAQSearch\"\nimport FAQSectionRow from \"./components/FAQSectionRow\"\n\nconst faqSectionsEntries = Object.entries(faqSections)\n\nconst FAQHome = () => (\n  <FAQSearch>\n    <List>\n      {faqSectionsEntries.map(([faqKey, faqSection]) => {\n        const questionsLength = faqSection.parts.reduce((acc, part) => acc + faqData[part].qr.length, 0)\n        return (\n          <ListItem\n            key={faqKey}\n            width=\"100%\"\n            sx={{\n              \"&:not(:first-of-type)\": {\n                paddingTop: 1,\n              },\n              \"&:not(:last-child)\": {\n                paddingBottom: 1,\n                borderBottom: \"1px solid var(--chakra-colors-gray-100)\",\n              },\n            }}\n          >\n            <FAQSectionRow\n              section={faqKey}\n              title={faqSection.title}\n              detail={`${questionsLength + 1} article${questionsLength + 1 > 1 ? \"s\" : \"\"}`}\n            />\n          </ListItem>\n        )\n      })}\n    </List>\n  </FAQSearch>\n)\n\nexport default FAQHome\n","import React, { FunctionComponent } from \"react\"\nimport { Heading, HeadingProps } from \"@chakra-ui/react\"\n\nconst FAQTitle: FunctionComponent<HeadingProps> = ({ children, ...rest }) => (\n  <Heading as=\"h3\" fontSize=\"xl\" color=\"primary.500\" fontWeight=\"bold\" {...rest}>\n    {children}\n  </Heading>\n)\n\nexport default FAQTitle\n","import React, { FunctionComponent } from \"react\"\nimport { Box, BoxProps, Flex } from \"@chakra-ui/react\"\nimport { IconInvalid, IconValid } from \"./Icons\"\n\nexport type IconBulletWrapperProps = { isValid?: \"valid\" | \"invalid\" }\n\nconst IconBulletWrapper: FunctionComponent<BoxProps & IconBulletWrapperProps> = ({ children, isValid, ...rest }) => {\n  return (\n    <Flex\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      position=\"relative\"\n      height={12}\n      width={12}\n      border=\"1px solid\"\n      borderColor=\"primary.300\"\n      bg=\"white\"\n      borderRadius=\"50%\"\n      color={isValid ? (isValid === \"valid\" ? \"green.600\" : \"red.600\") : \"primary.700\"}\n      {...rest}\n    >\n      {isValid && (\n        <Box\n          display=\"flex\"\n          justifyContent=\"center\"\n          alignItems=\"center\"\n          position=\"absolute\"\n          top={-0.5}\n          left={-0.5}\n          bg=\"white\"\n          borderRadius=\"50%\"\n          width={4}\n          height={4}\n        >\n          {isValid === \"valid\" && <IconValid color=\"green.500\" boxSize=\"4\" />}\n          {isValid === \"invalid\" && <IconInvalid color=\"red.500\" boxSize=\"4\" />}\n        </Box>\n      )}\n      <Flex\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        sx={{\n          svg: {\n            width: 6,\n            height: 6,\n          },\n        }}\n      >\n        {children}\n      </Flex>\n    </Flex>\n  )\n}\n\nexport default IconBulletWrapper\n","import React, { FunctionComponent, ReactNode } from \"react\"\nimport { Box, Flex } from \"@chakra-ui/react\"\nimport IconBulletWrapper, { IconBulletWrapperProps } from \"../../../components/ds/IconBulletWrapper\"\n\ntype FAQStepProp = { children: ReactNode; icon: ReactNode } & IconBulletWrapperProps\n\nconst FAQStep: FunctionComponent<FAQStepProp> = ({ children, icon, isValid }) => (\n  <Flex>\n    <Box\n      pt={4}\n      sx={{\n        position: \"relative\",\n        marginRight: -6,\n      }}\n    >\n      <IconBulletWrapper isValid={isValid}>{icon}</IconBulletWrapper>\n    </Box>\n    <Box bg=\"primary.100\" pl={8} pr={6} py={4} borderRadius=\"md\" fontSize=\"sm\">\n      {children}\n    </Box>\n  </Flex>\n)\n\nexport default FAQStep\n","import React, { Fragment } from \"react\"\nimport { Text, UnorderedList, ListItem } from \"@chakra-ui/react\"\n\nimport { IconLamp, IconText, IconPeople } from \"../../../components/ds/Icons\"\n\nimport FAQStep from \"../components/FAQStep\"\n\nconst FAQEffectifsSteps = () => (\n  <Fragment>\n    <FAQStep icon={<IconText>CSP</IconText>}>\n      <Text>\n        L’effectif de l’entreprise est apprécié en effectif physique sur la période de référence. Il doit être renseigné\n        par <strong>catégories socio-professionnelles.</strong>\n      </Text>\n    </FAQStep>\n\n    <FAQStep icon={<IconLamp />}>\n      <Text>\n        Les caractéristiques individuelles (âge, catégorie de poste) sont appréciées au dernier jour de la période de\n        référence ou dernier jour de présence du salarié dans l’entreprise.\n      </Text>\n    </FAQStep>\n    <FAQStep icon={<IconPeople />} isValid=\"invalid\">\n      <Text>\n        <strong>Ne sont pas pris en compte dans les effectifs&nbsp;:</strong>\n      </Text>\n      <UnorderedList mt={1}>\n        <ListItem>les apprentis et les contrats de professionnalisation</ListItem>\n        <ListItem>\n          les salariés mis à la disposition de l'entreprise par une entreprise extérieure (dont les intérimaires)\n        </ListItem>\n        <ListItem>les expatriés</ListItem>\n        <ListItem>les salariés en pré-retraite</ListItem>\n        <ListItem>\n          les salariés absents plus de 6 mois sur la période de référence (arrêt maladie, congés sans solde, cdd\n          &lt;6mois etc.).\n        </ListItem>\n      </UnorderedList>\n    </FAQStep>\n  </Fragment>\n)\n\nexport default FAQEffectifsSteps\n","import React, { Fragment } from \"react\"\nimport { Text, UnorderedList, ListItem } from \"@chakra-ui/react\"\n\nimport { IconLamp, IconText, IconMoney } from \"../../../components/ds/Icons\"\n\nimport FAQStep from \"../components/FAQStep\"\n\nconst FAQIndicateur1Steps = () => (\n  <Fragment>\n    <FAQStep icon={<IconText>ETP</IconText>}>\n      <Text>\n        La rémunération doit être reconstituée en <strong>équivalent temps plein</strong> sur toute la durée de la\n        période de référence.\n      </Text>\n    </FAQStep>\n    <FAQStep icon={<IconMoney />} isValid=\"valid\">\n      <Text>\n        <strong>Doivent être pris en compte dans la rémunération&nbsp;:</strong>\n      </Text>\n      <UnorderedList mt={1}>\n        <ListItem>\n          les salaires ou traitements ordinaires de base ou minimum et tous les autres avantages et accessoires payés,\n          directement ou indirectement, en espèces ou en nature, par l’employeur au salarié en raison de l’emploi de ce\n          dernier\n        </ListItem>\n        <ListItem>\n          les \"bonus\", les commissions sur produits, les primes d’objectif liées aux performances individuelles du\n          salarié, variables d’un individu à l’autre pour un même poste\n        </ListItem>\n        <ListItem>les primes collectives (ex&nbsp;: les primes de transport ou primes de vacances)</ListItem>\n        <ListItem>les indemnités de congés payés.</ListItem>\n      </UnorderedList>\n    </FAQStep>\n\n    <FAQStep icon={<IconMoney />} isValid=\"invalid\">\n      <Text>\n        <strong>Ne doivent pas être pris en compte dans la rémunération&nbsp;:</strong>\n      </Text>\n      <UnorderedList mt={1}>\n        <ListItem>les indemnités de fin de CDD (notamment la prime de précarité)</ListItem>\n        <ListItem>les sommes versées dans le cadre du compte épargne-temps (CET)</ListItem>\n        <ListItem>les actions, stock-options, compensations différées en actions </ListItem>\n        <ListItem>\n          les primes liées à une sujétion particulière qui ne concernent pas la personne du salarié (prime de froid,\n          prime de nuit etc.)\n        </ListItem>\n        <ListItem>les heures supplémentaires et complémentaires</ListItem>\n        <ListItem>les indemnités de licenciement</ListItem>\n        <ListItem>les indemnités de départ en retraite</ListItem>\n        <ListItem>les primes d’ancienneté</ListItem>\n        <ListItem>les primes d’intéressement et de participation.</ListItem>\n      </UnorderedList>\n    </FAQStep>\n\n    <FAQStep icon={<IconLamp />}>\n      <Text>\n        Les groupes ne comportant pas <strong>au moins 3 femmes et 3 hommes</strong> ne doivent pas être retenus pour le\n        calcul.\n      </Text>\n    </FAQStep>\n\n    <FAQStep icon={<IconLamp />}>\n      <Text>\n        Si le total des effectifs pouvant être pris en compte est inférieur à 40% des effectifs totaux, l'indicateur et\n        l'index ne sont pas calculables.\n      </Text>\n    </FAQStep>\n  </Fragment>\n)\n\nexport default FAQIndicateur1Steps\n","import React, { Fragment } from \"react\"\nimport { Text } from \"@chakra-ui/react\"\n\nimport { IconLamp, IconMoney, IconGrow } from \"../../../components/ds/Icons\"\n\nimport FAQStep from \"../components/FAQStep\"\n\nconst FAQIndicateur2Steps = () => (\n  <Fragment>\n    <Text>\n      <strong>Indicateur concernant les entreprises de plus de 250 salariés</strong>\n    </Text>\n    <FAQStep icon={<IconMoney />} isValid=\"valid\">\n      <Text>\n        La notion d'\n        <strong>\n          augmentation individuelle correspond à une augmentation individuelle du salaire de base du salarié concerné.\n        </strong>\n      </Text>\n    </FAQStep>\n    <FAQStep icon={<IconGrow />} isValid=\"invalid\">\n      <Text>\n        La notion d’augmentation individuelle pour le calcul de cet indicateur exclut les augmentations de salaires\n        liées à une promotion.\n      </Text>\n    </FAQStep>\n    <FAQStep icon={<IconLamp />}>\n      <Text>\n        Les groupes ne comportant pas <strong>au moins 10 femmes et 10 hommes</strong> ne sont pas retenus pour le\n        calcul.\n      </Text>\n    </FAQStep>\n    <FAQStep icon={<IconLamp />}>\n      <Text>\n        Si aucune augmentation individuelle n'est intervenue au cours de la période de référence, l’indicateur n’est pas\n        calculable.\n      </Text>\n    </FAQStep>\n    <FAQStep icon={<IconLamp />}>\n      <Text>\n        Si le total des effectifs retenus est inférieur à 40% des effectifs pris en compte pour le calcul des\n        indicateurs, l'indicateur n'est pas calculable.\n      </Text>\n    </FAQStep>\n  </Fragment>\n)\n\nexport default FAQIndicateur2Steps\n","import React, { Fragment } from \"react\"\nimport { Text } from \"@chakra-ui/react\"\n\nimport { IconLamp, IconGrow } from \"../../../components/ds/Icons\"\n\nimport FAQStep from \"../components/FAQStep\"\n\nconst FAQIndicateur3Steps = () => (\n  <Fragment>\n    <Text>\n      <strong>Indicateur concernant les entreprises de plus de 250 salariés</strong>\n    </Text>\n    <FAQStep icon={<IconGrow />} isValid=\"valid\">\n      <Text>\n        La notion de promotion correspond au <strong>passage à un niveau ou coefficient hiérarchique supérieur.</strong>\n      </Text>\n    </FAQStep>\n    <FAQStep icon={<IconLamp />}>\n      <Text>\n        Les groupes ne comportant pas <strong>au moins 10 femmes et 10 hommes</strong> ne sont pas retenus pour le\n        calcul.\n      </Text>\n    </FAQStep>\n    <FAQStep icon={<IconLamp />}>\n      <Text>\n        Si aucune promotion n'est intervenue au cours de la période de référence, l’indicateur n’est pas calculable.\n      </Text>\n    </FAQStep>\n    <FAQStep icon={<IconLamp />}>\n      <Text>\n        Si le total des effectifs retenus est inférieur à 40% des effectifs pris en compte pour le calcul des\n        indicateurs, l’indicateur n’est pas calculable.\n      </Text>\n    </FAQStep>\n  </Fragment>\n)\n\nexport default FAQIndicateur3Steps\n","import React, { Fragment } from \"react\"\nimport { Text, UnorderedList, ListItem } from \"@chakra-ui/react\"\n\nimport { IconLamp, IconGrow } from \"../../../components/ds/Icons\"\n\nimport FAQStep from \"../components/FAQStep\"\n\nconst FAQIndicateur2et3Steps = () => (\n  <Fragment>\n    <Text>\n      <strong>Indicateur concernant les entreprises entre 50 et 250 salariés</strong>\n    </Text>\n    <FAQStep icon={<IconGrow />} isValid=\"invalid\">\n      <Text>\n        La notion d'\n        <strong>\n          augmentation individuelle correspond à une augmentation individuelle du salaire de base du salarié concerné.\n        </strong>\n      </Text>\n    </FAQStep>\n\n    <FAQStep icon={<IconLamp />}>\n      <Text>\n        La notion d’augmentation individuelle pour le calcul de cet indicateur <strong>inclut</strong> les augmentations\n        de salaire liées à une promotion.\n      </Text>\n    </FAQStep>\n    <FAQStep icon={<IconLamp />}>\n      <Text>\n        L'indicateur est calculé <strong>au niveau de l'entreprise</strong>, et non par groupes de salariés.\n      </Text>\n    </FAQStep>\n    <FAQStep icon={<IconLamp />}>\n      <Text>L’indicateur n’est pas calculable&nbsp;:</Text>\n      <UnorderedList>\n        <ListItem>Si aucune augmentation individuelle n'est intervenue au cours de la période de référence,</ListItem>\n        <ListItem>\n          Ou si l’effectif pris en compte pour le calcul des indicateurs ne comporte pas au moins 5 femmes et 5 hommes.\n        </ListItem>\n      </UnorderedList>\n    </FAQStep>\n  </Fragment>\n)\n\nexport default FAQIndicateur2et3Steps\n","import React, { Fragment } from \"react\"\nimport { Text } from \"@chakra-ui/react\"\n\nimport { IconPeople, IconGrow } from \"../../../components/ds/Icons\"\n\nimport FAQStep from \"../components/FAQStep\"\n\nconst FAQIndicateur4Steps = () => (\n  <Fragment>\n    <FAQStep icon={<IconPeople />} isValid=\"valid\">\n      <Text>\n        Seules les salariées qui sont rentrées de congé maternité (ou d’adoption) durant la période de référence sont\n        prises en considération.\n      </Text>\n    </FAQStep>\n    <FAQStep icon={<IconGrow />}>\n      <Text>\n        Sont considérées <strong>comme augmentées</strong> toutes salariées <strong>revenues de congé maternité</strong>{\" \"}\n        pendant l'année de référence et <strong>ayant bénéficié d'une augmentation</strong> (générale ou individuelle){\" \"}\n        <strong>à leur retour avant la fin de cette même période.</strong>\n      </Text>\n    </FAQStep>\n    <FAQStep icon={<IconGrow />}>\n      <Text>\n        Si il n'y a eu aucun retour de congé maternité (ou adoption) au cours de la période de référence, l’indicateur\n        n’est pas calculable.\n      </Text>\n    </FAQStep>\n    <FAQStep icon={<IconGrow />}>\n      <Text>\n        S'il n'y a eu aucune augmentation (individuelle ou collective) au cours des congés maternité, l’indicateur n’est\n        pas calculable.\n      </Text>\n    </FAQStep>\n  </Fragment>\n)\n\nexport default FAQIndicateur4Steps\n","import React, { Fragment } from \"react\"\nimport { Text } from \"@chakra-ui/react\"\n\nimport { IconMoney } from \"../../../components/ds/Icons\"\n\nimport FAQStep from \"../components/FAQStep\"\n\nconst FAQIndicateur5Steps = () => (\n  <Fragment>\n    <FAQStep icon={<IconMoney />} isValid=\"valid\">\n      <Text>Renseignez le nombre de femmes et d'hommes parmi les dix plus hautes rémunérations de l’entreprise.</Text>\n    </FAQStep>\n  </Fragment>\n)\n\nexport default FAQIndicateur5Steps\n","import React, { Fragment } from \"react\"\nimport { Text } from \"@chakra-ui/react\"\n\nimport { IconCalendar } from \"../../../components/ds/Icons\"\n\nimport FAQStep from \"../components/FAQStep\"\n\nconst FAQInformationsSteps = () => (\n  <Fragment>\n    <FAQStep icon={<IconCalendar />} isValid=\"valid\">\n      <Text>\n        Les indicateurs sont calculés à partir des données de la période de référence annuelle choisie par l’entreprise.{\" \"}\n        <strong>Cette période doit être de 12 mois consécutifs et précéder l’année de publication.</strong> Elle doit\n        donc nécessairement s’achever au plus tard le 31 décembre 2019 pour un Index publié en 2020. Uniquement pour\n        l’indicateur « écart de taux d’augmentations », et uniquement pour une entreprise de 50 à 250 salariés,\n        l’employeur peut choisir une période de référence de 3 ans maximum. Ce caractère pluriannuel peut être révisé\n        tous les 3 ans.\n      </Text>\n    </FAQStep>\n  </Fragment>\n)\n\nexport default FAQInformationsSteps\n","import React, { Fragment } from \"react\"\nimport { Text, UnorderedList, ListItem, Link } from \"@chakra-ui/react\"\n\nimport { IconLamp } from \"../../../components/ds/Icons\"\n\nimport FAQStep from \"../components/FAQStep\"\n\nconst FAQResultatSteps = () => (\n  <Fragment>\n    <FAQStep icon={<IconLamp />}>\n      <Text>\n        Les entreprises doivent transmettre leurs résultats au Ministère du Travail via le{\" \"}\n        <Link\n          href=\"https://travail-emploi.gouv.fr/droit-du-travail/egalite-professionnelle-discrimination-et-harcelement/indexegapro\"\n          isExternal\n          textDecoration=\"underline\"\n        >\n          formulaire en ligne\n        </Link>\n        . Toutes les informations nécessaires à la transmission se trouvent sur ce récapitulatif.\n      </Text>\n    </FAQStep>\n    <FAQStep icon={<IconLamp />}>\n      <Text>\n        L'index doit être publié sur le site internet de l'entreprise déclarante ou en l'absence de site internet,\n        communiqué aux salariés. Les résultats doivent par ailleurs être communiqués au CSE.\n      </Text>\n    </FAQStep>\n    <FAQStep icon={<IconLamp />}>\n      <Text mb={1}>\n        Si l’entreprise obtient moins de 75 points, elle devra mettre en oeuvre des mesures de correction lui permettant\n        d’atteindre au moins 75 points dans un délai 3 ans.\n      </Text>\n      <Text mb={1}>Les mesures prises seront définies&nbsp;:</Text>\n      <UnorderedList>\n        <ListItem>dans le cadre de la négociation relative à l’égalité professionnelle</ListItem>\n        <ListItem>\n          ou à défaut d’accord, par décision unilatérale de l’employeur et après consultation du comité social et\n          économique. Cette décision devra être déposée auprès des services de la Direccte. Elle pourra être intégrée au\n          plan d’action devant être établi à défaut d’accord relatif à l’égalité professionnelle.\n        </ListItem>\n      </UnorderedList>\n    </FAQStep>\n  </Fragment>\n)\n\nexport default FAQResultatSteps\n","import React, { FunctionComponent } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { Box, List, ListItem, VStack, Button } from \"@chakra-ui/react\"\n\nimport { FAQSectionType } from \"../../globals\"\nimport FAQSearch from \"./FAQSearch\"\nimport FAQTitle from \"./components/FAQTitle\"\nimport FAQTitle2 from \"./components/FAQTitle2\"\nimport FAQQuestionRow from \"./components/FAQQuestionRow\"\nimport FAQEffectifsSteps from \"./components-steps/FAQEffectifsSteps\"\nimport FAQIndicateur1Steps from \"./components-steps/FAQIndicateur1Steps\"\nimport FAQIndicateur2Steps from \"./components-steps/FAQIndicateur2Steps\"\nimport FAQIndicateur3Steps from \"./components-steps/FAQIndicateur3Steps\"\nimport FAQIndicateur2et3Steps from \"./components-steps/FAQIndicateur2et3Steps\"\nimport FAQIndicateur4Steps from \"./components-steps/FAQIndicateur4Steps\"\nimport FAQIndicateur5Steps from \"./components-steps/FAQIndicateur5Steps\"\nimport FAQInformationsSteps from \"./components-steps/FAQInformationsSteps\"\nimport FAQResultatSteps from \"./components-steps/FAQResultatSteps\"\n\nimport { faqData, faqSections } from \"../../data/faq\"\n\ninterface FAQSectionProps {\n  section: FAQSectionType\n}\n\nconst FAQSection: FunctionComponent<FAQSectionProps> = ({ section }) => {\n  const faqSection = faqSections[section]\n  const FAQStepsElement = FAQSteps({ section })\n\n  return (\n    <React.Fragment>\n      <FAQTitle mb={6}>{faqSection.title}</FAQTitle>\n      <FAQSearch>\n        <div>\n          {FAQStepsElement && (\n            <React.Fragment>\n              <FAQTitle2 mb={3} as=\"h4\">\n                L'essentiel\n              </FAQTitle2>\n              <VStack spacing={4}>{FAQStepsElement}</VStack>\n            </React.Fragment>\n          )}\n          {[\n            \"indicateur1\",\n            \"indicateur2\",\n            \"indicateur3\",\n            \"indicateur2et3\",\n            \"indicateur4\",\n            \"indicateur5\",\n            \"resultat\",\n          ].includes(section) && (\n            <Box mt={4} ml={6}>\n              <Button\n                as={Link}\n                to={{ state: { faq: `/section/${section}/detail-calcul` } }}\n                size=\"sm\"\n                variant=\"outline\"\n                colorScheme=\"primary\"\n                width=\"100%\"\n              >\n                Comment est calculé {section === \"resultat\" ? \"l'index\" : \"l'indicateur\"}&nbsp;?\n              </Button>\n            </Box>\n          )}\n          {faqSection.parts.length > 0 && (\n            <Box mt={6}>\n              <FAQTitle2 mb={3} as=\"h4\">\n                Les questions récurrentes\n              </FAQTitle2>\n              <List>\n                {faqSection.parts.map((part) => {\n                  const faqPart = faqData[part]\n                  return faqPart.qr.map(({ question }, index) => (\n                    <ListItem\n                      key={part + index}\n                      sx={{\n                        \"&:not(:first-of-type)\": {\n                          paddingTop: 2,\n                        },\n                        \"&:not(:last-child)\": {\n                          paddingBottom: 2,\n                          borderBottom: \"1px solid var(--chakra-colors-gray-100)\",\n                        },\n                      }}\n                    >\n                      <FAQQuestionRow part={part} index={index} question={question} />\n                    </ListItem>\n                  ))\n                })}\n              </List>\n            </Box>\n          )}\n        </div>\n      </FAQSearch>\n    </React.Fragment>\n  )\n}\n\nconst FAQSteps: FunctionComponent<FAQSectionProps> = ({ section }) => {\n  switch (section) {\n    case \"informations\":\n      return <FAQInformationsSteps />\n    case \"effectifs\":\n      return <FAQEffectifsSteps />\n    case \"indicateur1\":\n      return <FAQIndicateur1Steps />\n    case \"indicateur2\":\n      return <FAQIndicateur2Steps />\n    case \"indicateur3\":\n      return <FAQIndicateur3Steps />\n    case \"indicateur2et3\":\n      return <FAQIndicateur2et3Steps />\n    case \"indicateur4\":\n      return <FAQIndicateur4Steps />\n    case \"indicateur5\":\n      return <FAQIndicateur5Steps />\n    case \"resultat\":\n      return <FAQResultatSteps />\n    default:\n      return null\n  }\n}\n\nexport default FAQSection\n","import React, { FunctionComponent } from \"react\"\nimport { Table, Thead, Tbody, Tr, Th, Td, Box } from \"@chakra-ui/react\"\n\ninterface FAQCalculScaleProps {\n  listTitle: string\n  list: Array<string>\n  scaleTitle: string\n  scale: Array<string>\n}\n\nconst FAQCalculScale: FunctionComponent<FAQCalculScaleProps> = ({ listTitle, list, scaleTitle, scale }) => (\n  <Box border=\"1px solid\" borderColor=\"gray.200\" borderRadius=\"md\" overflowY=\"hidden\" bg=\"white\">\n    <Table variant=\"striped\" size=\"sm\" marginBottom=\"-1px\">\n      <Thead>\n        <Tr>\n          <Th>{listTitle}</Th>\n          <Th>{scaleTitle}</Th>\n        </Tr>\n      </Thead>\n      <Tbody>\n        {list.map((listEl, index) => (\n          <Tr key={listEl}>\n            <Td>{listEl}</Td>\n            <Td>{scale[index]}</Td>\n          </Tr>\n        ))}\n      </Tbody>\n    </Table>\n  </Box>\n)\n\nexport default FAQCalculScale\n","import React, { FunctionComponent } from \"react\"\nimport { Heading, HeadingProps } from \"@chakra-ui/react\"\n\nconst FAQTitle3: FunctionComponent<HeadingProps> = ({ children, ...rest }) => (\n  <Heading as=\"h5\" fontSize=\"sm\" color=\"gray.600\" fontWeight=\"semibold\" mt={4} mb={3} {...rest}>\n    {children}\n  </Heading>\n)\n\nexport default FAQTitle3\n","import React, { Fragment } from \"react\"\nimport { VStack, Box, Text } from \"@chakra-ui/react\"\n\nimport { IconLamp, IconText } from \"../../../components/ds/Icons\"\n\nimport FAQStep from \"../components/FAQStep\"\nimport FAQCalculScale from \"../components/FAQCalculScale\"\nimport FAQTitle3 from \"../components/FAQTitle3\"\n\nconst FAQIndicateur1DetailCalcul = () => (\n  <Fragment>\n    <FAQTitle3>Calculer l’indicateur</FAQTitle3>\n    <VStack spacing={4}>\n      <FAQStep icon={<IconLamp />}>\n        <Text>\n          Les groupes ne comportant pas <strong>au moins 3 hommes et 3 femmes</strong> ne sont pas retenus pour le\n          calcul.\n        </Text>\n      </FAQStep>\n      <FAQStep icon={<IconText>1</IconText>}>\n        <Text>\n          Calculer la rémunération moyenne des femmes et des hommes au cours de la période de référence par groupe.\n        </Text>\n      </FAQStep>\n      <FAQStep icon={<IconText>2</IconText>}>\n        <Text>\n          Calculer l’écart de rémunération pour chaque groupe en soustrayant la rémunération moyenne des femmes à celle\n          des hommes et en rapportant ce résultat à la rémunération moyenne des hommes.\n        </Text>\n      </FAQStep>\n      <FAQStep icon={<IconText>3</IconText>}>\n        <Text>\n          Pondérer les résultats obtenus en fonction de l’effectif du groupe par rapport à l’effectif total des groupes\n          valides.\n        </Text>\n      </FAQStep>\n      <FAQStep icon={<IconText>4</IconText>}>\n        <Text>\n          Enfin additionner les résultats des différents groupes pour obtenir l’ecart global de rémunération entre les\n          hommes et les femmes.\n        </Text>\n        <Text mt={1}>\n          <em>* la valeur est exprimée en valeur absolue</em>\n        </Text>\n      </FAQStep>\n    </VStack>\n    <Box mt={6}>\n      <FAQTitle3>Appliquer le barème pour obtenir votre note</FAQTitle3>\n      <FAQCalculScale\n        listTitle=\"écart\"\n        list={[\n          \"égal à 0% \",\n          \"supérieur à 0% ou égal à 1%\",\n          \"supérieur à 1% ou égal à 2%\",\n          \"supérieur à 2% ou égal à 3%\",\n          \"supérieur à 3% ou égal à 4%\",\n          \"supérieur à 4% ou égal à 5%\",\n          \"supérieur à 5% ou égal à 6%\",\n          \"supérieur à 6% ou égal à 7%\",\n          \"supérieur à 7% ou égal à 8%\",\n          \"supérieur à 8% ou égal à 9%\",\n          \"supérieur à 9% ou égal à 10%\",\n          \"supérieur à 10% ou égal à 11%\",\n          \"supérieur à 11% ou égal à 12%\",\n          \"supérieur à 12% ou égal à 13%\",\n          \"supérieur à 13% ou égal à 14%\",\n          \"supérieur à 14% ou égal à 15%\",\n          \"supérieur à 15% ou égal à 16%\",\n          \"supérieur à 16% ou égal à 17%\",\n          \"supérieur à 17% ou égal à 18%\",\n          \"supérieur à 18% ou égal à 19%\",\n          \"supérieur à 19% ou égal à 20%\",\n          \"supérieur à 20%\",\n        ]}\n        scaleTitle=\"note sur 40\"\n        scale={[\n          \"40 points\",\n          \"39 points\",\n          \"38 points\",\n          \"37 points\",\n          \"36 points\",\n          \"35 points\",\n          \"34 points\",\n          \"33 points\",\n          \"31 points\",\n          \"29 points\",\n          \"27 points\",\n          \"25 points\",\n          \"23 points\",\n          \"21 points\",\n          \"19 points\",\n          \"17 points\",\n          \"14 points\",\n          \"11 points\",\n          \"8 points\",\n          \"5 points\",\n          \"2 points\",\n          \"0 point\",\n        ]}\n      />\n    </Box>\n  </Fragment>\n)\n\nexport default FAQIndicateur1DetailCalcul\n","import React, { Fragment } from \"react\"\nimport { VStack, Box, Text } from \"@chakra-ui/react\"\n\nimport { IconLamp, IconText } from \"../../../components/ds/Icons\"\n\nimport FAQStep from \"../components/FAQStep\"\nimport FAQCalculScale from \"../components/FAQCalculScale\"\nimport FAQTitle3 from \"../components/FAQTitle3\"\n\nconst FAQIndicateur2DetailCalcul = () => (\n  <Fragment>\n    <FAQTitle3>Calculer l’indicateur</FAQTitle3>\n    <VStack spacing={4}>\n      <FAQStep icon={<IconLamp />}>\n        <Text>\n          Les groupes ne comportant pas <strong>au moins 10 hommes et 10 femmes</strong> ne sont pas retenus pour le\n          calcul.\n        </Text>\n      </FAQStep>\n      <FAQStep icon={<IconText>1</IconText>}>\n        <Text>\n          Calculer le pourcentage de femmes et d’hommes augmentés au cours de la période de référence par catégories\n          socio-professionnelles.\n        </Text>\n      </FAQStep>\n      <FAQStep icon={<IconText>2</IconText>}>\n        <Text>Puis soustraire pour chaque groupe le pourcentage de femmes augmentées à celui des hommes augmenté.</Text>\n      </FAQStep>\n      <FAQStep icon={<IconText>3</IconText>}>\n        <Text>\n          Pondérer les résultats obtenus en fonction de l’effectif du groupe par rapport à l’effectif total des groupes\n          valides.\n        </Text>\n      </FAQStep>\n      <FAQStep icon={<IconText>4</IconText>}>\n        <Text>\n          Enfin additionner les résultats des différents groupes pour obtenir l’ecart global de taux de d'augmentation\n          entre les hommes et les femmes.\n        </Text>\n        <Text mt={1}>\n          <em>* la valeur est exprimée en valeur absolue</em>\n        </Text>\n      </FAQStep>\n    </VStack>\n    <Box mt={6}>\n      <FAQTitle3>Appliquer le barème pour obtenir votre note</FAQTitle3>\n      <FAQCalculScale\n        listTitle=\"écart\"\n        list={[\n          \"inférieur ou égal à 2% \",\n          \"supérieur à 2% ou égal à 5%\",\n          \"supérieur à 5% ou égal à 10%\",\n          \"supérieur à 10%\",\n        ]}\n        scaleTitle=\"note sur 20\"\n        scale={[\"20 points\", \"10 points\", \"5 points\", \"0 point\"]}\n      />\n      <Box mt={4}>\n        <FAQStep icon={<IconLamp />}>\n          <Text>\n            Si l’écart constaté joue en faveur du sexe le moins bien rémunéré (indicateur 1), la note maximale de 20\n            points est attribuée à l’entreprise (considérant que l’employeur a mis en place une politique de rattrapage\n            adaptée)\n          </Text>\n        </FAQStep>\n      </Box>\n    </Box>\n  </Fragment>\n)\n\nexport default FAQIndicateur2DetailCalcul\n","import React, { Fragment } from \"react\"\nimport { VStack, Box, Text } from \"@chakra-ui/react\"\n\nimport { IconLamp, IconText } from \"../../../components/ds/Icons\"\n\nimport FAQStep from \"../components/FAQStep\"\nimport FAQCalculScale from \"../components/FAQCalculScale\"\nimport FAQTitle3 from \"../components/FAQTitle3\"\n\nconst FAQIndicateur3DetailCalcul = () => (\n  <Fragment>\n    <FAQTitle3>Calculer l’indicateur</FAQTitle3>\n    <VStack spacing={4}>\n      <FAQStep icon={<IconLamp />}>\n        <Text>\n          Les groupes ne comportant pas <strong>au moins 10 hommes et 10 femmes</strong> ne sont pas retenus pour le\n          calcul.\n        </Text>\n      </FAQStep>\n      <FAQStep icon={<IconText>1</IconText>}>\n        <Text>\n          Calculer le pourcentage de femmes et d’hommes promus au cours de la période de référence par catégories\n          socio-professionnelles.\n        </Text>\n      </FAQStep>\n      <FAQStep icon={<IconText>2</IconText>}>\n        <Text>Puis soustraire pour chaque groupe le pourcentage de femmes promues à celui des hommes promus.</Text>\n      </FAQStep>\n      <FAQStep icon={<IconText>3</IconText>}>\n        <Text>\n          Pondérer les résultats obtenus en fonction de l’effectif du groupe par rapport à l’effectif total des groupes\n          valides.\n        </Text>\n      </FAQStep>\n      <FAQStep icon={<IconText>4</IconText>}>\n        <Text>\n          Enfin additionner les résultats des différents groupes pour obtenir l’écart global de taux de promotion entre\n          les hommes et les femmes.\n        </Text>\n        <Text mt={1}>\n          <em>* la valeur est exprimée en valeur absolue</em>\n        </Text>\n      </FAQStep>\n    </VStack>\n    <Box mt={6}>\n      <FAQTitle3>Appliquer le barème pour obtenir votre note</FAQTitle3>\n      <FAQCalculScale\n        listTitle=\"écart\"\n        list={[\n          \"inférieur ou égal à 2% \",\n          \"supérieur à 2% ou égal à 5%\",\n          \"supérieur à 5% ou égal à 10%\",\n          \"supérieur à 10%\",\n        ]}\n        scaleTitle=\"note sur 15\"\n        scale={[\"15 points\", \"10 points\", \"5 points\", \"0 point\"]}\n      />\n      <Box mt={4}>\n        <FAQStep icon={<IconLamp />}>\n          <Text>\n            Si l’écart constaté joue en faveur du sexe le moins bien rémunéré (indicateur 1), la note maximale de 15\n            points est attribuée à l’entreprise (considérant que l’employeur a mis en place une politique de rattrapage\n            adaptée).\n          </Text>\n        </FAQStep>\n      </Box>\n    </Box>\n  </Fragment>\n)\n\nexport default FAQIndicateur3DetailCalcul\n","import React, { Fragment } from \"react\"\nimport { VStack, Box, Text } from \"@chakra-ui/react\"\n\nimport { IconLamp, IconText } from \"../../../components/ds/Icons\"\n\nimport FAQStep from \"../components/FAQStep\"\nimport FAQCalculScale from \"../components/FAQCalculScale\"\nimport FAQTitle3 from \"../components/FAQTitle3\"\n\nconst FAQIndicateur2et3DetailCalcul = () => (\n  <Fragment>\n    <FAQTitle3>Calculer l’indicateur</FAQTitle3>\n    <VStack spacing={4}>\n      <FAQStep icon={<IconLamp />}>\n        <Text>\n          Pour que le calcul soit possible il faut que les effectifs pris en compte comptent{\" \"}\n          <strong>au moins 5 femmes et 5 hommes</strong>, et qu'il y ait eu des augmentations durant la période de\n          référence.\n        </Text>\n      </FAQStep>\n      <FAQStep icon={<IconText>1</IconText>}>\n        <Text>Calculer le nombre de femmes et d’hommes augmentés au cours de la période de référence.</Text>\n      </FAQStep>\n      <FAQStep icon={<IconText>2</IconText>}>\n        <Text>\n          Calculer le taux d'augmentation des femmes en rapportant le nombre de femmes augmentées au nombre total de\n          femmes salariées. Calculer de la même façon le taux d'augmentation des hommes.\n        </Text>\n      </FAQStep>\n      <FAQStep icon={<IconText>3a</IconText>}>\n        <Text>\n          Un premier résultat est la valeur absolue de l'écart entre les deux taux calculés en 2. Cet écart est mesuré\n          en \"points de pourcentage\". Exemple d'un taux d'augmentation des femmes de <em>33,13%</em> et d'un taux\n          d'augmentation des hommes de <em>30,00%</em> d'où un écart de <em>3,13</em> points de pourcentage&nbsp;: la\n          note sera calculée sur la donnée <em>3,13</em>.\n        </Text>\n      </FAQStep>\n      <FAQStep icon={<IconText>3b</IconText>}>\n        <Text>\n          Un second résultat est \"l'écart en nombre équivalent de salariés\"&nbsp;: l'écart de taux calculé en 3a est\n          appliqué au plus petit effectif entre les femmes et les hommes. Il correspond au plus petit nombre de salariés\n          qu'il aurait fallu augmenter ou ne pas augmenter pour être à égalité des taux d'augmentation. Exemple d'un\n          écart de <em>3,13</em> points de pourcentage dans une entreprise employant 15 femmes et 20 hommes&nbsp;: on\n          applique <em>3,13%</em> à 15 femmes, pour un nombre équivalent de salariés de <em>0,4695</em>.\n        </Text>\n      </FAQStep>\n      <FAQStep icon={<IconText>4</IconText>}>\n        <Text>\n          Les données 3a et 3b sont enfin arrondies à une décimale, et la plus petite donnée est utilisée pour le calcul\n          de la note finale, car étant la plus avantageuse. En reprenant l'exemple ci-dessus, c'est la donnée 3b\n          arrondie (0,5) qui sera conservée, pour une note finale de 35 points.\n        </Text>\n      </FAQStep>\n    </VStack>\n    <Box mt={6}>\n      <FAQTitle3>Appliquer le barème pour obtenir votre note</FAQTitle3>\n      <FAQCalculScale\n        listTitle=\"écart\"\n        list={[\"inférieur ou égal à 2\", \"supérieur à 2 ou égal à 5\", \"supérieur à 5 ou égal à 10\", \"supérieur à 10\"]}\n        scaleTitle=\"note sur 35\"\n        scale={[\"35 points\", \"25 points\", \"15 points\", \"0 point\"]}\n      />\n      <Box mt={4}>\n        <FAQStep icon={<IconLamp />}>\n          <Text>\n            Si l’écart constaté joue en faveur du sexe le moins bien rémunéré (indicateur 1), la note maximale de 35\n            points est attribuée à l’entreprise (considérant que l’employeur a mis en place une politique de rattrapage\n            adaptée)\n          </Text>\n        </FAQStep>\n      </Box>\n    </Box>\n  </Fragment>\n)\n\nexport default FAQIndicateur2et3DetailCalcul\n","import React, { Fragment } from \"react\"\nimport { Box, Text } from \"@chakra-ui/react\"\n\nimport { IconText } from \"../../../components/ds/Icons\"\n\nimport FAQStep from \"../components/FAQStep\"\nimport FAQCalculScale from \"../components/FAQCalculScale\"\nimport FAQTitle3 from \"../components/FAQTitle3\"\n\nconst FAQIndicateur4DetailCalcul = () => (\n  <Fragment>\n    <FAQTitle3>Calculer l’indicateur</FAQTitle3>\n    <FAQStep icon={<IconText>1</IconText>}>\n      <Text>\n        L’indicateur correspond au ratio entre le nombre de salariées revenues de congé maternité ou d’adoption pendant\n        la période de référence et ayant bénéficié d’une augmentation, avant la fin de celle-ci, si des augmentations\n        ont eu lieu pendant leur congé, d’une part; et, d’autre part, le nombre de salariés revenus, pendant la période\n        de référence, de congé maternité ou d’adoption, durant lequel il y a eu des augmentations salariales.\n      </Text>\n    </FAQStep>\n    <Box mt={6}>\n      <FAQTitle3>Appliquer le barème pour obtenir votre note</FAQTitle3>\n      <FAQCalculScale\n        listTitle=\"pourcentage\"\n        list={[\"égal à 100% \", \"inférieur à 100%\"]}\n        scaleTitle=\"note sur 15\"\n        scale={[\"15 points\", \"0 point\"]}\n      />\n    </Box>\n  </Fragment>\n)\n\nexport default FAQIndicateur4DetailCalcul\n","import React, { Fragment } from \"react\"\nimport { Box, Text } from \"@chakra-ui/react\"\n\nimport { IconLamp } from \"../../../components/ds/Icons\"\n\nimport FAQStep from \"../components/FAQStep\"\nimport FAQCalculScale from \"../components/FAQCalculScale\"\nimport FAQTitle3 from \"../components/FAQTitle3\"\n\nconst FAQIndicateur5DetailCalcul = () => (\n  <Fragment>\n    <FAQTitle3>Calculer l’indicateur</FAQTitle3>\n    <FAQStep icon={<IconLamp />}>\n      <Text>\n        Comparer le nombre de femmes et le nombre d’hommes comptant parmi les 10 plus hautes rémunérations de\n        l’entreprise.\n      </Text>\n    </FAQStep>\n    <Box mt={6}>\n      <FAQTitle3>Appliquer le barème pour obtenir votre note</FAQTitle3>\n      <FAQCalculScale\n        listTitle=\"nombre de personnes du sexe sous-représenté\"\n        list={[\"4 ou 5 salariés\", \"2 ou 3 salariés\", \"0 ou 1 salarié\"]}\n        scaleTitle=\"note sur 10\"\n        scale={[\"10 points\", \"5 points\", \"0 point\"]}\n      />\n    </Box>\n  </Fragment>\n)\n\nexport default FAQIndicateur5DetailCalcul\n","import React, { Fragment } from \"react\"\nimport { Text } from \"@chakra-ui/react\"\n\nimport { IconText } from \"../../../components/ds/Icons\"\n\nimport FAQStep from \"../components/FAQStep\"\nimport FAQTitle3 from \"../components/FAQTitle3\"\n\nconst FAQResultatDetailCalcul = () => (\n  <Fragment>\n    <FAQTitle3>Calculer l’index</FAQTitle3>\n    <FAQStep icon={<IconText>1</IconText>}>\n      <Text>\n        Les indicateurs calculables doivent représenter au moins 75 points de l’Index pour que celui-ci soit calculable.\n      </Text>\n      <Text mt={1}>\n        Le nombre total de points ainsi obtenus est ramené sur 100 en appliquant la règle de la proportionnalité.\n      </Text>\n    </FAQStep>\n  </Fragment>\n)\n\nexport default FAQResultatDetailCalcul\n","import React, { FunctionComponent } from \"react\"\nimport { RouteComponentProps } from \"react-router-dom\"\n\nimport { FAQSectionType } from \"../../globals\"\n\nimport FAQTitle from \"./components/FAQTitle\"\nimport FAQTitle2 from \"./components/FAQTitle2\"\nimport FAQIndicateur1DetailCalcul from \"./components-detail-calcul/FAQIndicateur1DetailCalcul\"\nimport FAQIndicateur2DetailCalcul from \"./components-detail-calcul/FAQIndicateur2DetailCalcul\"\nimport FAQIndicateur3DetailCalcul from \"./components-detail-calcul/FAQIndicateur3DetailCalcul\"\nimport FAQIndicateur2et3DetailCalcul from \"./components-detail-calcul/FAQIndicateur2et3DetailCalcul\"\nimport FAQIndicateur4DetailCalcul from \"./components-detail-calcul/FAQIndicateur4DetailCalcul\"\nimport FAQIndicateur5DetailCalcul from \"./components-detail-calcul/FAQIndicateur5DetailCalcul\"\nimport FAQResultatDetailCalcul from \"./components-detail-calcul/FAQResultatDetailCalcul\"\n\nimport { faqSections } from \"../../data/faq\"\n\ninterface FAQSectionDetailCalculProps {\n  section: FAQSectionType\n  history: RouteComponentProps[\"history\"]\n}\n\nconst FAQSectionDetailCalcul: FunctionComponent<FAQSectionDetailCalculProps> = ({\n  section,\n}: FAQSectionDetailCalculProps) => {\n  const faqSection = faqSections[section]\n  const FAQDetailCalculElement = FAQDetailCalcul({ section })\n\n  return (\n    <React.Fragment>\n      <FAQTitle mb={6}>{faqSection.title}</FAQTitle>\n\n      {FAQDetailCalculElement && (\n        <React.Fragment>\n          <FAQTitle2 as=\"h4\">\n            Comprendre comment est calculé {section === \"resultat\" ? \"l'index\" : \"l'indicateur\"}\n          </FAQTitle2>\n          {FAQDetailCalculElement}\n        </React.Fragment>\n      )}\n    </React.Fragment>\n  )\n}\n\nconst FAQDetailCalcul = ({ section }: { section: FAQSectionType }) => {\n  switch (section) {\n    case \"indicateur1\":\n      return <FAQIndicateur1DetailCalcul />\n    case \"indicateur2\":\n      return <FAQIndicateur2DetailCalcul />\n    case \"indicateur3\":\n      return <FAQIndicateur3DetailCalcul />\n    case \"indicateur2et3\":\n      return <FAQIndicateur2et3DetailCalcul />\n    case \"indicateur4\":\n      return <FAQIndicateur4DetailCalcul />\n    case \"indicateur5\":\n      return <FAQIndicateur5DetailCalcul />\n    case \"resultat\":\n      return <FAQResultatDetailCalcul />\n    default:\n      return null\n  }\n}\n\nexport default FAQSectionDetailCalcul\n","import React, { FunctionComponent } from \"react\"\nimport { RouteComponentProps } from \"react-router-dom\"\nimport { Box, Button, Heading, Text } from \"@chakra-ui/react\"\n\nimport { FAQPartType } from \"../../globals\"\nimport { faqData } from \"../../data/faq\"\n\nimport FAQTitle from \"./components/FAQTitle\"\nimport { IconBack } from \"../../components/ds/Icons\"\n\ninterface FAQSectionProps {\n  part: FAQPartType\n  indexQuestion: number\n  history: RouteComponentProps[\"history\"]\n}\n\nconst FAQSection: FunctionComponent<FAQSectionProps> = ({ part, indexQuestion, history }) => {\n  const faqPart = faqData[part]\n  const faqQuestion = faqPart.qr[indexQuestion]\n\n  return (\n    <React.Fragment>\n      <FAQTitle mb={6}>{faqPart.title}</FAQTitle>\n      <Box mb={6}>\n        <Heading as=\"p\" fontSize=\"md\" fontWeight=\"bold\" mb={4}>\n          {faqQuestion.question}\n        </Heading>\n        {faqQuestion.reponse.map((reponsePara, index) => (\n          <Text\n            key={index}\n            fontSize=\"sm\"\n            sx={{\n              \"&:not(:last-child)\": {\n                marginBottom: 2,\n              },\n            }}\n          >\n            {reponsePara}\n          </Text>\n        ))}\n      </Box>\n      <Button onClick={() => history.goBack()} size=\"sm\" leftIcon={<IconBack />} variant=\"link\">\n        Retour aux questions\n      </Button>\n    </React.Fragment>\n  )\n}\n\nexport default FAQSection\n","import React, { FunctionComponent } from \"react\"\nimport { Box } from \"@chakra-ui/react\"\nimport { StaticContext } from \"react-router\"\nimport { Route, Switch, RouteComponentProps } from \"react-router-dom\"\n\nimport FAQHeader from \"./components/FAQHeader\"\nimport FAQFooter from \"./components/FAQFooter\"\n\nimport FAQHome from \"./FAQHome\"\nimport FAQSection from \"./FAQSection\"\nimport FAQSectionDetailCalcul from \"./FAQSectionDetailCalcul\"\nimport FAQQuestion from \"./FAQQuestion\"\n\nconst FAQPaths: { [key: string]: string } = {\n  informations: \"/section/informations\",\n  effectifs: \"/section/effectifs\",\n  indicateur1: \"/section/indicateur1\",\n  indicateur2: \"/section/indicateur2\",\n  indicateur3: \"/section/indicateur3\",\n  indicateur2et3: \"/section/indicateur2et3\",\n  indicateur4: \"/section/indicateur4\",\n  indicateur5: \"/section/indicateur5\",\n  recapitulatif: \"/section/resultat\",\n}\n\ntype LocationState = {\n  faq?: string\n}\n\ntype FAQRouteComponentProps = RouteComponentProps<Record<string, string>, StaticContext, LocationState>\n\nconst mapDefaultPathnameToFAQPathname = (location: FAQRouteComponentProps[\"location\"]) => {\n  if (location.state && location.state.faq) {\n    return location.state.faq\n  }\n  const splittedLocationPathname = location.pathname.split(\"/\").filter(Boolean)\n  if (splittedLocationPathname[0] !== \"simulateur\" || splittedLocationPathname.length !== 3) {\n    return location.pathname\n  }\n  const faqPath = FAQPaths[splittedLocationPathname[2]]\n  return faqPath ? faqPath : location.pathname\n}\n\ninterface FAQProps {\n  closeMenu?: () => void\n}\n\nconst FAQ: FunctionComponent<FAQProps> = ({ closeMenu }) => (\n  <Route\n    render={(route) => {\n      const location = (route as FAQRouteComponentProps).location\n      const locationFAQ = {\n        pathname: mapDefaultPathnameToFAQPathname(location),\n        search: \"\",\n        hash: \"\",\n        state: undefined,\n      }\n      return (\n        <Box as=\"aside\" id=\"search\" role=\"search\" bg=\"white\">\n          <FAQHeader location={locationFAQ} closeMenu={closeMenu} />\n          <Box\n            p={6}\n            overflowY=\"auto\"\n            maxHeight=\"100vh\"\n            sx={{ WebkitOverflowScrolling: \"touch\" }}\n            key={locationFAQ.pathname}\n          >\n            <Switch location={locationFAQ}>\n              <Route\n                path={[\n                  \"/\",\n                  \"/simulateur/:code\",\n                  \"/mentions-legales\",\n                  \"/accessibilite\",\n                  \"/cgu\",\n                  \"/politique-confidentialite\",\n                ]}\n                exact\n                render={() => <FAQHome />}\n              />\n\n              {/* TODO: move to FAQPaths when a dedicated content is added */}\n              <Route path={[\"/\", \"/simulateur/:code/informations-entreprise\"]} exact render={() => <FAQHome />} />\n\n              {/* TODO: move to FAQPaths when a dedicated content is added */}\n              <Route path={[\"/\", \"/simulateur/:code/informations-declarant\"]} exact render={() => <FAQHome />} />\n\n              {/* TODO: move to FAQPaths when a dedicated content is added */}\n              <Route path={[\"/\", \"/simulateur/:code/declaration\"]} exact render={() => <FAQHome />} />\n\n              <Route\n                exact\n                path=\"/section/:section\"\n                render={({\n                  match: {\n                    params: { section },\n                  },\n                }) => <FAQSection section={section} />}\n              />\n\n              <Route\n                exact\n                path=\"/section/:section/detail-calcul\"\n                render={({\n                  history,\n                  match: {\n                    params: { section },\n                  },\n                }) => <FAQSectionDetailCalcul history={history} section={section} />}\n              />\n\n              <Route\n                exact\n                path=\"/part/:part/question/:indexQuestion\"\n                render={({\n                  history,\n                  match: {\n                    params: { part, indexQuestion },\n                  },\n                }) => <FAQQuestion history={history} part={part} indexQuestion={indexQuestion} />}\n              />\n            </Switch>\n\n            <FAQFooter />\n          </Box>\n        </Box>\n      )\n    }}\n  />\n)\n\nexport default FAQ\n","import FAQ from \"./FAQ\"\nexport default FAQ\n","import React, { useEffect, ReactNode } from \"react\"\nimport { Container, Box, Flex, Grid } from \"@chakra-ui/react\"\nimport { withRouter, RouteComponentProps } from \"react-router-dom\"\n\nimport { AppState } from \"../globals\"\n\nimport ModalProvider from \"../components/ModalContext\"\nimport { useScrollTo } from \"../components/ScrollContext\"\nimport Menu from \"../components/Menu\"\nimport FAQ from \"../views/FAQ\"\n\ninterface Props extends RouteComponentProps {\n  children: ReactNode\n  state: AppState | undefined\n}\n\nfunction MainScrollView({ children, state, location }: Props) {\n  const menu = (\n    <Menu\n      trancheEffectifs={state ? state.informations.trancheEffectifs : \"50 à 250\"}\n      informationsFormValidated={state ? state.informations.formValidated : \"None\"}\n      effectifFormValidated={state ? state.effectif.formValidated : \"None\"}\n      indicateurUnFormValidated={state ? state.indicateurUn.formValidated : \"None\"}\n      indicateurDeuxFormValidated={state ? state.indicateurDeux.formValidated : \"None\"}\n      indicateurTroisFormValidated={state ? state.indicateurTrois.formValidated : \"None\"}\n      indicateurDeuxTroisFormValidated={state ? state.indicateurDeuxTrois.formValidated : \"None\"}\n      indicateurQuatreFormValidated={state ? state.indicateurQuatre.formValidated : \"None\"}\n      indicateurCinqFormValidated={state ? state.indicateurCinq.formValidated : \"None\"}\n      informationsEntrepriseFormValidated={state ? state.informationsEntreprise.formValidated : \"None\"}\n      informationsDeclarantFormValidated={state ? state.informationsDeclarant.formValidated : \"None\"}\n      declarationFormValidated={state ? state.declaration.formValidated : \"None\"}\n    />\n  )\n\n  return (\n    <Flex\n      grow={1}\n      sx={{\n        height: \"100%\",\n      }}\n      as={\"main\"}\n      role=\"main\"\n      id=\"main\"\n    >\n      <Container maxW=\"container.xl\">\n        <ModalProvider>\n          <Grid\n            sx={{\n              gridTemplateColumns: \"200px 1fr 380px\",\n              gridTemplateRows: \"auto\",\n              gridTemplateAreas: \"'nav main aside'\",\n              height: \"100%\",\n            }}\n          >\n            <Box sx={{ gridArea: \"nav\" }} ml={-3}>\n              {menu}\n            </Box>\n            <Content pathname={location.pathname}>{children}</Content>\n            <Box bg=\"white\" sx={{ gridArea: \"aside\" }} mr={-3}>\n              <FAQ />\n            </Box>\n          </Grid>\n        </ModalProvider>\n      </Container>\n    </Flex>\n  )\n}\n\nfunction Content({ children, pathname }: { children: ReactNode; pathname: string }) {\n  const scrollTo = useScrollTo()\n\n  useEffect(() => scrollTo(0), [pathname, scrollTo])\n\n  return (\n    <Box px={8} py={10} sx={{ gridArea: \"main\", borderRight: \"1px solid #E3E4ED\" }}>\n      {children}\n    </Box>\n  )\n}\nexport default withRouter(MainScrollView)\n","import React from \"react\"\nimport { Link as ReachLink } from \"react-router-dom\"\nimport { Box, Container, List, ListItem, Text, Link } from \"@chakra-ui/react\"\n\nimport Logo from \"./ds/Logo\"\nimport TextLink from \"./ds/TextLink\"\nimport packageConfig from \"../../package.json\"\n\nfunction Footer() {\n  const version = process.env.REACT_APP_VERSION || packageConfig.version\n\n  return (\n    <Box\n      id=\"footer\"\n      as=\"footer\"\n      role=\"contentinfo\"\n      py={6}\n      sx={{\n        borderTop: \"1px solid #E3E4ED\",\n        \"@media print\": {\n          display: \"none\",\n        },\n      }}\n    >\n      <Container\n        maxW=\"container.xl\"\n        sx={{\n          \"@media (min-width: 1024px)\": {\n            display: \"flex\",\n            flexDirection: \"row\",\n          },\n        }}\n      >\n        <Box\n          sx={{\n            \"@media (min-width: 640px)\": {\n              display: \"flex\",\n              flexDirection: \"row\",\n            },\n          }}\n        >\n          <Box pr={8}>\n            <Link href=\"https://travail-emploi.gouv.fr/\" isExternal pt={2} sx={{ display: \"block\" }}>\n              <Logo />\n            </Link>\n          </Box>\n\n          <List\n            fontSize=\"sm\"\n            sx={{\n              \"@media (max-width: 639px)\": {\n                marginTop: \"var(--chakra-space-4)\",\n              },\n            }}\n          >\n            <ListItem>\n              <Link href=\"https://travail-emploi.gouv.fr/IMG/xlsx/referents_egalite_professionnelle.xlsx\" isExternal>\n                Télécharger la liste des référents Egapro (XLSX, 22 Ko)\n              </Link>\n            </ListItem>\n            <ListItem>\n              <Link as={ReachLink} to=\"/mentions-legales\">\n                Mentions légales\n              </Link>\n            </ListItem>\n            <ListItem>\n              <Link as={ReachLink} to=\"/accessibilite\">\n                Accessibilité&nbsp;: non conforme\n              </Link>\n            </ListItem>\n            <ListItem>\n              <Link as={ReachLink} to=\"/cgu\">\n                Conditions générales d'utilisation\n              </Link>\n            </ListItem>\n            <ListItem>\n              <Link as={ReachLink} to=\"/politique-confidentialite\">\n                Politique de confidentialité\n              </Link>\n            </ListItem>\n          </List>\n        </Box>\n\n        <Box\n          sx={{\n            \"@media (max-width: 1023px)\": {\n              marginTop: \"var(--chakra-space-4)\",\n            },\n            \"@media (min-width: 1024px)\": {\n              marginLeft: \"auto\",\n            },\n          }}\n        >\n          <Text fontSize=\"sm\" as=\"i\">\n            Index Egapro a été développé par les équipes de la fabrique numérique des ministères sociaux\n          </Text>\n          <Text fontSize=\"sm\" mt={1}>\n            Pour nous aider à l'améliorer{\" \"}\n            <TextLink\n              to=\"https://voxusagers.numerique.gouv.fr/Demarches/2240?&view-mode=formulaire-avis&nd_mode=en-ligne-enti%C3%A8rement&nd_source=button&key=73366ddb13d498f4c77d01c2983bab48\"\n              isExternal\n            >\n              donnez-nous votre avis\n            </TextLink>{\" \"}\n            <TextLink to={`https://github.com/SocialGouv/egapro/tree/${version}`} isExternal>\n              contribuez sur Github\n            </TextLink>\n          </Text>\n        </Box>\n      </Container>\n    </Box>\n  )\n}\n\nexport default Footer\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\n\nimport globalStyles from \"../utils/globalStyles\"\n\nimport Logo from \"../components/ds/Logo\"\nimport ActionLink from \"../components/ActionLink\"\nimport Footer from \"../components/Footer\"\nimport { Fragment } from \"react\"\nimport { useTitle } from \"../utils/hooks\"\n\ninterface Props {\n  openMenu: () => void\n}\n\nconst title = \"Page d'affichage mobile\"\n\nfunction MobileHome({ openMenu }: Props) {\n  useTitle(title)\n\n  return (\n    <Fragment>\n      <div css={styles.page}>\n        <Logo />\n\n        <h1 css={styles.title}>\n          Bienvenue\n          <br />\n          sur Index Egapro\n        </h1>\n\n        <p css={styles.subtitle}>\n          L’outil de calcul et de déclaration de votre index égalité professionnelle Femmes-Hommes\n        </p>\n\n        <p css={styles.para}>\n          L’Index de l'égalité professionnelle a été conçu pour faire progresser au sein des entreprises l’égalité\n          salariale entre les femmes et les hommes.\n        </p>\n        <p css={styles.para}>\n          Il permet aux entreprises de mesurer, en toute transparence, les écarts de rémunération entre les sexes et de\n          mettre en évidence leurs points de progression. Lorsque des disparités salariales sont constatées, des mesures\n          de correction doivent être prises.\n        </p>\n\n        <div css={styles.info}>\n          <p css={[styles.para, styles.noMargin]}>\n            Le calcul et la déclaration de l'index nécessitent un affichage plus grand. Mais vous pouvez accéder à toute\n            l'aide en ligne et à la FAQ.\n          </p>\n        </div>\n\n        <div css={styles.illuBloc}>\n          <div css={styles.image} />\n\n          <div css={styles.help}>\n            <ActionLink style={styles.helpButton} onClick={openMenu}>\n              ?\n            </ActionLink>\n            <span css={styles.helpText}>aide</span>\n          </div>\n\n          <div css={styles.arrow}>\n            <svg\n              width=\"49\"\n              height=\"108\"\n              viewBox=\"0 0 49 108\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              aria-hidden=\"true\"\n            >\n              <path\n                d=\"M48.7071 100.707C49.0976 100.317 49.0976 99.6834 48.7071 99.2929L42.3431 92.9289C41.9526 92.5384 41.3194 92.5384 40.9289 92.9289C40.5384 93.3195 40.5384 93.9526 40.9289 94.3431L46.5857 100L40.9289 105.657C40.5384 106.047 40.5384 106.681 40.9289 107.071C41.3194 107.462 41.9526 107.462 42.3431 107.071L48.7071 100.707ZM0.499949 0.5C0.499949 17.9416 -0.133314 42.976 5.40911 63.6341C8.1839 73.9765 12.5293 83.3202 19.3587 90.0854C26.2152 96.8776 35.5053 101 48 101V99C35.9946 99 27.2222 95.0599 20.7662 88.6646C14.2831 82.2423 10.066 73.2735 7.34079 63.1159C1.88321 42.774 2.49995 18.0584 2.49995 0.5H0.499949Z\"\n                fill=\"#191A49\"\n              />\n            </svg>\n          </div>\n        </div>\n      </div>\n      <Footer />\n    </Fragment>\n  )\n}\n\nconst styles = {\n  page: css({\n    display: \"flex\",\n    flexDirection: \"column\",\n    paddingTop: 16,\n    paddingRight: 28,\n    paddingLeft: 28,\n    paddingBottom: 28,\n    \"@media print\": {\n      display: \"block\",\n      marginRight: 0,\n    },\n  }),\n  title: css({\n    marginTop: 16,\n    fontSize: 32,\n    lineHeight: \"34px\",\n    fontWeight: \"normal\",\n    marginLeft: 0,\n    marginRight: 0,\n    marginBottom: 8,\n  }),\n  subtitle: css({\n    fontFamily: \"'Gabriela', serif\",\n    fontSize: 12,\n    lineHeight: \"15px\",\n  }),\n  para: css({\n    marginTop: 16,\n    fontSize: 14,\n    lineHeight: \"17px\",\n  }),\n  noMargin: css({ margin: 0 }),\n\n  info: css({\n    width: 264,\n    alignSelf: \"center\",\n    marginTop: 45,\n    padding: \"7px 10px\",\n    backgroundColor: \"#EFF0FA\",\n  }),\n\n  illuBloc: css({\n    height: 150,\n    position: \"relative\",\n  }),\n  help: css({\n    position: \"absolute\",\n    bottom: 0,\n    right: 0,\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  }),\n  helpButton: css({\n    width: 44,\n    height: 44,\n\n    borderRadius: 22,\n    backgroundColor: globalStyles.colors.primary,\n\n    color: \"white\",\n    WebkitTextFillColor: \"#FFF\",\n    fontFamily: \"'Gabriela', serif\",\n    fontSize: 32,\n    textDecoration: \"none\",\n\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  }),\n  helpText: css({\n    fontSize: 12,\n    lineHeight: \"15px\",\n  }),\n  image: css({\n    height: 112,\n    width: 176,\n    position: \"absolute\",\n    bottom: 0,\n    left: 0,\n    backgroundImage: `url(${process.env.PUBLIC_URL}/illustration-home-simulator.svg)`,\n    backgroundRepeat: \"no-repeat\",\n    backgroundSize: \"cover\",\n  }),\n  arrow: css({\n    position: \"absolute\",\n    top: 10,\n    right: 56,\n  }),\n}\n\nexport default MobileHome\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { useState } from \"react\"\n\nimport globalStyles from \"../utils/globalStyles\"\n\nimport MobileHome from \"../views/MobileHome\"\nimport FAQ from \"../views/FAQ\"\n\nfunction MobileLayout() {\n  const [isMenuOpen, setIsMenuOpen] = useState(false)\n  const openMenu = () => setIsMenuOpen(true)\n  const closeMenu = () => setIsMenuOpen(false)\n  return (\n    <div css={styles.mobileLayout}>\n      <div css={styles.scroll}>\n        <MobileHome openMenu={openMenu} />\n      </div>\n      <div css={[styles.faq, isMenuOpen && styles.faqOpen]}>\n        <FAQ closeMenu={closeMenu} />\n      </div>\n    </div>\n  )\n}\n\nconst styles = {\n  mobileLayout: css({\n    overflow: \"hidden\",\n    position: \"fixed\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n\n    display: \"flex\",\n    flexDirection: \"column\",\n\n    /* *** /!\\ *** */\n    flexGrow: 0,\n    flexShrink: 1,\n    flexBasis: globalStyles.grid.maxWidth - 375,\n    minWidth: 0,\n    /*\n      Fix issue with IE11\n      the intention would be something like:\n\n      flexGrow: 1,\n      flexShrink: 1,\n      flexBasis: \"auto\",\n      maxWidth: globalStyles.grid.maxWidth - 375,\n\n      but the code above is a workaround described here:\n      https://github.com/philipwalton/flexbugs#flexbug-17\n    */\n\n    background: \"linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, #FFFFFF 100%), #EFF0FA\",\n\n    \"@media print\": {\n      display: \"block\",\n    },\n  }),\n  scroll: css({\n    overflowY: \"auto\",\n    WebkitOverflowScrolling: \"touch\",\n    flexGrow: 1,\n    flexShrink: 1,\n    flexBasis: \"0%\",\n    position: \"relative\",\n  }),\n  faq: css({\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    display: \"flex\",\n    flexDirection: \"column\",\n\n    visibility: \"hidden\",\n    transform: \"translate3d(100%, 0, 0)\",\n    transition: \"visibility 0ms linear 250ms, transform 250ms ease-in-out\",\n\n    boxShadow: \"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)\",\n  }),\n  faqOpen: css({\n    visibility: \"visible\",\n    transform: \"translate3d(0%, 0, 0)\",\n    transitionDelay: \"0ms\",\n  }),\n}\n\nexport default MobileLayout\n","import React from \"react\"\nimport { Text, Heading, Link, UnorderedList, ListItem } from \"@chakra-ui/react\"\nimport Page from \"../components/Page\"\nimport { useTitle } from \"../utils/hooks\"\n\nconst title = \"Accessibilité\"\n\nfunction Accessibilite() {\n  useTitle(title)\n\n  return (\n    <Page title={title}>\n      <Heading as=\"h2\" size=\"md\" mb={3}>\n        Déclaration d’accessibilité\n      </Heading>\n      <Text>\n        Le Ministère du travail, de l’emploi et de l’insertion s’engage à rendre son service accessible conformément à\n        l’article 47 de la loi n°&nbsp;2005-102 du 11 février 2005.\n      </Text>\n      <Text mt={2}>\n        À cette fin, il met en œuvre la stratégie et l’action suivante&nbsp;: réalisation d’un audit de conformité à\n        l'été de l’année 2021.\n      </Text>\n      <Text mt={2}>Cette déclaration d’accessibilité s’applique au site Internet index-egapro.travail.gouv.fr.</Text>\n      <Heading as=\"h2\" size=\"md\" mb={3} mt={6}>\n        État de conformité\n      </Heading>\n      <Text>\n        Le site Internet index-egapro.travail.gouv.fr n’est pas encore en conformité avec le référentiel général\n        d’amélioration de l’accessibilité (RGAA). Le site n’a pas encore été audité.\n      </Text>\n      <Text mt={2}>Nous tâchons de rendre dès la conception, ce site accessible à toutes et à tous.</Text>\n      <Heading as=\"h2\" size=\"md\" mb={3} mt={6}>\n        Résultat des tests\n      </Heading>\n      <Text>L’audit de conformité est en attente de réalisation (été de l’année 2021).</Text>\n      <Heading as=\"h2\" size=\"md\" mb={3} mt={6}>\n        Établissement de cette déclaration d’accessibilité\n      </Heading>\n      <Text>Cette déclaration a été établie le 1er juin 2021.</Text>\n      <Heading as=\"h2\" size=\"md\" mb={3} mt={6}>\n        Amélioration et contact\n      </Heading>\n      <Text>\n        Si vous n’arrivez pas à accéder à un contenu ou à un service, vous pouvez contacter le responsable du site\n        Internet index-egapro.travail.gouv.fr pour être orienté vers une alternative accessible ou obtenir le contenu\n        sous une autre forme.\n      </Text>\n      <Text mt={2}>\n        E-mail&nbsp;:{\" \"}\n        <Link href=\"mailto:index@travail.gouv.fr\" color=\"primary.500\">\n          index@travail.gouv.fr\n        </Link>\n      </Text>\n      <Text>Nous essayons de répondre le plus rapidement possible.</Text>\n      <Heading as=\"h2\" size=\"md\" mb={3} mt={6}>\n        Voies de recours\n      </Heading>\n      <Text>Cette procédure est à utiliser dans le cas suivant.</Text>\n      <Text mt={2}>\n        Vous avez signalé au responsable du site internet un défaut d’accessibilité qui vous empêche d’accéder à un\n        contenu ou à un des services du portail et vous n’avez pas obtenu de réponse satisfaisante.\n      </Text>\n      <Text mt={2}>Vous pouvez&nbsp;:</Text>\n      <UnorderedList mt={2} spacing={1}>\n        <ListItem>Écrire un message au Défenseur des droits</ListItem>\n        <ListItem>Contacter le délégué du Défenseur des droits dans votre région</ListItem>\n        <ListItem>\n          Envoyer un courrier par la poste (gratuit, ne pas mettre de timbre)&nbsp;: <br />\n          Défenseur des droits Libre réponse, 71120 75342 Paris CEDEX 07\n        </ListItem>\n      </UnorderedList>\n      <Heading as=\"h2\" size=\"md\" mb={3} mt={6}>\n        En savoir plus sur l’accessibilité\n      </Heading>\n      <Text>\n        Pour en savoir plus sur la politique d’accessibilité numérique de l’État&nbsp;:\n        <br />\n        <Link href=\"http://references.modernisation.gouv.fr/accessibilite-numerique\" isExternal color=\"primary.500\">\n          http://references.modernisation.gouv.fr/accessibilite-numerique\n        </Link>\n      </Text>\n    </Page>\n  )\n}\n\nexport default Accessibilite\n","import React from \"react\"\nimport Header from \"../components/Header\"\nimport Footer from \"../components/Footer\"\nimport { Box, Container, Flex } from \"@chakra-ui/layout\"\nimport { ReactNode } from \"react\"\n\ninterface Props {\n  children: ReactNode\n}\n\nexport function SinglePageLayout({ children }: Props) {\n  return (\n    <Flex direction=\"column\" minHeight=\"100vh\">\n      <Header />\n      <Box as=\"main\" role=\"main\" flexGrow={1} py={10}>\n        <Container maxW=\"container.md\">{children}</Container>\n      </Box>\n      <Footer />\n    </Flex>\n  )\n}\n","let API_URL = \"/api\"\nif (window.location.href.includes(\"localhost:\")) {\n  API_URL = \"http://127.0.0.1:2626\"\n}\nif (process.env.REACT_APP_EGAPRO_API_URL) API_URL = process.env.REACT_APP_EGAPRO_API_URL\n\nexport const EXPIRED_TOKEN_MESSAGE = \"Invalid token : need to login again\"\n\n/* Fetcher which can use an options and handles error in a generic way.\n *\n * @param endpoint the full end point to use\n * @param options the request options (optional)\n * @returns the JSON response\n * @throws an error if the response is not ok\n */\nexport const genericFetch = async (endpoint: string, options?: RequestInit) => {\n  options = {\n    ...options,\n    headers: {\n      ...options?.headers,\n      \"API-KEY\": localStorage.token,\n    },\n  }\n\n  const response = await fetch(endpoint, options)\n\n  if (!response.ok) {\n    const error: Error & { info?: string; status?: number } = new Error(\"Erreur API\")\n\n    error.info = (await response.json())?.error\n    error.status = response.status\n\n    if (error.info) {\n      if (/Invalid token/i.test(error.info) || /No authentication token was provided/i.test(error.info)) {\n        error.info = EXPIRED_TOKEN_MESSAGE\n      }\n    }\n\n    throw error\n  }\n\n  if (response.status === 204) {\n    return null\n  }\n\n  return response.json()\n}\n\n/**\n * Fetcher to call the Egapro API\n *\n * @param key the path to use after the API_URL (named key because it is used in cache for useSWR)\n * @param options the request options (optional)\n */\nexport const fetcher = async (key: string, options: RequestInit) => {\n  return genericFetch(API_URL + key, options)\n}\n","import { EXPIRED_TOKEN_MESSAGE } from \"../utils/fetcher\"\nimport { AlertMessageType } from \"../globals\"\n\nexport function makeMessage(error: Error & { info: string; status: number }): AlertMessageType {\n  return !error\n    ? null\n    : error?.info === EXPIRED_TOKEN_MESSAGE\n    ? {\n        kind: \"error\",\n        text: \"Votre session a expiré, veuillez vous reconnecter.\",\n      }\n    : { kind: \"error\", text: \"Une erreur est survenue lors de la récupération des données.\" }\n}\n","import useSWR from \"swr\"\nimport { genericFetch } from \"../utils/fetcher\"\nimport { makeMessage } from \"../utils/makeMessage\"\n\nconst API_SOCIAL_GOUV_SIREN = \"https://search-recherche-entreprises.fabrique.social.gouv.fr/api/v1/entreprise/\"\n\n/**\n * Fetcher to call the Egapro API\n *\n * @param key the path to use after the API_URL (named key because it is used in cache for useSWR)\n * @param options the request options (optional)\n */\nconst fetcherSiren = async (siren: string) => {\n  return genericFetch(API_SOCIAL_GOUV_SIREN + siren)\n}\n\nexport function useSiren(siren: string) {\n  const { data, error, mutate } = useSWR(siren ? siren : null, fetcherSiren)\n\n  const isLoading = !data && !error\n  const isError = Boolean(error)\n\n  const entreprise = data ? { raison_sociale: data.label, adresse: data.firstMatchingEtablissement?.address } : null\n\n  return { entreprise, message: makeMessage(error), isLoading, isError, mutate }\n}\n","import useSWR from \"swr\"\nimport { fetcher } from \"../utils/fetcher\"\nimport { makeMessage } from \"../utils/makeMessage\"\nimport { useLogoutIfExpiredToken } from \"./useLogoutIfExpiredToken\"\n\nexport function useOwnersOfSiren(siren: string) {\n  const { data, error, mutate } = useSWR(siren ? `/ownership/${siren}` : null, fetcher)\n  useLogoutIfExpiredToken(error)\n\n  const isLoading = !data && !error\n  const isError = Boolean(error)\n\n  return { owners: data?.owners?.length ? data.owners : [], message: makeMessage(error), isLoading, isError, mutate }\n}\n","import React from \"react\"\nimport { useUser } from \"../components/AuthContext\"\nimport { EXPIRED_TOKEN_MESSAGE } from \"../utils/fetcher\"\n\nexport function useLogoutIfExpiredToken(error: Error & { info: string; status: number }) {\n  const { logout } = useUser()\n\n  React.useEffect(() => {\n    if (error?.info === EXPIRED_TOKEN_MESSAGE) {\n      logout()\n    }\n  }, [error])\n}\n","import React from \"react\"\nimport { Button, ButtonProps } from \"@chakra-ui/react\"\n\nfunction PrimaryButton({ children, ...rest }: ButtonProps) {\n  return (\n    <Button minW=\"110px\" colorScheme=\"primary\" border=\"1px\" height=\"40px\" borderRadius=\"5px\" {...rest}>\n      {children}\n    </Button>\n  )\n}\n\nexport default PrimaryButton\n","import { AlertMessageType } from \"../../globals\"\nimport { useToastMessage } from \"../../utils/hooks\"\n\n/**\n * Composant sans vue qui peut afficher un toast en overlay quand un message est renseigné.\n *\n * See useToastMessage for usage outside a render of a component.\n */\nfunction Toast({ message }: { message: AlertMessageType }) {\n  const { toastMessage } = useToastMessage()\n\n  if (message) toastMessage(message)\n\n  return null\n}\n\nexport default Toast\n","import React from \"react\"\nimport { FormControl, FormErrorMessage, FormLabel } from \"@chakra-ui/form-control\"\nimport { Input, InputProps } from \"@chakra-ui/input\"\nimport { Box } from \"@chakra-ui/layout\"\nimport { useField } from \"react-final-form\"\nimport { z } from \"zod\"\n\ntype InputControlProps = {\n  name: string\n  label: string\n  type?:\n    | \"button\"\n    | \"checkbox\"\n    | \"date\"\n    | \"datetime\"\n    | \"email\"\n    | \"hidden\"\n    | \"number\"\n    | \"password\"\n    | \"file\"\n    | \"number\"\n    | \"radio\"\n    | \"reset\"\n    | \"search\"\n    | \"submit\"\n    | \"tel\"\n    | \"text\"\n    | \"time\"\n    | \"url\"\n  placeholder?: string\n  variant?: InputProps[\"variant\"]\n}\n\nexport const formValidator =\n  <T extends z.ZodType<any, any>>(schema: T) =>\n  (values: any) => {\n    try {\n      schema.parse(values)\n      return {}\n    } catch (err) {\n      return (err as z.ZodError).formErrors.fieldErrors\n    }\n  }\n\nexport function InputControl({ name, label, type, placeholder, variant = \"outline\", ...rest }: InputControlProps) {\n  const {\n    input,\n    meta: { error, touched, submitting },\n  } = useField(name)\n\n  return (\n    <FormControl isInvalid={error && touched} {...rest}>\n      <FormLabel htmlFor={name}>{label}</FormLabel>\n      <Input\n        {...input}\n        variant={variant}\n        type={type}\n        id={name}\n        name={name}\n        placeholder={placeholder}\n        isDisabled={submitting}\n      />\n      <FormErrorMessage>{error}</FormErrorMessage>\n    </FormControl>\n  )\n}\n\nexport function DebugForm({ values, show }: { values?: Record<string, any>; show?: boolean } = { show: false }) {\n  if (!show) return null\n\n  return (\n    <Box as=\"pre\">\n      <code>{JSON.stringify(values, null, 2)}</code>\n    </Box>\n  )\n}\n","import React from \"react\"\nimport {\n  Modal,\n  ModalBody,\n  ModalCloseButton,\n  ModalContent,\n  ModalFooter,\n  ModalHeader,\n  ModalOverlay,\n} from \"@chakra-ui/modal\"\nimport { Select } from \"@chakra-ui/select\"\nimport { Box, Flex, HStack, List, ListIcon, ListItem, Stack, Text } from \"@chakra-ui/layout\"\nimport { Spinner } from \"@chakra-ui/spinner\"\nimport { FormControl, FormLabel } from \"@chakra-ui/form-control\"\nimport { IconButton } from \"@chakra-ui/button\"\nimport { Skeleton } from \"@chakra-ui/react\"\nimport { useBoolean, useDisclosure } from \"@chakra-ui/hooks\"\nimport { Form } from \"react-final-form\"\nimport { z } from \"zod\"\n\nimport { SinglePageLayout } from \"../../containers/SinglePageLayout\"\nimport { useTitle, useToastMessage } from \"../../utils/hooks\"\nimport { useSiren } from \"../../hooks/useSiren\"\nimport { useOwnersOfSiren } from \"../../hooks/useOwnersOfSiren\"\nimport Page from \"../../components/Page\"\nimport { fetcher } from \"../../utils/fetcher\"\nimport PrimaryButton from \"../../components/ds/PrimaryButton\"\nimport Toast from \"../../components/ds/Toast\"\nimport { useUser } from \"../../components/AuthContext\"\nimport { formValidator, InputControl } from \"../../components/ds/form-lib\"\nimport ButtonAction from \"../../components/ButtonAction\"\nimport { IconDelete, IconDrag, IconOfficeBuilding } from \"../../components/ds/Icons\"\n\nconst title = \"Mes entreprises\"\n\nfunction InfoEntreprise({ siren }: { siren: string }) {\n  const { entreprise, message, isLoading } = useSiren(siren)\n\n  return (\n    <HStack borderWidth=\"3px\" borderRadius=\"lg\" as=\"section\" spacing=\"4\" p=\"6\" pt=\"4\" pb=\"4\">\n      <Toast message={message} />\n      <Flex>\n        <IconOfficeBuilding boxSize=\"8\" color=\"gray.500\" />\n      </Flex>\n\n      {isLoading ? (\n        <Stack>\n          <Skeleton height=\"20px\" w=\"200px\" />\n        </Stack>\n      ) : (\n        <Text fontWeight=\"semibold\" lineHeight=\"tight\" noOfLines={2}>\n          {entreprise?.raison_sociale}\n        </Text>\n      )}\n    </HStack>\n  )\n}\n\nfunction UserListItem({\n  owner,\n  siren,\n  removeUser,\n}: {\n  owner: string\n  siren: string\n  removeUser: (owner: string, siren: string) => void\n}) {\n  const { isOpen, onOpen, onClose } = useDisclosure()\n\n  return (\n    <ListItem key={owner} verticalAlign=\"center\">\n      <ListIcon as={IconDrag} color=\"green.500\" />\n      {owner}&nbsp;\n      <IconButton\n        variant=\"none\"\n        colorScheme=\"teal\"\n        aria-label=\"Supprimer cet utilisateur\"\n        icon={<IconDelete />}\n        onClick={onOpen}\n        h=\"6\"\n      />\n      <Modal isOpen={isOpen} onClose={onClose}>\n        <ModalOverlay />\n        <ModalContent>\n          <ModalHeader>Supprimer l'utilisateur</ModalHeader>\n          <ModalCloseButton />\n          <ModalBody>Cette opération est irréversible.</ModalBody>\n\n          <ModalFooter>\n            <PrimaryButton colorScheme=\"red\" mr={3} onClick={() => removeUser(owner, siren)}>\n              Confirmer\n            </PrimaryButton>\n            <PrimaryButton variant=\"ghost\" onClick={onClose}>\n              Annuler\n            </PrimaryButton>\n          </ModalFooter>\n        </ModalContent>\n      </Modal>\n    </ListItem>\n  )\n}\n\nfunction UtilisateursEntreprise({ siren }: { siren: string }) {\n  const [email, setEmail] = React.useState(\"\")\n  const { toastSuccess, toastError } = useToastMessage({})\n  const [showAddForm, setShowAddForm] = useBoolean()\n\n  const { owners, message, isLoading, mutate } = useOwnersOfSiren(siren)\n\n  React.useEffect(() => {\n    setShowAddForm.off()\n  }, [siren])\n\n  async function addUser(formData: any) {\n    setEmail(formData.email)\n\n    try {\n      await fetcher(`/ownership/${siren}/${formData.email}`, {\n        method: \"PUT\",\n      })\n      setEmail(\"\")\n      setShowAddForm.off()\n      mutate([...owners, email])\n      toastSuccess(\"Le responsable a été ajouté.\")\n    } catch (error) {\n      console.error(error)\n      toastError(\"Erreur pour ajouter cet email.\")\n    }\n  }\n\n  async function removeUser(owner: string, siren: string) {\n    try {\n      await fetcher(`/ownership/${siren}/${owner}`, {\n        method: \"DELETE\",\n      })\n      mutate([]) // TODO ne pas tout supprimer\n      toastSuccess(\"Le responsable a été supprimé.\")\n    } catch (error) {\n      console.error(error)\n      toastError(\"Erreur pour supprimer cet email.\")\n    }\n  }\n\n  const FormInput = z.object({\n    email: z.string({ required_error: \"L'adresse mail est requise\" }).email({ message: \"L'adresse mail est invalide\" }),\n  })\n\n  return (\n    <Box mt=\"4\">\n      <Toast message={message} />\n\n      {isLoading ? (\n        <Box m=\"6\">\n          <Spinner />\n        </Box>\n      ) : (\n        <React.Fragment>\n          <Text fontSize=\"md\" fontWeight=\"bold\" color=\"green.500\" mb=\"2\">\n            Responsables\n          </Text>\n\n          <List spacing={3}>\n            {owners?.map((owner: string) => (\n              <UserListItem key={owner} owner={owner} siren={siren} removeUser={removeUser} />\n            ))}\n          </List>\n\n          <Flex mt=\"6\" direction=\"column\">\n            <ButtonAction\n              variant=\"outline\"\n              onClick={setShowAddForm.toggle}\n              label=\"Vous souhaitez ajouter un responsable ?\"\n              leftIcon={<span aria-hidden=\"true\">🙋</span>}\n            />\n\n            {showAddForm && (\n              <Box mt=\"4\">\n                <Form\n                  onSubmit={addUser}\n                  validate={formValidator(FormInput)}\n                  render={({ handleSubmit }) => (\n                    <form onSubmit={handleSubmit}>\n                      <HStack spacing={4} align=\"flex-start\">\n                        <InputControl name=\"email\" label=\"Email du responsable\" />\n                        <Box pt={8}>\n                          <PrimaryButton type=\"submit\">Ajouter</PrimaryButton>\n                        </Box>\n                      </HStack>\n                    </form>\n                  )}\n                />\n              </Box>\n            )}\n          </Flex>\n        </React.Fragment>\n      )}\n    </Box>\n  )\n}\n\nfunction MesEntreprises() {\n  useTitle(title)\n\n  const { ownership: sirens } = useUser()\n  const orderedSirens = sirens.sort()\n\n  const [chosenSiren, setChosenSiren] = React.useState(orderedSirens?.[0] || \"\")\n\n  return (\n    <SinglePageLayout>\n      <Page title={title}>\n        {!sirens?.length ? (\n          <p>Vous ne gérez pas encore d'entreprise.</p>\n        ) : (\n          <React.Fragment>\n            <FormControl id=\"siren\">\n              <FormLabel>SIREN</FormLabel>\n              <Select\n                onChange={(event) => setChosenSiren(event?.target?.value)}\n                defaultValue={chosenSiren}\n                aria-label=\"Liste des SIREN\"\n              >\n                {orderedSirens.map((siren) => (\n                  <option key={siren} value={siren}>\n                    {siren}\n                  </option>\n                ))}\n              </Select>\n            </FormControl>\n\n            <Flex mt=\"6\" direction=\"column\">\n              <InfoEntreprise siren={chosenSiren} />\n              <UtilisateursEntreprise siren={chosenSiren} />\n            </Flex>\n          </React.Fragment>\n        )}\n      </Page>\n    </SinglePageLayout>\n  )\n}\n\nexport default MesEntreprises\n","import { Avatar } from \"@chakra-ui/avatar\"\nimport { Box, HStack, Text, VStack } from \"@chakra-ui/layout\"\nimport React from \"react\"\nimport { useUser } from \"../../components/AuthContext\"\nimport Page from \"../../components/Page\"\nimport { SinglePageLayout } from \"../../containers/SinglePageLayout\"\nimport { useTitle } from \"../../utils/hooks\"\n\nconst title = \"Mon profil\"\n\nfunction MonProfil() {\n  useTitle(title)\n  const { email } = useUser()\n\n  return (\n    <SinglePageLayout>\n      <Page title={title}>\n        <div>\n          <div>\n            {email ? (\n              <VStack spacing={8} alignItems=\"flex-start\">\n                <HStack spacing={4}>\n                  <Avatar size=\"sm\" name={email} />\n                  <Box ml={4}>\n                    <VStack>\n                      <Text fontSize=\"lg\">{email}</Text>\n                    </VStack>\n                  </Box>\n                </HStack>\n              </VStack>\n            ) : (\n              \"Utilisateur non connecté\"\n            )}\n          </div>\n        </div>\n      </Page>\n    </SinglePageLayout>\n  )\n}\n\nexport default MonProfil\n","import React from \"react\"\nimport { Box, Text } from \"@chakra-ui/layout\"\nimport { Form } from \"react-final-form\"\nimport { z } from \"zod\"\n\nimport { SinglePageLayout } from \"../containers/SinglePageLayout\"\nimport { useTitle, useToastMessage } from \"../utils/hooks\"\nimport { sendValidationEmail } from \"../utils/api\"\nimport PrimaryButton from \"../components/ds/PrimaryButton\"\nimport Page from \"../components/Page\"\nimport { DebugForm, formValidator, InputControl } from \"../components/ds/form-lib\"\nimport { Redirect, useHistory } from \"react-router\"\nimport { useUser } from \"../components/AuthContext\"\n\nconst title = \"Accéder à mes entreprises et déclarations transmises\"\n\n/**\n * Check if a token is present in the URL bar. If so, run login with it.\n */\nfunction useCheckIfTokenIsInURL() {\n  const { login } = useUser()\n  // const history = useHistory()\n\n  const urlParams = new URLSearchParams(window.location.search)\n\n  const tokenInURL = urlParams.get(\"token\")\n\n  if (tokenInURL) {\n    login(tokenInURL)\n    window.history.pushState({}, document.title, window.location.pathname)\n  }\n\n  // history.push(window.location.pathname) // TODO: this doesn't work because it re renders infinitely\n}\n\nfunction Mire() {\n  useTitle(title)\n\n  const history = useHistory()\n  const { toastSuccess, toastError } = useToastMessage({})\n  const [submitted, setSubmitted] = React.useState(false)\n  const [email, setEmail] = React.useState(\"\")\n  const { isAuthenticated } = useUser()\n\n  useCheckIfTokenIsInURL()\n\n  const onSubmit = (formData: any) => {\n    setEmail(formData.email)\n\n    sendValidationEmail(formData.email)\n      .then(() => {\n        toastSuccess(\"Un mail vous a été envoyé\")\n        setSubmitted(true)\n      })\n      .catch((error: Error) => {\n        console.error(error)\n        toastError(\"Erreur lors de l'envoi de l'email de validation, est-ce que l'email est valide ?\")\n        setSubmitted(false)\n      })\n  }\n  const FormInput = z.object({\n    email: z.string({ required_error: \"L'adresse mail est requise\" }).email({ message: \"L'adresse mail est invalide\" }),\n  })\n\n  if (isAuthenticated) return <Redirect to=\"/tableauDeBord/mes-entreprises\" />\n\n  return (\n    <SinglePageLayout>\n      <Page title={title}>\n        {submitted ? (\n          <Box>\n            <Text as=\"p\" mb=\"4\">\n              Un mail vous a été envoyé.\n            </Text>\n            <Text as=\"p\" mb=\"4\">\n              Si vous ne recevez pas ce mail sous peu, il se peut que l'email saisie (<strong>{email}</strong>) soit\n              incorrect, ou bien que le mail ait été déplacé dans votre dossier de courriers indésirables ou dans le\n              dossier SPAM.\n            </Text>\n            <Text as=\"p\" mb=\"4\">\n              En cas d'échec, la procédure devra être reprise avec un autre email.\n            </Text>\n            <PrimaryButton mt={6} onClick={() => history.go(0)}>\n              Réessayer\n            </PrimaryButton>\n          </Box>\n        ) : (\n          <Box>\n            <Box>\n              <Text as=\"p\" mb=\"4\">\n                Veuillez saisir votre email utilisé lors de la déclaration.\n              </Text>\n              <Text as=\"p\" mb=\"4\">\n                Un lien vous sera envoyé pour pouvoir accéder à votre espace. Vous pourrez alors voir les entreprises\n                que vous gérez ainsi que les déclarations déjà transmises.\n              </Text>\n            </Box>\n            <Form\n              onSubmit={onSubmit}\n              validate={formValidator(FormInput)}\n              render={({ handleSubmit, values, submitting, pristine }) => (\n                <form onSubmit={handleSubmit}>\n                  <InputControl name=\"email\" label=\"Courriel\" />\n\n                  <DebugForm show={false} values={values} />\n\n                  <PrimaryButton type=\"submit\" disabled={submitting || pristine} mt={6}>\n                    Envoyer\n                  </PrimaryButton>\n                </form>\n              )}\n            />\n          </Box>\n        )}\n      </Page>\n    </SinglePageLayout>\n  )\n}\n\nexport default Mire\n","import React from \"react\"\nimport { Flex } from \"@chakra-ui/react\"\n\nimport { Route, Switch, Redirect, RouteProps } from \"react-router-dom\"\n\nimport { AppState, ActionType } from \"../globals\"\n\nimport { useLayoutType } from \"../components/GridContext\"\nimport Header from \"../components/Header\"\n\nimport CGU from \"../views/CGU\"\nimport Home from \"../views/Home\"\nimport MentionsLegales from \"../views/MentionsLegales\"\nimport PolitiqueConfidentialite from \"../views/PolitiqueConfidentialite\"\nimport PageNotFound from \"../views/PageNotFound\"\n\nimport Simulateur from \"./Simulateur\"\nimport MainScrollView from \"./MainScrollView\"\nimport MobileLayout from \"./MobileLayout\"\nimport Accessibilite from \"../views/Accessibilite\"\nimport MesEntreprises from \"../views/private/MesEntreprises\"\nimport MonProfil from \"../views/private/MonProfil\"\nimport Mire from \"../views/Mire\"\nimport { AuthContextProvider, useUser } from \"../components/AuthContext\"\nimport Footer from \"../components/Footer\"\n\ninterface Props {\n  state: AppState | undefined\n  dispatch: (action: ActionType) => void\n}\n\n/**\n * A wrapper for <Route> that redirects to the login screen if you're not yet authenticated.\n */\nfunction PrivateRoute({ children, ...rest }: RouteProps) {\n  const { isAuthenticated } = useUser()\n  return <Route {...rest} render={() => (isAuthenticated ? children : <Redirect to=\"/tableauDeBord/me-connecter\" />)} />\n}\n\nfunction AppLayout({ state, dispatch }: Props) {\n  const layoutType = useLayoutType()\n\n  return (\n    <AuthContextProvider>\n      <Switch>\n        <Route path=\"/tableauDeBord/me-connecter\" exact component={Mire} />\n        <PrivateRoute path=\"/tableauDeBord/mes-entreprises\" exact>\n          <MesEntreprises />\n        </PrivateRoute>\n        <PrivateRoute path=\"/tableauDeBord/mon-profil\" exact>\n          <MonProfil />\n        </PrivateRoute>\n        <Route\n          render={() => {\n            document.title = \"Index Egapro\"\n\n            return layoutType === \"mobile\" ? (\n              <MobileLayout />\n            ) : (\n              <Flex direction=\"column\" sx={{ minHeight: \"100%\" }}>\n                <Header />\n                <MainScrollView state={state}>\n                  <Switch>\n                    <Route path=\"/\" exact render={(props) => <Home {...props} dispatch={dispatch} />} />\n                    <Route\n                      path=\"/simulateur/:code\"\n                      render={({\n                        match: {\n                          params: { code },\n                        },\n                      }) => <Simulateur code={code} state={state} dispatch={dispatch} />}\n                    />\n                    <Route path=\"/mentions-legales\" exact render={() => <MentionsLegales />} />\n                    <Route path=\"/accessibilite\" exact render={() => <Accessibilite />} />\n                    <Route path=\"/cgu\" exact render={() => <CGU />} />\n                    <Route path=\"/politique-confidentialite\" exact render={() => <PolitiqueConfidentialite />} />\n                    <Route component={PageNotFound} />\n                  </Switch>\n                </MainScrollView>\n                <Footer />\n              </Flex>\n            )\n          }}\n        />\n      </Switch>\n    </AuthContextProvider>\n  )\n}\n\nexport default AppLayout\n","/** @jsx jsx */\nimport { css, jsx } from \"@emotion/react\"\nimport { useReducer, useCallback } from \"react\"\nimport { Router } from \"react-router-dom\"\nimport \"@fontsource/gabriela\"\nimport \"@fontsource/cabin\"\nimport ReactPiwik from \"react-piwik\"\nimport { createBrowserHistory } from \"history\"\nimport { ErrorBoundary } from \"react-error-boundary\"\nimport { ChakraProvider } from \"@chakra-ui/react\"\nimport theme from \"./theme\"\nimport { ActionType } from \"./globals\"\nimport AppReducer from \"./AppReducer\"\nimport GridProvider from \"./components/GridContext\"\nimport AppLayout from \"./containers/AppLayout\"\nimport InfoBlock from \"./components/ds/InfoBlock\"\nimport Page from \"./components/Page\"\nimport ActionBar from \"./components/ActionBar\"\nimport ButtonAction from \"./components/ButtonAction\"\n\nfunction ErrorFallback({ error, resetErrorBoundary }: { error: Error; resetErrorBoundary: () => void }) {\n  return (\n    <Page title=\"Quelque chose s'est mal passée... 😕\">\n      <div style={{ color: \"red\", marginBottom: 20 }}>{error.message}</div>\n      <ActionBar>\n        <ButtonAction label=\"retour\" onClick={resetErrorBoundary} />\n      </ActionBar>\n    </Page>\n  )\n}\n\nconst history = createBrowserHistory()\n\nconst piwik: any = new ReactPiwik({\n  url: \"matomo.fabrique.social.gouv.fr\",\n  siteId: 11,\n  trackErrors: true,\n})\n\n// track the initial pageview\nReactPiwik.push([\"trackPageView\"])\n\nfunction App() {\n  const [state, dispatchReducer] = useReducer(AppReducer, undefined)\n\n  const dispatch = useCallback(\n    (action: ActionType) => {\n      if (\n        action.type.startsWith(\"validate\") &&\n        // @ts-ignore\n        action.valid &&\n        // @ts-ignore\n        action.valid === \"Valid\"\n      ) {\n        ReactPiwik.push([\"trackEvent\", \"validateForm\", action.type])\n      }\n      dispatchReducer(action)\n    },\n    [dispatchReducer],\n  )\n\n  return (\n    <ChakraProvider theme={theme}>\n      <ErrorBoundary\n        FallbackComponent={ErrorFallback}\n        onReset={() => {\n          history.goBack()\n        }}\n      >\n        <Router history={piwik.connectToHistory(history)}>\n          <GridProvider>\n            {/* TODO: update the following date and message when there's another announcement */}\n            {new Date() < new Date(\"2020-02-19T14:00:00.000Z\") && (\n              <div css={styles.bannerWrapper}>\n                <InfoBlock\n                  title=\"Interruption de service programmée\"\n                  text=\"Le service sera indisponible le mercredi 19 février à partir de 12h30 pour une durée d'environ 1h30\"\n                  closeButton={true}\n                />\n              </div>\n            )}\n\n            <AppLayout state={state} dispatch={dispatch} />\n          </GridProvider>\n        </Router>\n      </ErrorBoundary>\n    </ChakraProvider>\n  )\n}\n\nconst styles = {\n  bannerWrapper: css({\n    position: \"fixed\",\n    left: 20,\n    bottom: 20,\n    right: 20,\n    zIndex: 1000,\n  }),\n  banner: css({\n    backgroundColor: \"#fff\",\n    margin: \"10px auto\",\n    width: \"70%\",\n  }),\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n)\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void\n  onUpdate?: (registration: ServiceWorkerRegistration) => void\n}\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL((process as { env: { [key: string]: string } }).env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\",\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\",\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\")\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\")\n      if (response.status === 404 || (contentType != null && contentType.indexOf(\"javascript\") === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\"No internet connection found. App is running in offline mode.\")\n    })\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister()\n    })\n  }\n}\n","import \"react-app-polyfill/ie11\"\nimport \"react-app-polyfill/stable\"\nimport React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport * as Sentry from \"@sentry/react\"\nimport App from \"./App\"\nimport * as serviceWorker from \"./serviceWorker\"\n\nif (process.env.REACT_APP_SENTRY_DSN) {\n  Sentry.init({\n    dsn: process.env.REACT_APP_SENTRY_DSN,\n    release: process.env.REACT_APP_VERSION,\n  })\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  import(\"@axe-core/react\").then((axe) => {\n    axe.default(React, ReactDOM, 1000)\n  })\n}\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}